(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3508],{91654:function(e,t,n){"use strict";var a=n(57437),s=n(2265);n(77761);var r=n(27593),i=n(78925);t.Z=e=>{let{chineseList:t,isGianthe:n,isHighlight:c=!1,fontsize:o=""}=e,[l,d]=(0,s.useState)(!1),[A,h]=(0,s.useState)([]),[u,m]=(0,s.useState)(null),[g,x]=(0,s.useState)(null),[p,j]=(0,s.useState)(!1),[v,f]=(0,s.useState)(null),[y,k]=(0,s.useState)(null),w=(0,s.useRef)(null),N=(0,s.useRef)([]),C=async e=>{try{console.log("Chữ được chọn:",e),h([]),m(e),j(!0),d(!0)}catch(e){console.error("Lỗi khi fetch dữ liệu chữ:",e)}};return(0,s.useEffect)(()=>{let e=e=>{w.current&&!w.current.contains(e.target)&&(m(null),j(!1))};return p&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[p]),(0,s.useEffect)(()=>{A.length>0&&setTimeout(()=>{N.current.forEach((e,t)=>{if(e){let n=e.getTotalLength();e.style.strokeDasharray=n,e.style.strokeDashoffset=n,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[A]),(0,a.jsxs)("span",{className:"chinese-text-list",children:[t.split("").map((e,t)=>(0,a.jsx)("span",{className:"tiengtrungText ".concat(o," ").concat(c?"chinese-char":null),onClick:()=>C(e),children:e},t)),(0,a.jsx)(r.Z,{show:l,onClose:()=>d(!1),children:(0,a.jsx)("div",{className:"d-flex  justify-content-center",children:(0,a.jsx)(i.Z,{activeCharacter:u,imageUrl:""})})})]})}},78925:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(57437),s=n(2265),r=n(12808);n(66648);var i=n(89745);n(93444);var c=n(24104),o=n.n(c);function l(e){let{char:t,size:i=400,strokeColor:c="#000",mode:l="animate"}=e,[d,A]=(0,s.useState)(!1),h=(0,s.useRef)(null),u=(0,s.useRef)(null),[m,g]=(0,s.useState)(i);(0,s.useEffect)(()=>{let e=()=>{window.matchMedia("(max-width: 768px)").matches?g(200):g(i)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[i]);let x=async()=>{if(!h.current||!t)return;let e=(await n.e(6223).then(n.bind(n,16223))).default;h.current.innerHTML="",u.current=e.create(h.current,t,{width:m,height:m,padding:20,strokeColor:c,showOutline:!0,showCharacter:!1,strokeAnimationSpeed:1,delayBetweenStrokes:300}),"quiz"===l?u.current.quiz():u.current.animateCharacter()};return(0,s.useEffect)(()=>{x()},[t,m,c,l,d]),(0,a.jsx)("div",{className:"d-inline-block position-relative",children:(0,a.jsxs)("div",{className:"border border-success ".concat(o().hanziGrid),style:{width:m,height:m},children:[(0,a.jsx)(r.Z,{variant:"primary",onClick:()=>A(!d),className:"submitButton",style:{position:"absolute",top:10,right:10,padding:"5px 10px",fontSize:"14px",zIndex:10},children:(0,a.jsx)("i",{class:"fa-solid fa-repeat"})}),(0,a.jsx)("div",{className:"".concat(o().gridLine," ").concat(o().vertical)}),(0,a.jsx)("div",{className:"".concat(o().gridLine," ").concat(o().horizontal)}),(0,a.jsx)("div",{className:"".concat(o().gridLine," ").concat(o().diagonal," ").concat(o().diag1)}),(0,a.jsx)("div",{className:"".concat(o().gridLine," ").concat(o().diagonal," ").concat(o().diag2)}),(0,a.jsx)("div",{className:"".concat(o().gridLine," ").concat(o().diagonal," ").concat(o().diag3)}),(0,a.jsx)("div",{className:"".concat(o().gridLine," ").concat(o().diagonal," ").concat(o().diag4)}),(0,a.jsx)("div",{ref:h,className:o().writer})]})})}n(28786);var d=e=>{let{activeCharacter:t,imageUrl:n}=e,[c,o]=(0,s.useState)(n);return(0,a.jsx)("div",{className:"d-flex  justify-content-center",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"HanziImgContainer mb-3",children:[(0,a.jsxs)("h2",{children:["Viết chữ: ",t]}),(0,a.jsx)(r.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,i.Z)(t,-2),children:"\uD83D\uDD0A"})]}),(0,a.jsx)(l,{char:t})]})})}},69937:function(e,t,n){"use strict";var a=n(57437);n(2265);var s=n(12808);n(66648);var r=n(89745),i=n(93444);t.Z=e=>{let{activeCharacter:t,strokes:n,pathsRef:c}=e,o=()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e};return(0,a.jsxs)("div",{className:"col-md-6 col-12",children:[(0,a.jsxs)("div",{className:"HanziImgContainer ",children:[(0,a.jsxs)("h2",{children:["Viết chữ: ",t]}),(0,a.jsx)(s.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,r.Z)(t,-2),children:"\uD83D\uDD0A"})]}),(0,a.jsxs)("div",{className:"HanziImgContainer_Image mt-3",children:[(0,a.jsx)("div",{className:"HanziImgContainer_ImageSrc",children:(0,a.jsxs)("div",{className:"HanziImgContainer_ImageSvg",children:[(0,a.jsx)("svg",{className:"HanziImgContainer_Svg450 strokeGuide",viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("g",{transform:"translate(0, 890) scale(1, -1)",children:n.map((e,t)=>(0,a.jsx)("path",{d:e,fill:"none",stroke:"black",strokeOpacity:"0.2",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"},t))})}),(0,a.jsx)("svg",{className:"HanziImgContainer_Svg450 strokeAnimation",viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",style:{color:"#333"},children:(0,a.jsx)("g",{transform:"translate(0, 890) scale(1, -1)",children:n.map((e,t)=>(0,a.jsx)("path",{ref:e=>c.current[t]=e,d:e,fill:"none",stroke:o(),strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"miter",style:{strokeDasharray:"0",strokeDashoffset:"0",color:"#333",backgroundColor:"#555"}},t))})})]})}),(0,a.jsx)(i.Z,{})]})]})}},77761:function(e,t,n){"use strict";var a=n(57437);n(2265);var s=n(78925),r=n(69937);n(31243),n(93444),t.Z=e=>{let{isGianthe:t,showStrokeArea:n,activeCharacter:i,strokes:c,pathsRef:o,isShowImage:l,dataTranslate:d,dataWrite:A,strokeAreaRef:h}=e;if(!l||!i)return null;let u="https://tiengtrungdongyang.com/huongdanviet/".concat(i.charCodeAt(0),".svg");return(0,a.jsxs)("div",{className:"strokeAreaOverlay",children:[console.log(i),(0,a.jsx)("div",{className:"strokeArea",ref:h,children:(0,a.jsx)("div",{className:"row",children:l?(0,a.jsx)(s.Z,{activeCharacter:i,imageUrl:u}):c&&(0,a.jsx)(r.Z,{activeCharacter:i,strokes:c,pathsRef:o})})})]})}},89745:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});let a=null,s=-1,r=!1,i=async e=>{console.log(e);for(let t=0;t<e.length;t++)await c(e[t],t),await o(1e3)},c=(e,t)=>new Promise(t=>{speechSynthesis.speaking&&speechSynthesis.cancel();let n=new SpeechSynthesisUtterance(e);n.lang="zh-CN",n.rate=.7,n.onend=()=>{t()},speechSynthesis.speak(n)}),o=e=>new Promise(t=>setTimeout(t,e));t.Z=(e,t)=>{if(speechSynthesis.speaking&&s!==t&&speechSynthesis.cancel(),s===t){speechSynthesis.speaking&&r?(speechSynthesis.pause(),console.log("pause"),r=!1):(speechSynthesis.resume(),console.log("resume"),r=!0);return}r=!0,(a=new SpeechSynthesisUtterance(e)).lang="zh-CN",a.rate=.7,speechSynthesis.speak(a),s=t,a.onend=()=>{s=-1}}},93444:function(e,t,n){"use strict";var a=n(57437),s=n(2265);class r extends s.Component{render(){return(0,a.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},viewBox:"0 0 500 500",preserveAspectRatio:"none",children:[(0,a.jsx)("rect",{x:"0",y:"0",width:"500",height:"500",fill:"none",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"250",y1:"0",x2:"250",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"0",y1:"250",x2:"500",y2:"250",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"0",y1:"0",x2:"500",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"500",y1:"0",x2:"0",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"})]})}}t.Z=r},27593:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(57437);n(2265);var s=n(54887);function r(e){let{show:t,children:n,onClose:r}=e;return t?s.createPortal((0,a.jsx)("div",{className:"overlay-container d-flex align-items-center justify-content-center",onClick:()=>{r()},children:(0,a.jsxs)("div",{className:"overlay-content position-relative bg-white rounded p-3 shadow",onClick:e=>{e.stopPropagation()},children:[(0,a.jsx)("button",{className:"btn-close position-absolute top-0 end-0 m-2",onClick:r}),(0,a.jsx)("div",{className:"overlay-scroll",children:n})]})}),document.body):null}n(24075)},23508:function(e,t,n){"use strict";n.d(t,{FF:function(){return g},GJ:function(){return f},Gv:function(){return m},LA:function(){return u},PA:function(){return x},Pw:function(){return j},V2:function(){return p},bg:function(){return y},o0:function(){return A},sq:function(){return k},xb:function(){return h},yI:function(){return v}});var a=n(57437),s=n(9782),r=n(31213),i=n(2265),c=n(45749),o=n(66648),l=n(38472),d=n(91654);let A=e=>{if(!e)return"";try{let t=new Date(e);return(0,s.WU)(t,"h:mm a, dd 'Th\xe1ng' MM, yyyy",{locale:r.vi})}catch(t){return console.error("Invalid date format:",e),e}};function h(e){return(0,a.jsxs)("div",{className:"itemCard-container-dashboardView",children:[(0,a.jsxs)("div",{className:"itemCard-UserName itemcard-UserName-sticky",children:[(0,a.jsxs)("div",{className:"itemCard-UserName-1",children:[(0,a.jsx)(o.default,{src:e.imgUser?e.imgUser:c.Z,alt:"img",width:30,height:30}),(0,a.jsxs)("div",{className:"itemCard-UserName-container",children:[(0,a.jsx)("h4",{className:"username-card",children:e.username}),(0,a.jsx)("p",{style:{margin:"0"},children:A(e.dateTime)})]})]}),(()=>{let t=localStorage.getItem("name");return e.username==t?(0,a.jsx)("div",{className:"itemCard-UserName-1",children:(0,a.jsx)("button",{className:"btn btn-options",onClick:e.removeClick,style:{padding:"0",margin:"0"},children:(0,a.jsx)("i",{className:"fa-solid fa-trash"})})}):null})()]}),(0,a.jsx)("div",{className:"itemCard-baiDich",children:e.baidich})]})}let u=(e,t)=>e?e.split(RegExp("(".concat(t,")"),"gi")).map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,a.jsx)("span",{style:{color:"red"},children:e},n):e.split("\n").map((e,t,n)=>t===n.length-1?e:(0,a.jsxs)(i.Fragment,{children:[e,(0,a.jsx)("br",{})]},t))):null,m=(e,t)=>{if(!e||!t||0===t.length)return null;let n=RegExp("(".concat(t.join("|"),")"),"gi");return e.split(n).map((e,n)=>t.some(t=>t.toLowerCase()===e.toLowerCase())?(0,a.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:(0,a.jsx)(d.Z,{chineseList:e,isGianthe:!0})},n):(0,a.jsx)(i.Fragment,{children:e.split("\n").map((e,t,s)=>(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(d.Z,{chineseList:e,isGianthe:!0}),t<s.length-1&&(0,a.jsx)("br",{})]},"".concat(n,"-").concat(t)))},n))},g=async e=>{try{let t=await l.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=vi&tl=en&q=".concat(encodeURIComponent(e)));if(t.data)return t.data.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},x=async e=>{try{let t=await l.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(e)));if(t.data)return t.data.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},p=async e=>{try{let t=await l.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-TW&tl=vi&q=".concat(encodeURIComponent(e)));if(t.data)return t.data;return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},j=e=>e&&e.includes("hocdichchuhan.github.io")?e.replace("hocdichchuhan.github.io","tiengtrungdongyang.com"):e,v=async e=>{let t=encodeURIComponent(e),n=await l.Z.get("https://api.hanzii.net/api/search/vi/".concat(t,"?type=word&page=1&limit=2"));return n.data.found?n.data:null},f=()=>{let e=k();return!!e&&"sDHYFpe6CMazPbsZ0mzSyY8d5Ev1"==e},y=()=>!!k(),k=()=>{let e=JSON.parse(localStorage.getItem("userLogin"));return null==e?void 0:e.uid}},31243:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(57437),s=n(2265),r=n(12808),i=n(38472),c=n(89745);function o(e){let{word:t,dataWrite:n,dataTranslate:o,isGianthe:l}=e,[d,A]=(0,s.useState)({}),h=o.result,u=n.result[0];(0,s.useEffect)(()=>{},[l]);let m=(e,t)=>e.split(RegExp("(".concat(t,")"),"gi")).map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,a.jsx)("span",{style:{color:"red"},children:e},n):e),g=async e=>{try{let t=await i.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(e)));if(t.data)return t.data.sentences[0].trans;return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},x=async(e,t)=>{var n="";console.log(l),n=l?e:await g(e),A(e=>({...e,[t]:n}))};return((0,s.useEffect)(()=>{var e;h&&(null===(e=h[0])||void 0===e?void 0:e.content)&&h[0].content.forEach((e,t)=>{(null==e?void 0:e.means)&&e.means.forEach((e,n)=>{e.examples&&e.examples.forEach((e,a)=>{let s="".concat(t,"-").concat(n,"-").concat(a);x(e.e,s)})})})},[h,l]),n&&o)?(0,a.jsx)("div",{className:"tumoi-item",children:(0,a.jsx)("div",{className:"tumoi-display",children:h.map((e,n)=>(0,a.jsxs)("div",{className:"tumoi-result-item",children:[(0,a.jsxs)("div",{className:"tumoi-display-header",children:[console.log(e),(0,a.jsxs)("h4",{children:[e.word," 【",e.cn_vi,"】(",e.pinyin,") Bộ thủ: (",u.sets,") H\xecnh th\xe1i: (",u.hinhthai,")"]})]}),e.content.map((e,s)=>e.means.map((e,i)=>{let o=e.examples?e.examples:null,l=e.mean,A="".concat(n,"-").concat(s,"-").concat(i);return(0,a.jsxs)("div",{className:"tumoi-nghia",children:[(0,a.jsxs)("h4",{className:"tumoi-nghia-shower",children:["Nghĩa ",i+1," (Phần ",s+1,", Từ ",n+1,"): ",l]}),o&&o.map((e,o)=>{let l=e.e,A=e.m,h=e.p,u=d["".concat(n,"-").concat(s,"-").concat(i,"-").concat(o)]||l;return(0,a.jsxs)("div",{className:"tumoi-vidu",children:[(0,a.jsxs)("h5",{children:["V\xed dụ ",o+1]}),(0,a.jsx)("span",{children:m(u,t)}),(0,a.jsx)(r.Z,{className:"btn-phatamthanh",style:{maxWidth:"50px",maxHeight:"50px"},variant:"danger",onClick:()=>(0,c.Z)(l,o),children:"\uD83D\uDD0A"}),(0,a.jsx)("p",{children:h}),(0,a.jsx)("p",{children:A})]},o)}),(0,a.jsx)("hr",{})]},A)}))]},n))})}):null}},28786:function(){},24075:function(){},24104:function(e){e.exports={hanziGrid:"HanziWriter_hanziGrid__bPU2K",gridLine:"HanziWriter_gridLine__b0WK_",vertical:"HanziWriter_vertical__OUfGj",horizontal:"HanziWriter_horizontal__Ts8lK",diagonal:"HanziWriter_diagonal__Y9jp2",diag1:"HanziWriter_diag1___CTbV",diag2:"HanziWriter_diag2__UP5P1",diag3:"HanziWriter_diag3__TzU7H",diag4:"HanziWriter_diag4__B5whY",writer:"HanziWriter_writer__oY4j_",resetBtn:"HanziWriter_resetBtn__hjxvc"}},45749:function(e,t){"use strict";t.Z={src:"/_next/static/media/user.f64324c2.jpg",height:200,width:200,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAG0E//EABUQAQEAAAAAAAAAAAAAAAAAABMk/9oACAEBAAEFAlo//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwF//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPwF//8QAGBAAAgMAAAAAAAAAAAAAAAAAABIxQWH/2gAIAQEABj8CRqjT/8QAGBAAAgMAAAAAAAAAAAAAAAAAESEAMbH/2gAIAQEAAT8hGkETU//aAAwDAQACAAMAAAAQ+//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABgQAAIDAAAAAAAAAAAAAAAAAAARQZGh/9oACAEBAAE/ELbi5YP/2Q==",blurWidth:8,blurHeight:8}}}]);