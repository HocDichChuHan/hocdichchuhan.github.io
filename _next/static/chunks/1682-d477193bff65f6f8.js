"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1682],{87497:function(e,t,s){var a=s(57437),n=s(2265),i=s(12808),r=s(66648),c=s(89745);t.Z=e=>{let{activeCharacter:t,imageUrl:s}=e,[o,l]=(0,n.useState)(s);return(0,a.jsxs)("div",{className:"col-md-6 col-12",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,a.jsxs)("h2",{children:["Viết chữ: ",t]}),(0,a.jsx)(i.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,c.Z)(t,-2),children:"\uD83D\uDD0A"})]}),(0,a.jsxs)("div",{style:{position:"relative",width:"500px",height:"500px"},children:[(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"500px",height:"500px"},children:(0,a.jsx)(r.default,{className:"image-hanzi",src:o,width:500,height:500,alt:"Hanzi Character"})}),(0,a.jsx)(i.Z,{variant:"primary",onClick:()=>{l("".concat(s,"?t=").concat(new Date().getTime()))},style:{position:"absolute",top:10,right:10,padding:"5px 10px",fontSize:"14px",zIndex:10},children:"\uD83D\uDD04"}),(0,a.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},viewBox:"0 0 500 500",preserveAspectRatio:"none",children:[(0,a.jsx)("rect",{x:"0",y:"0",width:"500",height:"500",fill:"none",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"250",y1:"0",x2:"250",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"0",y1:"250",x2:"500",y2:"250",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"0",y1:"0",x2:"500",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"500",y1:"0",x2:"0",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"})]})]})]})}},69937:function(e,t,s){var a=s(57437);s(2265);var n=s(12808);s(66648);var i=s(89745);t.Z=e=>{let{activeCharacter:t,strokes:s,pathsRef:r}=e;return(0,a.jsxs)("div",{className:"col-md-6 col-12",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,a.jsxs)("h2",{children:["Viết chữ: ",t]}),(0,a.jsx)(n.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,i.Z)(t,-2),children:"\uD83D\uDD0A"})]}),(0,a.jsxs)("div",{style:{position:"relative",alignItems:"center",justifyContent:"center",width:"500px",height:"500px"},children:[(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"500px",height:"500px"},children:(0,a.jsxs)("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:"450px",height:"450px"},children:[(0,a.jsx)("svg",{width:"450",height:"450",viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",className:"strokeGuide",children:(0,a.jsx)("g",{transform:"translate(0, 800) scale(1, -1)",children:s.map((e,t)=>(0,a.jsx)("path",{d:e,fill:"none",stroke:"black",strokeOpacity:"0.2",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"},t))})}),(0,a.jsx)("svg",{width:"450",height:"450",viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",className:"strokeAnimation",children:(0,a.jsx)("g",{transform:"translate(0, 800) scale(1, -1)",children:s.map((e,t)=>(0,a.jsx)("path",{ref:e=>r.current[t]=e,d:e,fill:"none",stroke:"black",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:"0",strokeDashoffset:"0"}},t))})})]})}),(0,a.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},viewBox:"0 0 500 500",preserveAspectRatio:"none",children:[(0,a.jsx)("rect",{x:"0",y:"0",width:"500",height:"500",fill:"none",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"250",y1:"0",x2:"250",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"0",y1:"250",x2:"500",y2:"250",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"0",y1:"0",x2:"500",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"500",y1:"0",x2:"0",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"})]})]})]})}},21682:function(e,t,s){var a=s(57437),n=s(2265),i=s(12808),r=s(23508),c=s(89745),o=s(77761),l=s(38472);t.Z=e=>{let{nguphaps:t,isGianthe:s}=e,[h,d]=(0,n.useState)(!1),[p,u]=(0,n.useState)([]),x=(0,n.useRef)([]),[g,k]=(0,n.useState)(null),[m,y]=(0,n.useState)(!1),[j,v]=(0,n.useState)(),[f,w]=(0,n.useState)(),N=(0,n.useRef)(null),[D,C]=(0,n.useState)({}),b=async e=>{try{u([]),k(e),y(!0),await S(e);let t="https://hocdichchuhan.github.io/huongdanviet/".concat(e.charCodeAt(0),".svg"),s=await Z(t),a=await l.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!a.data.found)throw Error("Network response was not ok");let n=await l.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=word&page=1&limit=50"));if(!n.data.found)throw Error("Network response was not ok");v(a.data),w(n.data),d(s)}catch(e){console.error("Error fetching Hanzi data:",e)}},S=async e=>{try{let t=await fetch("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!t.ok)throw Error("Network response was not ok");let s=await t.json();if(console.log(s),s.found&&s.result.length>0){let e=JSON.parse(s.result[0].strokes);u(e.strokes)}}catch(e){console.error("Error fetching Hanzi data:",e)}};(0,n.useEffect)(()=>{let e=e=>{N.current&&!N.current.contains(e.target)&&(k(null),y(!1))};return m&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[m]),(0,n.useEffect)(()=>{p.length>0&&setTimeout(()=>{x.current.forEach((e,t)=>{if(e){let s=e.getTotalLength();e.style.strokeDasharray=s,e.style.strokeDashoffset=s,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[p]);let Z=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch(e){return console.error("Lỗi khi kiểm tra đường dẫn:",e),!1}},A=(e,t,s)=>{let a="".concat(e,"_").concat(t,"_").concat(s);C(e=>({...e,[a]:!e[a]}))};return t&&0!==t.length?t.map((e,t)=>(0,a.jsxs)("div",{className:"nguphapshow-container",children:[g&&(0,a.jsx)(o.Z,{isGianthe:s,showStrokeArea:m,activeCharacter:g,strokes:p,pathsRef:x,isShowImage:h,dataTranslate:f,dataWrite:j,strokeAreaRef:N}),(0,a.jsxs)("h3",{children:[(0,r.LA)(e.tieude,e.key)," ",(0,r.LA)(e.keygianthe,"Giản Thể: "+(e.keygianthe||""))]}),e.cachdung&&e.cachdung.map((n,o)=>(0,a.jsx)("div",{className:"card border-primary",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("h4",{className:"card-title",children:["C\xe1ch d\xf9ng ",e.cachdung.length>1&&o+1,":"]}),(0,a.jsx)("h5",{children:(0,r.LA)(n.noidung,e.key)}),(0,a.jsx)("hr",{}),n.vidu.map((n,l)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"nguphapViduContainer d-flex justify-content-between align-items-center",children:(0,a.jsx)(i.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,c.Z)(n.tiengtrung,l+200),children:"\uD83D\uDD0A"})}),(0,a.jsxs)("div",{className:"nguphapVidu chinese-word",children:[!s&&n.tiengtrung&&n.tiengtrung.split("").map((t,s)=>(0,a.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>b(t),children:(0,r.LA)(t||"",e.key)},s)),s&&n.gianthe&&n.gianthe.split("").map((t,s)=>(0,a.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>b(t),children:(0,r.LA)(t||"",e.keygianthe)},s))]}),(0,a.jsx)("p",{children:n.pinyin||""}),D["".concat(t,"_").concat(o,"_").concat(l)]&&(0,a.jsx)("p",{children:n.nghia||""}),(0,a.jsx)(i.Z,{variant:D["".concat(t,"_").concat(o,"_").concat(l)]?"primary":"secondary",onClick:()=>A(t,o,l),children:D["".concat(t,"_").concat(o,"_").concat(l)]?"Ẩn nghĩa":"Hiện nghĩa"}),(0,a.jsx)("hr",{})]},l))]})},o))]},t)):null}},77761:function(e,t,s){var a=s(57437);s(2265);var n=s(87497),i=s(69937),r=s(31243);t.Z=e=>{let{isGianthe:t,showStrokeArea:s,activeCharacter:c,strokes:o,pathsRef:l,isShowImage:h,dataTranslate:d,dataWrite:p,strokeAreaRef:u}=e;if(!s||!c)return null;let x="https://hocdichchuhan.github.io/huongdanviet/".concat(c.charCodeAt(0),".svg");return(0,a.jsxs)("div",{className:"strokeAreaOverlay",children:[console.log(c),(0,a.jsx)("div",{className:"strokeArea",ref:u,children:(0,a.jsxs)("div",{className:"row",children:[h?(0,a.jsx)(n.Z,{activeCharacter:c,imageUrl:x}):o&&(0,a.jsx)(i.Z,{activeCharacter:c,strokes:o,pathsRef:l}),(0,a.jsx)("div",{className:"col-md-6 col-12",children:(0,a.jsx)("div",{className:"view-nghiacuatu",children:d&&(0,a.jsx)(r.Z,{word:c,dataWrite:p,dataTranslate:d,isGianthe:t})})})]})})]})}},89745:function(e,t,s){s.d(t,{M:function(){return r}});let a=null,n=-1,i=!1,r=async e=>{console.log(e);for(let t=0;t<e.length;t++)await c(e[t],t),await o(1e3)},c=(e,t)=>new Promise(t=>{speechSynthesis.speaking&&speechSynthesis.cancel();let s=new SpeechSynthesisUtterance(e);s.lang="zh-CN",s.rate=.7,s.onend=()=>{t()},speechSynthesis.speak(s)}),o=e=>new Promise(t=>setTimeout(t,e));t.Z=(e,t)=>{if(speechSynthesis.speaking&&n!==t&&speechSynthesis.cancel(),n===t){speechSynthesis.speaking&&i?(speechSynthesis.pause(),console.log("pause"),i=!1):(speechSynthesis.resume(),console.log("resume"),i=!0);return}i=!0,(a=new SpeechSynthesisUtterance(e)).lang="zh-CN",a.rate=.7,speechSynthesis.speak(a),n=t,a.onend=()=>{n=-1}}},31243:function(e,t,s){s.d(t,{Z:function(){return o}});var a=s(57437),n=s(2265),i=s(12808),r=s(38472),c=s(89745);function o(e){let{word:t,dataWrite:s,dataTranslate:o,isGianthe:l}=e,[h,d]=(0,n.useState)({}),p=o.result,u=s.result[0];(0,n.useEffect)(()=>{},[l]);let x=(e,t)=>e.split(RegExp("(".concat(t,")"),"gi")).map((e,s)=>e.toLowerCase()===t.toLowerCase()?(0,a.jsx)("span",{style:{color:"red"},children:e},s):e),g=async e=>{try{let t=await r.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(e)));if(t.data)return t.data.sentences[0].trans;return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},k=async(e,t)=>{var s="";console.log(l),s=l?e:await g(e),d(e=>({...e,[t]:s}))};return((0,n.useEffect)(()=>{var e;p&&(null===(e=p[0])||void 0===e?void 0:e.content)&&p[0].content.forEach((e,t)=>{(null==e?void 0:e.means)&&e.means.forEach((e,s)=>{e.examples&&e.examples.forEach((e,a)=>{let n="".concat(t,"-").concat(s,"-").concat(a);k(e.e,n)})})})},[p,l]),s&&o)?(0,a.jsx)("div",{className:"tumoi-item",children:(0,a.jsx)("div",{className:"tumoi-display",children:p.map((e,s)=>(0,a.jsxs)("div",{className:"tumoi-result-item",children:[(0,a.jsx)("div",{className:"tumoi-display-header",children:(0,a.jsxs)("h4",{children:[t," 【",e.cn_vi,"】(",e.pinyin,") Bộ thủ: (",u.sets,") H\xecnh th\xe1i: (",u.hinhthai,")"]})}),e.content.map((e,n)=>e.means.map((e,r)=>{let o=e.examples?e.examples:null,l=e.mean,d="".concat(s,"-").concat(n,"-").concat(r);return(0,a.jsxs)("div",{className:"tumoi-nghia",children:[(0,a.jsxs)("h4",{className:"tumoi-nghia-shower",children:["Nghĩa ",r+1," (Phần ",n+1,", Từ ",s+1,"): ",l]}),o&&o.map((e,o)=>{let l=e.e,d=e.m,p=e.p,u=h["".concat(s,"-").concat(n,"-").concat(r,"-").concat(o)]||l;return(0,a.jsxs)("div",{className:"tumoi-vidu",children:[(0,a.jsxs)("h5",{children:["V\xed dụ ",o+1]}),(0,a.jsx)("span",{children:x(u,t)}),(0,a.jsx)(i.Z,{className:"btn-phatamthanh",style:{maxWidth:"50px",maxHeight:"50px"},variant:"danger",onClick:()=>(0,c.Z)(l,o),children:"\uD83D\uDD0A"}),(0,a.jsx)("p",{children:p}),(0,a.jsx)("p",{children:d})]},o)}),(0,a.jsx)("hr",{})]},d)}))]},s))})}):null}}}]);