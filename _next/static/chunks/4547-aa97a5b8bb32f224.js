"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4547],{62258:function(i,t,a){var e=a(57437);a(2265),t.Z=function(i){return(0,e.jsxs)("div",{className:"form-group dichthuat-formInput",children:[(0,e.jsx)("label",{htmlFor:"",children:i.title}),(0,e.jsx)("input",{type:"text",className:"form-control",name:i.name,id:"","aria-describedby":"helpId",placeholder:i.placeHolder,onChange:i.onChangeHandle,value:i.value,defaultValue:i.defaultValue})]})}},58833:function(i,t,a){var e=a(57437),n=a(2265),s=a(66648);let h=(0,n.memo)(i=>(0,e.jsxs)("div",{className:"itemCard-container",onClick:i.cardClick,onMouseEnter:i.cardClick,children:[(0,e.jsxs)("div",{className:"itemCard-title",children:[(0,e.jsx)("div",{className:"itemCard-img-des"}),(0,e.jsx)(l,{link:i.videoLink})]}),(0,e.jsxs)("div",{className:"itemCard-content",children:[(0,e.jsx)("h3",{className:"itemCard-content-title",children:i.title}),(0,e.jsx)("h4",{className:"itemCard-content-description",children:i.tieudeTiengTrung}),(0,e.jsx)("div",{className:"itemCard-content-author",children:(0,e.jsxs)("div",{className:"itemCard-content-author-container",children:[(0,e.jsx)(s.default,{src:i.imgAuthor||"https://yt3.googleusercontent.com/ytc/AIdro_nevnvE7nYPdcdQLMZgoxJsx1g62U2soHKg3PAG3rQE0g=s160-c-k-c0x00ffffff-no-rj",alt:"img",width:50,height:50}),(0,e.jsx)("a",{href:i.webLink,target:"_blank",rel:"noreferrer",children:(0,e.jsx)("h4",{children:i.author})})]})})]})]}));function l(i){return(0,e.jsx)(n.Suspense,{fallback:(0,e.jsx)("div",{children:"Loading..."}),children:(0,e.jsx)("iframe",{ref:i.iframeRef,height:i.height,src:i.link,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})}h.displayName="ItemCardYoutube",t.Z=h},91795:function(i,t,a){var e=a(57437),n=a(2265),s=a(62258),h=a(12808),l=a(64379),c=a.n(l),o=a(65606),r=a(19768),d=a(38472);class u extends n.Component{componentDidMount(){this.loadLocalData()}render(){return(0,e.jsxs)("div",{className:"col-6",children:[this.state.error&&(0,e.jsxs)("div",{className:"dichthuat-showError",children:['Lỗi: "',this.state.error.message,'"']}),(0,e.jsx)(h.Z,{className:this.props.flagLogin?"button-css":"button-css disable",disabled:!this.props.flagLogin,variant:"info",onClick:this.updateTumoi,children:"Tạo từ mới"}),(0,e.jsx)(h.Z,{variant:"danger",onClick:this.Search,children:"Search"}),(0,e.jsx)(s.Z,{title:"Từ mới",name:"tumoi",placeHolder:"Nhập từ mới",value:this.state.tumoi,onChangeHandle:i=>this.onChangeHandleTuMoi(i,"tumoi")}),(0,e.jsx)(s.Z,{title:"\xc2m H\xe1n Việt",name:"hanviet",placeHolder:"Nhập \xe2m H\xe1n Việt",value:this.state.hanviet,onChangeHandle:i=>this.onChangeHandleTuMoi(i,"hanviet")}),(0,e.jsx)(s.Z,{title:"Pinyin",name:"pinyin",placeHolder:"Nhập pinyin",value:this.state.pinyin,onChangeHandle:i=>this.onChangeHandleTuMoi(i,"pinyin")}),this.state.nghiaList.map((i,t)=>(0,e.jsxs)("div",{className:"nghiaCuaTu card border-primary",children:[(0,e.jsxs)("div",{className:"card-body",children:[(0,e.jsx)(s.Z,{title:"Nghĩa ".concat(t+1),name:"nghia",placeHolder:"Nhập nghĩa của từ",value:i.nghia,onChangeHandle:i=>this.onChangeHandle(i,"nghia",t)}),i.vidus.map((i,a)=>(0,e.jsx)("div",{className:"viduCuaTu card border-primary",children:(0,e.jsxs)("div",{className:"card-body",children:[(0,e.jsx)(s.Z,{title:"V\xed dụ ".concat(a+1),name:"vidu",placeHolder:"Nhập V\xed dụ",value:i.vidu,onChangeHandle:i=>this.onChangeHandle(i,"vidu",t,a)}),(0,e.jsx)(s.Z,{title:"\xdd nghĩa v\xed dụ ".concat(a+1),name:"nghiaVidu",placeHolder:"Nhập nghĩa của v\xed dụ",value:i.nghiaVidu,onChangeHandle:i=>this.onChangeHandle(i,"nghiaVidu",t,a)}),(0,e.jsx)(s.Z,{title:"pinyin v\xed dụ ".concat(a+1),name:"pinyinVidu",placeHolder:"Nhập nghĩa của v\xed dụ",value:i.pinyinVidu,onChangeHandle:i=>this.onChangeHandle(i,"pinyinVidu",t,a)}),(0,e.jsx)(h.Z,{variant:"warning",onClick:()=>this.removeVidu(t,a),children:"X\xf3a v\xed dụ n\xe0y"})]})},a)),(0,e.jsx)(h.Z,{variant:"info",onClick:()=>this.addVidu(t),children:"Th\xeam v\xed dụ kh\xe1c"})]}),(0,e.jsx)(h.Z,{variant:"danger",onClick:()=>this.removeNghia(t),children:"X\xf3a nghĩa"})]},t)),(0,e.jsx)(h.Z,{variant:"info",onClick:this.addNghia,style:{width:"100%"},children:"Th\xeam nghĩa kh\xe1c"}),this.state.loading?(0,e.jsx)(r.Z,{}):null]})}constructor(i){super(i),this.onChangeHandleTuMoi=(i,t)=>{this.setState({[t]:i.target.value})},this.getExistValue=async i=>{try{let[i]=await Promise.all([(0,o.eO)("".concat(slug))]);return console.log(i),i}catch(i){console.error("Error fetching existing values:",i)}},this.onChangeHandle=(i,t,a,e)=>{let n=this.state.nghiaList.slice();void 0!==e?n[a].vidus[e][t]=i.target.value:n[a][t]=i.target.value,this.setState({nghiaList:n})},this.updateTumoi=async()=>{this.setState({loading:!0});let{tumoi:i,tumoiDashboardPath:t,tumoiFbPath:a,userTuMoiPath:e,nghiaList:n,hanviet:s,pinyin:h}=this.state;try{if(!this.isNhapDayDuText())return;await this.updateTumoiAtPath(e,i,n,s,h),await this.updateTumoiAtPath(a,i,n,s,h),await this.updateTumoiAtPath(t,i,n,s,h),c().fire("Tạo từ mới th\xe0nh c\xf4ng","","success"),this.setState({nav:!0}),this.props.scrollBaidich()}catch(i){console.error("Lỗi tạo từ mới:",i),c().fire("Lỗi tạo từ mới: "+i.message,"","info"),this.setState({error:{message:"Lỗi tạo từ mới: "+i.message}})}finally{this.setState({loading:!1})}},this.updateTumoiAtPath=async(i,t,a,e,n)=>{try{if(e){let a="".concat(i,"/").concat(t,"/hanviet"),s="".concat(i,"/").concat(t,"/pinyin");await (0,o.Pf)(a,e),n&&await (0,o.Pf)(s,n)}for(let e=0;e<a.length;e++){let n=a[e];"".concat(i,"/").concat(t,"/nghia/").concat(e,"/pinyin");let s="".concat(i,"/").concat(t,"/nghia/").concat(e,"/nghia");await (0,o.Pf)(s,n.nghia);for(let a=0;a<n.vidus.length;a++){let s=n.vidus[a],h="".concat(i,"/").concat(t,"/nghia/").concat(e,"/vidu/").concat(a,"/nghia"),l="".concat(i,"/").concat(t,"/nghia/").concat(e,"/vidu/").concat(a,"/pinyin"),c="".concat(i,"/").concat(t,"/nghia/").concat(e,"/vidu/").concat(a,"/vidu");await (0,o.Pf)(h,s.nghiaVidu),await (0,o.Pf)(l,s.pinyinVidu),await (0,o.Pf)(c,s.vidu)}}}catch(t){throw console.error("Lỗi khi cập nhật từ mới tại đường dẫn:",i,t),t}},this.loadLocalData=()=>{let i=this.props.bodich,t=this.props.baidich,a=localStorage.getItem("user"),e="/users/dichthuat/".concat(i,"/listBaihoc/").concat(t),n="/users/tumoi/personal/".concat(a),s="/users/dashboard/".concat(a,"/").concat(t,"/tumoi"),h="".concat(e,"/").concat(a,"/tumoi");this.setState({userTuMoiPath:h,tumoiFbPath:n,tumoiDashboardPath:s})},this.isNhapDayDuText=()=>{let{tumoi:i,nghiaList:t}=this.state;for(let a=0;a<t.length;a++){let e=t[a];if(!i||!e.nghia)return c().fire("Vui l\xf2ng điền đầy đủ th\xf4ng tin v\xe0 thử lại","","info"),this.setState({error:{message:"Vui l\xf2ng điền đầy đủ th\xf4ng tin v\xe0 thử lại"}}),!1;for(let i=0;i<e.vidus.length;i++){let t=e.vidus[i];if(!t.vidu||!t.nghiaVidu)return c().fire("Vui l\xf2ng điền đầy đủ th\xf4ng tin v\xe0 thử lại","","info"),this.setState({error:{message:"Vui l\xf2ng điền đầy đủ th\xf4ng tin v\xe0 thử lại"}}),!1}}return!0},this.isValidDichThuat=i=>!/[.#$[\]]/.test(i),this.addNghia=()=>{this.setState(i=>({nghiaList:[...i.nghiaList,{nghia:"",pinyin:"",vidus:[{vidu:"",nghiaVidu:"",pinyinVidu:""}]}]}))},this.removeNghia=i=>{this.setState(t=>{let a=t.nghiaList.slice();return a.splice(i,1),{nghiaList:a}})},this.addVidu=i=>{let t=this.state.nghiaList.slice();t[i].vidus.push({vidu:"",nghiaVidu:"",pinyinVidu:""}),this.setState({nghiaList:t})},this.removeLastVidu=i=>{let t=this.state.nghiaList.slice();t[i].vidus.length>1&&t[i].vidus.pop(),this.setState({nghiaList:t})},this.removeVidu=(i,t)=>{let a=this.state.nghiaList.slice();a[i].vidus.splice(t,1),this.setState({nghiaList:a})},this.Search=async()=>{let{tumoi:i}=this.state,t=encodeURIComponent(i);try{this.setState({loading:!0});let i=await d.Z.get("https://api.hanzii.net/api/search/vi/".concat(t,"?type=word&page=1&limit=50"));if(i.data.found){let t=i.data.result[0].content,a=[];t.forEach(i=>{a=a.concat(i.means)});let e=i.data.result[0].cn_vi,n=i.data.result[0].pinyin,s=a.map(i=>({nghia:i.mean,vidus:i.examples.map(i=>({vidu:i.e,pinyinVidu:i.p,nghiaVidu:i.m}))}));this.setState({nghiaList:s,hanviet:e,pinyin:n})}}catch(i){console.error("Lỗi khi t\xecm kiếm:",i),c().fire("Lỗi khi t\xecm kiếm: "+i.message,"","info"),this.setState({error:{message:"Lỗi khi t\xecm kiếm: "+i.message}})}finally{this.setState({loading:!1})}},this.state={dichthuat:null,error:null,nav:!1,userTuMoiPath:null,tumoiDashboardPath:null,nghiaList:[{nghia:"",vidus:[{vidu:"",nghiaVidu:"",pinyinVidu:""}]}],loading:!1,tumoi:"",hanviet:""}}}t.Z=u}}]);