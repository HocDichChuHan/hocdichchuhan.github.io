(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4590],{32608:function(e,s,t){"use strict";var n=t(57437),r=t(2265),a=t(12808);t(9339),s.Z=(0,r.forwardRef)((e,s)=>{let{mp3:t,tieude:l,mp3gianthelist:c,mp3tiengtrunglist:i,mp3pinyinlist:o,mp3nghialist:u,mp3timelinelist:d,isShowPinyin:m,isGianthe:h}=e,x=(0,r.useRef)(null),p=(0,r.useRef)(null),[j,f]=(0,r.useState)(!1),[g,N]=(0,r.useState)(0),[v,b]=(0,r.useState)(0),[y,w]=(0,r.useState)(1),[k,T]=(0,r.useState)(-1),[S,Z]=(0,r.useState)(!1);function A(e){if(!e)return 0;let[s,t]=e.split(":").map(Number);return 60*s+t}let C=e=>e?"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat(Math.floor(e%60).toString().padStart(2,"0")):"00:00",H=e=>{let s=parseFloat(e.target.value);w(s),x.current&&(x.current.playbackRate=s)},M=()=>x.current?C(x.current.currentTime):"00:00";return(0,r.useImperativeHandle)(s,()=>({getCurrentTime:M})),(0,r.useEffect)(()=>(p.current=new Audio("https://hocdichchuhan.github.io/mp3/bg/".concat(Math.floor(9*Math.random())+1,".mp3")),p.current.volume=.15,()=>{p.current&&(p.current.pause(),p.current.currentTime=0,p.current=null)}),[t]),(0,n.jsxs)("div",{children:[t&&(0,n.jsxs)("div",{className:"d-flex align-items-center bg-dark text-white p-3 m-2 rounded",children:[(0,n.jsx)(a.Z,{variant:j?"warning":"success",onClick:()=>{x.current&&p.current&&(j?(x.current.pause(),setTimeout(()=>{p.current.pause()},1e3)):(p.current.play(),setTimeout(()=>{x.current.play()},1e3)),f(!j))},className:"me-2",children:j?"⏸":"▶"}),(0,n.jsx)("input",{type:"range",min:"0",max:v||100,value:g,onChange:e=>{if(x.current&&p.current){let s=parseFloat(e.target.value);x.current.currentTime=s,p.current.currentTime=s,N(s)}},className:"form-range w-50 me-2"}),(0,n.jsxs)("span",{className:"me-2",children:[C(g)," / ",C(v)]}),(0,n.jsxs)("select",{value:y.toFixed(1),onChange:()=>H(),className:"form-select form-select-sm me-2",style:{width:"auto"},children:[(0,n.jsx)("option",{value:"0.5",children:"0.5x"}),(0,n.jsx)("option",{value:"0.75",children:"0.75x"}),(0,n.jsx)("option",{value:"1.0",children:"1.0x"}),(0,n.jsx)("option",{value:"1.25",children:"1.25x"}),(0,n.jsx)("option",{value:"1.5",children:"1.5x"}),(0,n.jsx)("option",{value:"1.75",children:"1.75x"}),(0,n.jsx)("option",{value:"2.0",children:"2.0x"})]}),(0,n.jsx)("span",{className:"ms-3",children:"Phụ đề"}),(0,n.jsx)(a.Z,{variant:"outline-success",className:"ms-1",onClick:()=>{Z(!S)},children:S?(0,n.jsx)("i",{class:"fa-solid fa-toggle-on"}):(0,n.jsx)("i",{class:"fa-solid fa-toggle-off"})}),(0,n.jsx)(a.Z,{variant:"outline-primary",href:t,download:"".concat(l||"audio",".mp3"),className:"ms-3",children:(0,n.jsx)("i",{className:"fa-solid fa-circle-down"})}),(0,n.jsx)("audio",{ref:x,src:t,onTimeUpdate:()=>{if(x.current){let e=x.current.currentTime;N(e),console.log(d);let s=-1;for(let t=0;t<d.length;t++){let n=A(d[t]),r=t<d.length-1?A(d[t+1]):1/0;if(e>=n&&e<r){s=t;break}}T(s)}},onLoadedMetadata:()=>{x.current&&b(x.current.duration)},onEnded:()=>{f(!1),p.current&&setTimeout(()=>{p.current.pause(),p.current.currentTime=0},1e3)}})]}),S&&(k>=0&&c[k]?(0,n.jsxs)("div",{className:"subtitle-container mt-3 p-2 rounded",children:[(0,n.jsx)("h3",{className:"tiengtrungText subtitletiengtrung",style:{fontWeight:"bold",color:"#fff"},children:h?c[k]:i[k]}),m&&(0,n.jsx)("div",{className:"subtitlepinyin",style:{color:"rgb(255 183 183)"},children:o[k]}),(0,n.jsx)("div",{className:"subtitlenghia",style:{color:"rgb(245 255 170)"},children:u[k]})]}):null)]})})},39731:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var n=t(57437);t(2265);var r=t(24539),a=t(59233);t(15120),t(23508);var l=t(89745);function c(e){let{gianthelist:s=[],tiengtrunglist:t=[],hanvietlist:c=[],pinyinlist:i=[],nghialist:o=[],levellist:u=[],isShowPinyin:d=!1,isShowSpace:m=!1,isGianthe:h=!0,tumoi:x=[]}=e,p=new Set(x.flatMap(e=>[e.gianthe,e.tiengtrung]));return(0,n.jsx)("div",{style:{padding:"0"},children:(0,n.jsxs)("div",{className:"p-3 border rounded vanbanhienthiContainer",children:[(0,n.jsx)("span",{className:"ms-5"}),h&&s.map((e,s)=>{let t=(0,n.jsxs)(r.Z,{id:"tooltip-".concat(s),className:"custom-tooltip row",children:[(0,n.jsxs)("div",{className:"fs-5",children:["Pinyin: ",(0,n.jsxs)("strong",{className:"text-white",children:[i[s]||"N/A"," ",(0,n.jsxs)("span",{className:"text-success",children:["(",u[s]||"N/A",")"]})]})]}),(0,n.jsxs)("div",{className:"fs-5",children:["H\xe1n Việt: ",(0,n.jsx)("strong",{className:"text-primary",children:c[s]||"N/A"})]}),(0,n.jsxs)("div",{className:"fs-5",children:["Nghĩa: ",(0,n.jsxs)("strong",{className:"text-warning",children:[o[s]||"N/A"," "]})]})]});return"*"===e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{},s),(0,n.jsx)("span",{className:"ms-3"})]}):(0,n.jsx)(a.Z,{placement:"top",overlay:t,children:(0,n.jsxs)("span",{className:"".concat(m?"px-1":""," d-inline-block text-center"),style:{cursor:"pointer",lineHeight:"1.2"},children:[d&&(0,n.jsx)("span",{className:"small fs-6",style:{lineHeight:"1",textDecoration:"none",display:"block",color:"rgb(120 120 120)"},children:i[s]||""}),(0,n.jsx)("span",{className:"fs-3 hover-shadow tiengtrungText",style:{color:p.has(e)?"rgb(255 0 0)":void 0},children:e})]})},s)}),!h&&t.map((e,s)=>{let t=(0,n.jsxs)(r.Z,{id:"tooltip-".concat(s),className:"custom-tooltip row",children:[(0,n.jsxs)("div",{className:"fs-5",children:[i[s]||"N/A"," (",u[s]||"N/A",")"]}),(0,n.jsxs)("div",{className:"fs-5",children:[(0,n.jsx)("strong",{})," ",c[s]||"N/A"]}),(0,n.jsx)("div",{className:"fs-5",children:o[s]||"N/A"})]});return"*"===e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{},s),(0,n.jsx)("span",{className:"ms-3"})]}):(0,n.jsx)(a.Z,{placement:"top",overlay:t,children:(0,n.jsxs)("span",{onClick:()=>(0,l.Z)(e,s+1),className:"".concat(m?"px-1":""," d-inline-block text-center"),style:{cursor:"pointer",lineHeight:"1.2"},children:[d&&(0,n.jsx)("span",{className:"small fs-6",style:{lineHeight:"1",textDecoration:"none",display:"block",color:"rgb(120 120 120)"},children:i[s]||""}),(0,n.jsx)("span",{className:"fs-3 hover-shadow tiengtrungText",style:{color:p.has(e)?"rgb(255 0 0)":void 0},children:e})]})},s)})]})})}},9339:function(){},15120:function(){}}]);