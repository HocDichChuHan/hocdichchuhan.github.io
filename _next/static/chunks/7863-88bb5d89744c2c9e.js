"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7863],{9898:function(i,e,a){var t=a(7437);a(2265),a(3508);var n=a(6648);e.Z=i=>{let{nguphap:e}=i;return(0,t.jsxs)("div",{className:"cauhoi-container",children:[(0,t.jsx)("h1",{children:"Mở Rộng"}),e&&e.map((i,e)=>(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("h2",{children:[e+1,". ",i.tieude]}),i.noidung&&(0,t.jsx)("p",{children:i.noidung}),(0,t.jsx)("div",{className:"image-container",children:(0,t.jsx)(n.default,{src:i.src,alt:"H\xecnh ảnh",width:1200,height:1200,layout:"intrinsic",className:"image-styled",style:{objectFit:"contain"}})})]},e))]})}},4727:function(i,e,a){a.d(e,{Z:function(){return C}});var t=a(7437),n=a(2265),s=a(6648);a(1682);var c=a(7761);a(2034);var l=a(6793),o=a(5527),r=a(3492),h=a(3394),u=a(5839),d=a(9761),g=a(9745),m=a(2808),x=a(5606);function p(i){let{items:e,onFinish:a,isGianthe:c,pathBaitap:l,diem:o=100}=i,[r,x]=(0,n.useState)(0),[p,v]=(0,n.useState)(""),[j,b]=(0,n.useState)(""),[N,f]=(0,n.useState)("https://hocdichchuhan.github.io/img/gif/correct4.gif"),[y,C]=(0,n.useState)("https://hocdichchuhan.github.io/img/gif/correct4.gif"),[S,k]=(0,n.useState)(!1),[D,Z]=(0,n.useState)(0),w=(0,n.useRef)(null),B=(0,n.useRef)(null),G=e[r];e[r-1],(0,n.useEffect)(()=>{(async()=>{C(await (0,d.o)(G.nghia))})()},[G.gianthe]);let L=()=>{r>=e.length-1?null==a||a():x(r+1)},T=()=>{r>0&&x(r-1)};return e&&e.length&&e[r]?(0,t.jsxs)("div",{className:"MatchingGameContaniner",children:[(0,t.jsx)("audio",{ref:w,src:h.Z}),(0,t.jsx)("audio",{ref:B,src:u.Z}),(0,t.jsx)("div",{className:"row align-items-center justify-content-center",style:{width:"100%"},children:G.tiengtrung&&(0,t.jsxs)("div",{className:"MatchingGameContaniner",children:[(0,t.jsx)("div",{className:"image-container",children:(0,t.jsx)(s.default,{src:y,alt:"H\xecnh ảnh",width:400,height:400,className:"image-styled",style:{objectFit:"cover"}})}),(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2",children:[(0,t.jsx)("h2",{className:"text-danger ",children:c?G.gianthe:G.tiengtrung||null}),(0,t.jsx)(m.Z,{variant:"danger",onClick:()=>(0,g.Z)(G.gianthe,r+100),children:"\uD83D\uDD0A"})]}),(0,t.jsx)("h2",{className:"text-primary",children:G.pinyin||null}),(0,t.jsx)("h2",{className:"fw-bold",children:G.nghia||null}),(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2",children:[(0,t.jsx)(m.Z,{className:"p-3",variant:"secondary",onClick:()=>T(),children:"Previous"}),(0,t.jsx)(m.Z,{className:"p-3",variant:"primary",onClick:()=>L(),children:"Next"})]})]})})]}):(0,t.jsx)("div",{children:"Đang tải dữ liệu..."})}a(1467);var v=a(9460),j=a(8996),b=a(7138);function N(i){let{title:e,link:a,onClose:n}=i;return(0,t.jsx)("div",{className:"loadingData",onClick:()=>{n&&n()},children:(0,t.jsxs)("div",{className:"loadingData-container",onClick:i=>{i.stopPropagation()},children:[(0,t.jsx)(s.default,{src:"https://hocdichchuhan.github.io/img/gif/correct.gif",alt:"Loading...",width:200,height:200,style:{objectFit:"contain"}}),(0,t.jsx)("h2",{children:e}),(0,t.jsx)(b.default,{className:"itemCard-title-luanngu",href:a,target:"_self",children:(0,t.jsx)(m.Z,{className:"btn-phatamthanh",variant:"warning",children:"B\xe0i tiếp theo"})})]})})}var f=a(4379),y=a.n(f),C=i=>{let{baihoc:e,id:a,nguphaps:s,isGianthe:h,hsk:u,pathBaitap:d}=i,[g,m]=(0,n.useState)(!1),[b,f]=(0,n.useState)([]),C=(0,n.useRef)([]),[S,k]=(0,n.useState)(null),[D,Z]=(0,n.useState)(!1),[w,B]=(0,n.useState)(),[G,L]=(0,n.useState)(),T=(0,n.useRef)(null),[H,I]=(0,n.useState)(0),[E,P]=(0,n.useState)(0),[R,A]=(0,n.useState)(0),[F,M]=(0,n.useState)(0),[_,V]=(0,n.useState)(!1),[K,U]=(0,n.useState)(!1),[J,O]=(0,n.useState)(!1),[W,q]=(0,n.useState)(!1),[z,Q]=(0,n.useState)(!0),[X,Y]=(0,n.useState)(0),[$,ii]=(0,n.useState)(0),[ie,ia]=(0,n.useState)(0),[it,is]=(0,n.useState)(0),[ic,il]=(0,n.useState)(0),[io,ir]=(0,n.useState)(0),[ih,iu]=(0,n.useState)("tumoi"),id=a.replace(/b0/gi,""),ig=async(i,e)=>{try{await Promise.all([(0,x.Pf)(i,e)])}catch(e){console.error("Lỗi update:",e);let i={message:"Lỗi update: "+e.message};y().fire(e.message,"","info"),setState(e=>({...e,error:i}))}finally{}},im=async()=>{V(!0),iu("viet")},ix=()=>{var i,a,n;let s=null===(n=e.hoithoai)||void 0===n?void 0:null===(a=n.map(i=>i.tumoi))||void 0===a?void 0:null===(i=a.filter(Boolean))||void 0===i?void 0:i.flat();return(0,t.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:s.length>0&&(0,t.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,t.jsx)("h2",{children:"B\xe0i tập 1: Kĩ năng đọc: Lựa chọn cặp từ ch\xednh x\xe1c."}),(0,t.jsx)("hr",{}),(0,t.jsx)(l.Z,{tumoi:s,onFinish:()=>im(),isGianthe:h,pathBaitap:d})]})})},ip=async()=>{U(!0),iu("nghe")},iv=()=>{var i,a,n;let s=null===(n=e.hoithoai)||void 0===n?void 0:null===(a=n.map(i=>i.tumoi))||void 0===a?void 0:null===(i=a.filter(Boolean))||void 0===i?void 0:i.flat();return(0,t.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:s.length>0&&(0,t.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,t.jsxs)("h2",{children:["B\xe0i tập 2: Kĩ năng Viết: Nhập từ tiếng Trung đ\xfang với nghĩa. B\xe0i tập 2.",E+1,":"]}),(0,t.jsx)("hr",{}),(0,t.jsx)(o.Z,{items:s,onFinish:()=>ip(),isGianthe:h,pathBaitap:d})]})})},ij=()=>{var i,a,n;let s=null===(n=e.hoithoai)||void 0===n?void 0:null===(a=n.map(i=>i.tumoi))||void 0===a?void 0:null===(i=a.filter(Boolean))||void 0===i?void 0:i.flat();return(0,t.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:s.length>0&&(0,t.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,t.jsxs)("h2",{children:["\xd4n tập từ mới",E+1,":"]}),(0,t.jsx)("hr",{}),(0,t.jsx)(p,{items:s,onFinish:()=>iu("doc"),isGianthe:h,pathBaitap:d})]})})},ib=async()=>{let i=Math.floor(1e3*(it+100/e.speak.length))/1e3;await ig("".concat(d,"/noi"),i),is(i)},iN=()=>{iu("cauhoi")},iy=()=>(console.log(e.speak[0]),(0,t.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:e.speak&&(0,t.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,t.jsx)("h2",{children:"B\xe0i tập 4: Luyện n\xf3i: N\xf3i lại c\xe2u tiếng Trung sau đ\xe2y:"}),(0,t.jsx)("hr",{}),(0,t.jsx)(r.Z,{validCau:e.speak,isGianthe:h,onNext:()=>iN(),congdiem:()=>ib(),pathBaitap:d})]})})),iC=()=>{if(!e.listen)return null;let i=e.listen;return console.log(i),(0,t.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:(0,t.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,t.jsx)("h2",{children:"B\xe0i tập 3: Luyện nghe: Ho\xe0n th\xe0nh c\xe2u m\xe0 bạn nghe được:"}),(0,t.jsx)("hr",{}),(0,t.jsx)(v.Z,{validCau:i,isGianthe:h,pathBaitap:d,onNext:()=>iu("noi")})]})})},iS=()=>{if(!e.cauhoi)return null;let i=e.cauhoi;return console.log(e.cauhoi),(0,t.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:(0,t.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,t.jsx)("h2",{children:"B\xe0i tập 5: Trả lời c\xe2u hỏi trong b\xe0i"}),(0,t.jsx)("hr",{}),(0,t.jsx)(j.Z,{dsCau:i,isGianthe:h,pathBaitap:d,hsk:u,id:a,onNext:()=>O(!0)})]})})};return e?(0,t.jsxs)("div",{className:"baihocgiaotiep-container",children:[(0,t.jsx)("div",{className:"MatchingGameContaniner",children:(0,t.jsxs)("div",{className:"flex gap-2 mb-4 ",children:[(0,t.jsx)("button",{onClick:()=>iu("tumoi"),className:"btn ".concat("tumoi"===ih?"btn-primary":"btn-outline-secondary"),children:"生词 - Từ Mới"}),(0,t.jsx)("button",{onClick:()=>iu("doc"),className:"btn ".concat("doc"===ih?"btn-primary":"btn-outline-secondary"),children:"阅读 - Đọc"}),(0,t.jsx)("button",{onClick:()=>iu("viet"),className:"btn ".concat("viet"===ih?"btn-primary":"btn-outline-secondary"),children:"写字 - Viết"}),(0,t.jsx)("button",{onClick:()=>iu("nghe"),className:"btn ".concat("nghe"===ih?"btn-primary":"btn-outline-secondary"),children:"听力 - Nghe"}),(0,t.jsx)("button",{onClick:()=>iu("noi"),className:"btn ".concat("noi"===ih?"btn-primary":"btn-outline-secondary"),children:"说话 - N\xf3i"}),e.cauhoi&&(0,t.jsx)("button",{onClick:()=>iu("cauhoi"),className:"btn ".concat("cauhoi"===ih?"btn-primary":"btn-outline-secondary"),children:"问答 - Vấn Đ\xe1p"})]})}),(()=>{if(J&&z){let i=a.replace(/\d+/,i=>String(Number(i)+1).padStart(i.length,"0"));return(0,t.jsx)(N,{link:"/hsk/".concat(u,"/").concat(i),title:"Ch\xfac mừng bạn đ\xe3 ho\xe0n th\xe0nh b\xe0i tập. C\xf9ng học b\xe0i tiếp theo nh\xe9!",onClose:()=>Q(!1)})}})(),(0,t.jsxs)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-number",children:["B\xe0i ",id,": "]}),(0,t.jsx)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-tiengtrung tiengtrungText",children:h?e.gianthe:e.tieude}),(0,t.jsxs)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-tieude",children:["(",e.tieudedich,")"]}),(0,t.jsx)(c.Z,{showStrokeArea:D,activeCharacter:S,strokes:b,pathsRef:C,isShowImage:g,dataTranslate:G,dataWrite:w,strokeAreaRef:T}),(0,t.jsx)("span",{className:"baihocgiaotiep-pinyin",children:e.tieudepinyin}),(0,t.jsx)("div",{children:(()=>{switch(ih){case"tumoi":return(0,t.jsx)(ij,{});case"nghe":return(0,t.jsx)(iC,{});case"noi":return(0,t.jsx)(iy,{});case"doc":return(0,t.jsx)(ix,{});case"viet":return(0,t.jsx)(iv,{});case"cauhoi":return(0,t.jsx)(iS,{});default:return null}})()})]}):null}},8996:function(i,e,a){a.d(e,{Z:function(){return m}});var t=a(7437),n=a(2265),s=a(9745),c=a(516),l=a(5606),o=a(2808),r=a(3137),h=a(3830),u=a(8433),d=a(4379),g=a.n(d);function m(i){let{dsCau:e,isGianthe:a,pathBaitap:d,hsk:m,id:x,onNext:p,isShowNghia:v=!0}=i,[j,b]=(0,n.useState)(null),[N,f]=(0,n.useState)({}),[y,C]=(0,n.useState)(!1),[S,k]=(0,n.useState)(!1),D=(i,e)=>{g().fire({icon:i,title:e,position:"center",showConfirmButton:!1,timer:1500,timerProgressBar:!0})};(0,n.useEffect)(()=>{let i=localStorage.getItem("userLogin");if(i){let a=JSON.parse(i);b(a),e.forEach(async(i,e)=>{let t="".concat(d,"/cauhoi/").concat(a.uid,"/").concat(e),n=await (0,c.U2)((0,c.iH)(l.db,t));n.exists()&&f(i=>({...i,[e]:{userInput:n.val().userInput||"",nghia:n.val().nghiacuanguoidung||""}}))})}},[e,d]);let Z=(i,e,a)=>{f(t=>({...t,[i]:{...t[i],[e]:a}}))},w=async()=>{if(j){for(let s=0;s<e.length;s++){var i,a,t,n;let o=e[s],r=(null===(a=N[s])||void 0===a?void 0:null===(i=a.userInput)||void 0===i?void 0:i.trim())||"",h=(null===(n=N[s])||void 0===n?void 0:null===(t=n.nghia)||void 0===t?void 0:t.trim())||"",u="".concat(d,"/cauhoi/").concat(j.uid,"/").concat(s);await (0,c.t8)((0,c.iH)(l.db,u),{userInput:r,nghia:o.nghia,hanviet:o.gianthe,nghiacuanguoidung:h,time:Date.now()})}D("success","Đ\xe3 lưu to\xe0n bộ b\xe0i l\xe0m!")}},B=async()=>{if(!j)return;console.log(123);let i="".concat(d,"/cauhoi/").concat(j.uid),a="user/baitap/".concat(j.uid,"/").concat(m,"_").concat(x),t=Date.now();try{let n=await (0,c.U2)((0,c.iH)(l.db,i));if(n.exists()){let i=n.val(),s=e.map((e,a)=>{var n,s;return{tiengtrung:e.tiengtrung,gianthe:e.gianthe,pinyin:e.pinyin,nghia:e.nghia,cautraloi:(null===(n=i[a])||void 0===n?void 0:n.userInput)||"",nghiacuanguoidung:(null===(s=i[a])||void 0===s?void 0:s.nghiacuanguoidung)||"",time:t}});await (0,c.t8)((0,c.iH)(l.db,a),{hsk:m,id:x,timeSubmit:t,cauTraLoi:s}),D("success","Đ\xe3 gửi b\xe0i tập th\xe0nh c\xf4ng!"),p()}else D("warning","Chưa c\xf3 dữ liệu để gửi!")}catch(i){console.error("Lỗi:",i),D("error","Lỗi khi gửi b\xe0i tập!")}};return(0,t.jsxs)("div",{className:"container py-4",children:[(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,t.jsxs)("div",{className:"btn-group",children:[(0,t.jsx)(o.Z,{variant:"outline-primary",onClick:()=>C(!y),children:y?"Ẩn Pinyin":"Hiện Pinyin"}),v&&(0,t.jsx)(o.Z,{variant:"outline-danger",onClick:()=>k(!S),children:S?"Ẩn Nghĩa":"Hiện Nghĩa"})]}),(0,t.jsx)(o.Z,{variant:"success",onClick:B,children:"\uD83D\uDCE4 Gửi B\xe0i Tập"})]}),e.map((i,e)=>{var n,c;return(0,t.jsx)(r.Z,{className:"mb-4 shadow-sm",children:(0,t.jsxs)(r.Z.Body,{children:[(0,t.jsxs)("div",{className:"d-flex",children:[(0,t.jsxs)("h5",{className:"mb-3 text-primary fw-bold fs-3",children:["\uD83D\uDCDD C\xe2u ",e+1,": ",a?i.gianthe:i.tiengtrung]}),(0,t.jsx)(o.Z,{variant:"outline-secondary",onClick:()=>(0,s.Z)(i.gianthe),children:"\uD83D\uDD0A"})]}),y&&(0,t.jsxs)("div",{className:"text-muted mb-2",children:["\uD83D\uDCDA Pinyin: ",i.pinyin]}),S&&(0,t.jsxs)("div",{className:"mb-3",children:["\uD83D\uDCA1 Nghĩa: ",i.nghia]}),(0,t.jsxs)(h.Z.Group,{className:"mb-2",children:[(0,t.jsx)(h.Z.Label,{children:"Nhập c\xe2u trả lời của bạn:"}),(0,t.jsx)(u.Z,{value:(null===(n=N[e])||void 0===n?void 0:n.userInput)||"",className:"form-control fs-3",placeholder:"你的回答",onChange:i=>Z(e,"userInput",i.target.value)})]}),(0,t.jsxs)(h.Z.Group,{className:"mb-3",children:[(0,t.jsx)(h.Z.Label,{children:"Nhập nghĩa của c\xe2u trả lời:"}),(0,t.jsx)(u.Z,{value:(null===(c=N[e])||void 0===c?void 0:c.nghia)||"",className:"form-control fs-5",placeholder:"Nhập nghĩa của c\xe2u trả lời",onChange:i=>Z(e,"nghia",i.target.value)})]})]})},e)}),(0,t.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[(0,t.jsx)(o.Z,{variant:"outline-secondary",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"⬆️ Về đầu"}),(0,t.jsx)(o.Z,{variant:"primary",onClick:()=>w(),children:"\uD83D\uDCBE Lưu tạm thời"}),(0,t.jsx)(o.Z,{variant:"success",onClick:()=>B(),children:"\uD83D\uDCE4 Gửi B\xe0i Tập"})]})]})}}}]);