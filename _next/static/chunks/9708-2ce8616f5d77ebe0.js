"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9708],{9898:function(i,e,a){var t=a(7437);a(2265),a(3508);var n=a(6648);e.Z=i=>{let{nguphap:e}=i;return(0,t.jsxs)("div",{className:"cauhoi-container",children:[(0,t.jsx)("h1",{children:"Mở Rộng"}),e&&e.map((i,e)=>(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("h2",{children:[e+1,". ",i.tieude]}),i.noidung&&(0,t.jsx)("p",{children:i.noidung}),(0,t.jsx)("div",{className:"image-container",children:(0,t.jsx)(n.default,{src:i.src,alt:"H\xecnh ảnh",width:1200,height:1200,layout:"intrinsic",className:"image-styled",style:{objectFit:"contain"}})})]},e))]})}},6078:function(i,e,a){a.d(e,{Z:function(){return j}});var t=a(7437),n=a(2265),s=a(6648);a(1682);var c=a(7761);a(2034);var o=a(6793),l=a(1539),r=a(3492);a(1467);var h=a(9460),u=a(8996),d=a(2808),g=a(7138);function m(i){let{title:e,link:a,onClose:n}=i;return(0,t.jsx)("div",{className:"loadingData",onClick:()=>{n&&n()},children:(0,t.jsxs)("div",{className:"loadingData-container",onClick:i=>{i.stopPropagation()},children:[(0,t.jsx)(s.default,{src:"https://hocdichchuhan.github.io/img/gif/correct.gif",alt:"Loading...",width:200,height:200,style:{objectFit:"contain"}}),(0,t.jsx)("h2",{children:e}),(0,t.jsx)(g.default,{className:"itemCard-title-luanngu",href:a,target:"_self",children:(0,t.jsx)(d.Z,{className:"btn-phatamthanh",variant:"warning",children:"B\xe0i tiếp theo"})})]})})}var p=a(5606),x=a(4379),v=a.n(x),j=i=>{let{baihoc:e,id:a,nguphaps:s,isGianthe:d,hsk:g,pathBaitap:x}=i,[j,b]=(0,n.useState)(!1),[N,f]=(0,n.useState)([]),y=(0,n.useRef)([]),[C,S]=(0,n.useState)(null),[k,D]=(0,n.useState)(!1),[Z,w]=(0,n.useState)(),[B,L]=(0,n.useState)(),G=(0,n.useRef)(null),[I,T]=(0,n.useState)(0),[H,E]=(0,n.useState)(0),[P,_]=(0,n.useState)(0),[A,R]=(0,n.useState)(0),[F,V]=(0,n.useState)(!1),[M,K]=(0,n.useState)(!1),[U,J]=(0,n.useState)(!1),[O,W]=(0,n.useState)(!1),[q,z]=(0,n.useState)(!0),[Q,X]=(0,n.useState)(0),[Y,$]=(0,n.useState)(0),[ii,ie]=(0,n.useState)(0),[ia,it]=(0,n.useState)(0),[is,ic]=(0,n.useState)(0),[io,il]=(0,n.useState)(0),[ir,ih]=(0,n.useState)("doc"),iu=a.replace(/b0/gi,""),id=async(i,e)=>{try{await Promise.all([(0,p.Pf)(i,e)])}catch(e){console.error("Lỗi update:",e);let i={message:"Lỗi update: "+e.message};v().fire(e.message,"","info"),setState(e=>({...e,error:i}))}finally{}},ig=async()=>{V(!0),ih("viet")},im=()=>{var i,a,n;let s=null===(n=e.hoithoai)||void 0===n?void 0:null===(a=n.map(i=>i.tumoi))||void 0===a?void 0:null===(i=a.filter(Boolean))||void 0===i?void 0:i.flat();return(0,t.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:s.length>0&&(0,t.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,t.jsx)("h2",{children:"B\xe0i tập 1: Kĩ năng đọc: Lựa chọn cặp từ ch\xednh x\xe1c."}),(0,t.jsx)("hr",{}),(0,t.jsx)(o.Z,{tumoi:s,onFinish:()=>ig(),isGianthe:d,pathBaitap:x})]})})},ip=async()=>{K(!0),ih("nghe")},ix=()=>{var i,a,n;let s=null===(n=e.hoithoai)||void 0===n?void 0:null===(a=n.map(i=>i.tumoi))||void 0===a?void 0:null===(i=a.filter(Boolean))||void 0===i?void 0:i.flat();return(0,t.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:s.length>0&&(0,t.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,t.jsxs)("h2",{children:["B\xe0i tập 2: Kĩ năng Viết: Nhập từ tiếng Trung đ\xfang với nghĩa. B\xe0i tập 2.",H+1,":"]}),(0,t.jsx)("hr",{}),(0,t.jsx)(l.Z,{items:s,onFinish:()=>ip(),isGianthe:d,pathBaitap:x})]})})},iv=async()=>{let i=Math.floor(1e3*(ia+100/e.speak.length))/1e3;await id("".concat(x,"/noi"),i),it(i)},ij=()=>{ih("cauhoi")},ib=()=>(console.log(e.speak[0]),(0,t.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:e.speak&&(0,t.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,t.jsx)("h2",{children:"B\xe0i tập 4: Luyện n\xf3i: N\xf3i lại c\xe2u tiếng Trung sau đ\xe2y:"}),(0,t.jsx)("hr",{}),(0,t.jsx)(r.Z,{validCau:e.speak,isGianthe:d,onNext:()=>ij(),congdiem:()=>iv(),pathBaitap:x})]})})),iN=()=>{if(!e.listen)return null;let i=e.listen;return console.log(i),(0,t.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:(0,t.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,t.jsx)("h2",{children:"B\xe0i tập 3: Luyện nghe: Ho\xe0n th\xe0nh c\xe2u m\xe0 bạn nghe được:"}),(0,t.jsx)("hr",{}),(0,t.jsx)(h.Z,{validCau:i,isGianthe:d,pathBaitap:x,onNext:()=>ih("noi")})]})})},iy=()=>{if(!e.cauhoi)return null;let i=e.cauhoi;return console.log(e.cauhoi),(0,t.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:(0,t.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,t.jsx)("h2",{children:"B\xe0i tập 5: Trả lời c\xe2u hỏi trong b\xe0i"}),(0,t.jsx)("hr",{}),(0,t.jsx)(u.Z,{dsCau:i,isGianthe:d,pathBaitap:x,hsk:g,id:a,onNext:()=>J(!0)})]})})};return e?(0,t.jsxs)("div",{className:"baihocgiaotiep-container",children:[(0,t.jsx)("div",{className:"MatchingGameContaniner",children:(0,t.jsxs)("div",{className:"flex gap-2 mb-4 ",children:[(0,t.jsx)("button",{onClick:()=>ih("doc"),className:"btn ".concat("doc"===ir?"btn-primary":"btn-outline-secondary"),children:"阅读 - Đọc"}),(0,t.jsx)("button",{onClick:()=>ih("viet"),className:"btn ".concat("viet"===ir?"btn-primary":"btn-outline-secondary"),children:"写字 - Viết"}),(0,t.jsx)("button",{onClick:()=>ih("nghe"),className:"btn ".concat("nghe"===ir?"btn-primary":"btn-outline-secondary"),children:"听力 - Nghe"}),(0,t.jsx)("button",{onClick:()=>ih("noi"),className:"btn ".concat("noi"===ir?"btn-primary":"btn-outline-secondary"),children:"说话 - N\xf3i"}),e.cauhoi&&(0,t.jsx)("button",{onClick:()=>ih("cauhoi"),className:"btn ".concat("cauhoi"===ir?"btn-primary":"btn-outline-secondary"),children:"问答 - Vấn Đ\xe1p"})]})}),(()=>{if(U&&q){let i=a.replace(/\d+/,i=>String(Number(i)+1).padStart(i.length,"0"));return(0,t.jsx)(m,{link:"/hsk/".concat(g,"/").concat(i),title:"Ch\xfac mừng bạn đ\xe3 ho\xe0n th\xe0nh b\xe0i tập. C\xf9ng học b\xe0i tiếp theo nh\xe9!",onClose:()=>z(!1)})}})(),(0,t.jsxs)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-number",children:["B\xe0i ",iu,": "]}),(0,t.jsx)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-tiengtrung tiengtrungText",children:d?e.gianthe:e.tieude}),(0,t.jsxs)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-tieude",children:["(",e.tieudedich,")"]}),(0,t.jsx)(c.Z,{showStrokeArea:k,activeCharacter:C,strokes:N,pathsRef:y,isShowImage:j,dataTranslate:B,dataWrite:Z,strokeAreaRef:G}),(0,t.jsx)("span",{className:"baihocgiaotiep-pinyin",children:e.tieudepinyin}),(0,t.jsx)("div",{children:(()=>{switch(ir){case"nghe":return(0,t.jsx)(iN,{});case"noi":return(0,t.jsx)(ib,{});case"doc":return(0,t.jsx)(im,{});case"viet":return(0,t.jsx)(ix,{});case"cauhoi":return(0,t.jsx)(iy,{});default:return null}})()})]}):null}},8996:function(i,e,a){a.d(e,{Z:function(){return m}});var t=a(7437),n=a(2265),s=a(9745),c=a(516),o=a(5606),l=a(2808),r=a(3137),h=a(3830),u=a(8433),d=a(4379),g=a.n(d);function m(i){let{dsCau:e,isGianthe:a,pathBaitap:d,hsk:m,id:p,onNext:x,isShowNghia:v=!0}=i,[j,b]=(0,n.useState)(null),[N,f]=(0,n.useState)({}),[y,C]=(0,n.useState)(!1),[S,k]=(0,n.useState)(!1),D=(i,e)=>{g().fire({icon:i,title:e,position:"center",showConfirmButton:!1,timer:1500,timerProgressBar:!0})};(0,n.useEffect)(()=>{let i=localStorage.getItem("userLogin");if(i){let a=JSON.parse(i);b(a),e.forEach(async(i,e)=>{let t="".concat(d,"/cauhoi/").concat(a.uid,"/").concat(e),n=await (0,c.U2)((0,c.iH)(o.db,t));n.exists()&&f(i=>({...i,[e]:{userInput:n.val().userInput||"",nghia:n.val().nghiacuanguoidung||""}}))})}},[e,d]);let Z=(i,e,a)=>{f(t=>({...t,[i]:{...t[i],[e]:a}}))},w=async()=>{if(j){for(let s=0;s<e.length;s++){var i,a,t,n;let l=e[s],r=(null===(a=N[s])||void 0===a?void 0:null===(i=a.userInput)||void 0===i?void 0:i.trim())||"",h=(null===(n=N[s])||void 0===n?void 0:null===(t=n.nghia)||void 0===t?void 0:t.trim())||"",u="".concat(d,"/cauhoi/").concat(j.uid,"/").concat(s);await (0,c.t8)((0,c.iH)(o.db,u),{userInput:r,nghia:l.nghia,hanviet:l.gianthe,nghiacuanguoidung:h,time:Date.now()})}D("success","Đ\xe3 lưu to\xe0n bộ b\xe0i l\xe0m!")}},B=async()=>{if(!j)return;let i="".concat(d,"/cauhoi/").concat(j.uid),a="user/baitap/".concat(j.uid,"/").concat(m,"_").concat(p),t=Date.now();try{let n=await (0,c.U2)((0,c.iH)(o.db,i));if(n.exists()){let i=n.val(),s=e.map((e,a)=>{var n,s;return{tiengtrung:e.tiengtrung,gianthe:e.gianthe,pinyin:e.pinyin,nghia:e.nghia,cautraloi:(null===(n=i[a])||void 0===n?void 0:n.userInput)||"",nghiacuanguoidung:(null===(s=i[a])||void 0===s?void 0:s.nghiacuanguoidung)||"",time:t}});await (0,c.t8)((0,c.iH)(o.db,a),{hsk:m,id:p,timeSubmit:t,cauTraLoi:s}),D("success","Đ\xe3 gửi b\xe0i tập th\xe0nh c\xf4ng!"),x()}else D("warning","Chưa c\xf3 dữ liệu để gửi!")}catch(i){console.error("Lỗi:",i),D("error","Lỗi khi gửi b\xe0i tập!")}};return(0,t.jsxs)("div",{className:"container py-4",children:[(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,t.jsxs)("div",{className:"btn-group",children:[(0,t.jsx)(l.Z,{variant:"outline-primary",onClick:()=>C(!y),children:y?"Ẩn Pinyin":"Hiện Pinyin"}),v&&(0,t.jsx)(l.Z,{variant:"outline-danger",onClick:()=>k(!S),children:S?"Ẩn Nghĩa":"Hiện Nghĩa"})]}),(0,t.jsx)(l.Z,{variant:"success",onClick:B,children:"\uD83D\uDCE4 Gửi B\xe0i Tập"})]}),e.map((i,e)=>{var n,c;return(0,t.jsx)(r.Z,{className:"mb-4 shadow-sm",children:(0,t.jsxs)(r.Z.Body,{children:[(0,t.jsxs)("div",{className:"d-flex",children:[(0,t.jsxs)("h5",{className:"mb-3 text-primary fw-bold fs-3",children:["\uD83D\uDCDD C\xe2u ",e+1,": ",a?i.gianthe:i.tiengtrung]}),(0,t.jsx)(l.Z,{variant:"outline-secondary",onClick:()=>(0,s.Z)(i.gianthe),children:"\uD83D\uDD0A"})]}),y&&(0,t.jsxs)("div",{className:"text-muted mb-2",children:["\uD83D\uDCDA Pinyin: ",i.pinyin]}),S&&(0,t.jsxs)("div",{className:"mb-3",children:["\uD83D\uDCA1 Nghĩa: ",i.nghia]}),(0,t.jsxs)(h.Z.Group,{className:"mb-2",children:[(0,t.jsx)(h.Z.Label,{children:"Nhập c\xe2u trả lời của bạn:"}),(0,t.jsx)(u.Z,{value:(null===(n=N[e])||void 0===n?void 0:n.userInput)||"",className:"form-control fs-3",placeholder:"你的回答",onChange:i=>Z(e,"userInput",i.target.value)})]}),(0,t.jsxs)(h.Z.Group,{className:"mb-3",children:[(0,t.jsx)(h.Z.Label,{children:"Nhập nghĩa của c\xe2u trả lời:"}),(0,t.jsx)(u.Z,{value:(null===(c=N[e])||void 0===c?void 0:c.nghia)||"",className:"form-control fs-5",placeholder:"Nhập nghĩa của c\xe2u trả lời",onChange:i=>Z(e,"nghia",i.target.value)})]})]})},e)}),(0,t.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[(0,t.jsx)(l.Z,{variant:"outline-secondary",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"⬆️ Về đầu"}),(0,t.jsx)(l.Z,{variant:"primary",onClick:()=>w(),children:"\uD83D\uDCBE Lưu tạm thời"}),(0,t.jsx)(l.Z,{variant:"success",onClick:()=>B(),children:"\uD83D\uDCE4 Gửi B\xe0i Tập"})]})]})}}}]);