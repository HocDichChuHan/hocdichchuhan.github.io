(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[100],{42507:function(e,t,a){Promise.resolve().then(a.bind(a,84605))},84605:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var i=a(57437),n=a(2265),s=a(66802),r=a(12808),o=a(64379),c=a.n(o),l=a(65606);a(58833),a(10494),a(91795);var h=a(19768);a(87138),a(66648),a(31243);var u=a(23508);a(84109),a(58971),a(39898),a(1725),a(27220);var g=a(16463),d=a(62474),p=a(34231),m=e=>{let{thanhngu:t=[],setthanhngu:a,fetSelectedword:n,speakText:s}=e,o=async(e,i,n)=>{let s=[...t];s[e][i]=n,a(s)},c=async(e,i,n)=>{let s=await (0,d.Z)(n),r=[...t];r[e][i]=s,a(r)},l=e=>{a(t.filter((t,a)=>a!==e))},h=async(e,t)=>{try{var i;let n=await (0,u.PA)(e),s=await (0,u.V2)(n);if(console.log(s.sentences),!s||!s.sentences||0===s.sentences.length)return;let r=(null===(i=s.sentences[s.sentences.length-1])||void 0===i?void 0:i.src_translit)||"",o=s.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");a(e=>{let a=[...e];return a[t]={...a[t],pinyin:r,dichnghia:o,tiengtrung:n},a})}catch(e){console.error("Lỗi khi lấy Pinyin:",e)}};return(0,i.jsxs)("div",{className:"thanhngu-container",children:[(0,i.jsx)("h2",{children:"Chỉnh Sửa C\xe2u Hỏi"}),console.log(t),(0,i.jsx)("ul",{children:t&&t.map((e,t)=>(0,i.jsxs)("li",{className:"thanhngu-item",children:[(0,i.jsx)(r.Z,{variant:"success",onClick:()=>c(t,"gianthe","CN"),children:"GetVoice C\xe2u Hỏi"}),(0,i.jsx)(p.Z,{value:e.gianthe,className:"fs-3 baihocgiaotiep-tiengtrung2 tiengtrungText",onChange:e=>o(t,"gianthe",e.target.value),placeholder:"简体中文 "}),(0,i.jsx)(p.Z,{value:e.tiengtrung,className:"fs-3 baihocgiaotiep-tiengtrung2 tiengtrungText",onChange:e=>o(t,"tiengtrung",e.target.value),placeholder:"繁體中文 "}),(0,i.jsx)(p.Z,{value:e.hanviet,className:"fs-5 baihocgiaotiep-tiengtrung2",onChange:e=>o(t,"hanviet",e.target.value),placeholder:"\xc2m H\xe1n Việt "}),(0,i.jsx)(p.Z,{value:e.pinyin,className:"fs-5 baihocgiaotiep-tiengtrung2",onChange:e=>o(t,"pinyin",e.target.value),placeholder:"Pinyin"}),(0,i.jsx)(p.Z,{value:e.dichnghia,className:"fs-5 baihocgiaotiep-tiengtrung2",onChange:e=>o(t,"dichnghia",e.target.value),placeholder:"Dịch Nghĩa"}),(0,i.jsx)(p.Z,{value:e.trichdan,className:"fs-5 baihocgiaotiep-tiengtrung2",onChange:e=>o(t,"trichdan",e.target.value),placeholder:"Tr\xedch dẫn"}),(0,i.jsx)(r.Z,{variant:"success",onClick:()=>c(t,"dichnghia","VN"),children:"GetVoice Nghĩa"}),(0,i.jsx)(r.Z,{variant:"warning",onClick:()=>h(e.gianthe,t),children:"GetPinyin"}),(0,i.jsx)(r.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>s(e.tiengtrung,t+10),children:"\uD83D\uDD0A"}),(0,i.jsx)(r.Z,{variant:"danger",size:"sm",onClick:()=>l(t),children:"❌ X\xf3a"}),(0,i.jsx)("hr",{})]},t))}),(0,i.jsx)(r.Z,{variant:"success",onClick:()=>{a([...t,{tiengtrung:"",pinyin:"",dichnghia:""}])},children:"➕ Th\xeam C\xe2u Hỏi"})]})};function f(){var e;let[t,a]=(0,n.useState)(!0),[o,d]=(0,n.useState)(),[p,f]=(0,n.useState)([]),[x,j]=(0,n.useState)(),[v,w]=(0,n.useState)([]),[N,y]=(0,n.useState)([]),[b,k]=(0,n.useState)(),[S,C]=(0,n.useState)(!1),[Z,D]=(0,n.useState)(!1),[E,R]=(0,n.useState)(!1),[A,T]=(0,n.useState)([]);(0,n.useRef)([]);let[G,H]=(0,n.useState)(null),[L,P]=(0,n.useState)(!1),[V,O]=(0,n.useState)(),[_,z]=(0,n.useState)();(0,n.useRef)(null);let[B,I]=(0,n.useState)(!1);(0,g.useRouter)(),(0,n.useEffect)(()=>{U();let e=(0,u.GJ)(),t=(0,u.bg)();D(e),C(t)},[]);let U=async()=>{try{a(!0),await J();let e=await JSON.parse(localStorage.getItem("allData")),t=await e.find(e=>"thanhngu"===e.key);if(!t||!t.value){console.error("No valid data found for 'phatam'"),a(!1);return}f(t.value),a(!1)}catch(e){a(!1),console.error("Error getting dichthuat data: ",e)}};o&&(e=o.split("="))[1]&&e[1].split("&")[0];let J=async()=>{try{let e=(await (0,l.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let t={};for(let a in e.value)if(e.value.hasOwnProperty(a)){let{username:i,password:n,...s}=e.value[a];t[a]=s}return{...e,value:t}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},F=async()=>{a(!0);try{await Promise.all([(0,l.Pf)("/users/thanhngu",p)]),a(!1),await c().fire({position:"center",icon:"success",title:"Cập nhật th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(t){console.error("Lỗi tạo b\xe0i mới:",t);let e={message:"Lỗi tạo b\xe0i mới: "+t.message};c().fire(t.message,"","info"),setState(t=>({...t,error:e}))}finally{a(!1)}};return t?(0,i.jsx)(h.Z,{}):(0,i.jsx)(s.Z,{body:(0,i.jsxs)("div",{className:"",style:{backgroundColor:"#f3f3f3"},children:[(0,i.jsx)(r.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>F(),children:"Update"}),(0,i.jsx)("div",{className:"row",children:(0,i.jsx)(m,{thanhngu:p,setthanhngu:f,isgianthe:B})})]})})}},58971:function(e,t,a){"use strict";var i=a(57437),n=a(2265),s=a(66648),r=a(89745),o=a(12808),c=a(21682),l=a(77761),h=a(38472),u=a(62034);a(10494);var g=a(23508),d=a(57295),p=a(91654);t.Z=e=>{let{baihoc:t,id:a,nguphaps:m,isGianthe:f,hsk:x}=e,[j,v]=(0,n.useState)(!1),[w,N]=(0,n.useState)([]),y=(0,n.useRef)([]),[b,k]=(0,n.useState)(null),[S,C]=(0,n.useState)(!1),[Z,D]=(0,n.useState)(),[E,R]=(0,n.useState)(),A=(0,n.useRef)(null),T=a.replace(/b0/gi,""),G=async e=>{try{N([]),k(e),C(!0),await H(e);let t="https://tiengtrungdongyang.com/huongdanviet/".concat(e.charCodeAt(0),".svg"),a=await L(t),i=await h.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!i.data.found)throw Error("Network response was not ok");let n=await h.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=word&page=1&limit=50"));if(!n.data.found)throw Error("Network response was not ok");D(i.data),R(n.data),v(a)}catch(e){console.error("Error fetching Hanzi data:",e)}},H=async e=>{try{let t=await fetch("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!t.ok)throw Error("Network response was not ok");let a=await t.json();if(a.found&&a.result.length>0){let e=JSON.parse(a.result[0].strokes);N(e.strokes)}}catch(e){console.error("Error fetching Hanzi data:",e)}};(0,n.useEffect)(()=>{let e=e=>{A.current&&!A.current.contains(e.target)&&(k(null),C(!1))};return S&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[S]),(0,n.useEffect)(()=>{w.length>0&&setTimeout(()=>{y.current.forEach((e,t)=>{if(e){let a=e.getTotalLength();e.style.strokeDasharray=a,e.style.strokeDashoffset=a,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[w]);let L=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch(e){return console.error("Lỗi khi kiểm tra đường dẫn:",e),!1}};t.linkyt&&t.linkyt;let P=e=>{let t=e.map(e=>e.gianthe).filter(Boolean);(0,r.M)(t)};return t?(0,i.jsxs)("div",{className:"baihocgiaotiep-container",children:[(0,i.jsxs)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-number",children:["B\xe0i ",T,": "]}),(0,i.jsx)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-tiengtrung tiengtrungText",children:f?t.gianthe:t.tieude}),(0,i.jsxs)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-tieude",children:["(",t.tieudedich,")"]}),(0,i.jsx)(l.Z,{showStrokeArea:S,activeCharacter:b,strokes:w,pathsRef:y,isShowImage:j,dataTranslate:E,dataWrite:Z,strokeAreaRef:A}),(0,i.jsx)("span",{className:"baihocgiaotiep-pinyin",children:t.tieudepinyin}),(0,i.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:t.hoithoai.map((e,t)=>(0,i.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,i.jsxs)("h2",{children:["Hội Thoại ",t+1,":"]}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"col-12 col-md-6",children:[(0,i.jsx)(o.Z,{className:"",variant:"danger",onClick:()=>P(e.hthoai),children:"Nghe To\xe0n B\xe0i \uD83D\uDD0A"}),e.hthoai.map((t,a)=>(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{className:"baihocgiaotiep-tiengtrung tiengtrungText",children:[a%2==0?"A: ":"B: ",f&&t.gianthe.split("\n").map((t,a)=>(0,i.jsxs)("span",{children:[e.tumoi?(0,g.Gv)(t,e.tumoi.map(e=>e.gianthe)):(0,i.jsx)(p.Z,{chineseList:t,isGianthe:!0}),(0,i.jsx)("br",{})]},a)),!f&&t.tiengtrung.split("\n").map((t,a)=>(0,i.jsxs)("span",{children:[e.tumoi?(0,g.Gv)(t,e.tumoi.map(e=>e.tiengtrung)):(0,i.jsx)(p.Z,{chineseList:t,isGianthe:!0}),(0,i.jsx)("br",{})]},a))]}),(0,i.jsx)(o.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>(0,r.Z)(t.gianthe,a),children:"\uD83D\uDD0A"}),(0,i.jsxs)("p",{className:"baihocgiaotiep-pinyin",children:[a%2==0?"A: ":"B: ",t.pinyin.split("\n").map((e,t)=>(0,i.jsxs)("span",{children:[e,(0,i.jsx)("br",{})]},t))]})]},a))]}),(0,i.jsxs)("div",{className:"col-12 col-md-6",children:[(0,i.jsx)("div",{className:"image-container",children:(0,i.jsx)(s.default,{src:"https://tiengtrungdongyang.com/img/".concat(x,"/").concat(a,"_ht").concat(t+1,".png"),alt:"H\xecnh ảnh",width:600,height:600,layout:"intrinsic",className:"image-styled",style:{objectFit:"contain"}})}),(0,i.jsx)(d.Z,{tumoi:e.tumoi,isGianthe:!0,isShowpinyin:!0})]})]}),(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"baihocgiaotiep-tumoi",children:[(0,i.jsx)("h2",{children:"Dịch Nghĩa"}),e.hthoai.map((e,t)=>(0,i.jsx)("div",{children:(0,i.jsxs)("p",{className:"baihocgiaotiep-dichnghia",children:[t%2==0?"A: ":"B: ",e.dichnghia.split("\n").map((e,t)=>(0,i.jsxs)("span",{children:[e,(0,i.jsx)("br",{})]},t))]})},t))]})})}),(0,i.jsx)("br",{}),(0,i.jsx)("hr",{}),(0,i.jsx)("br",{})]},t))}),(0,i.jsx)("hr",{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("h1",{children:"Ngữ Ph\xe1p"}),(0,i.jsx)(c.Z,{nguphaps:m,isGianthe:f}),t.cauhoi&&(0,i.jsx)(u.Z,{cauHoi:t.cauhoi,fetSelectedword:G,isGianthe:f})]}):null}},62474:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var i=a(64379),n=a.n(i);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"VN";return new Promise((t,a)=>{if(!("webkitSpeechRecognition"in window)){a("Tr\xecnh duyệt kh\xf4ng hỗ trợ Speech Recognition");return}let i=new window.webkitSpeechRecognition;i.lang=({VN:"vi-VN",CN:"zh-CN"})[e]||"vi-VN",i.continuous=!1,i.interimResults=!1,n().fire({title:"\uD83C\uDFA4 Đang lắng nghe (".concat(e,")"),text:"H\xe3y n\xf3i v\xe0o micro...",allowOutsideClick:!1,allowEscapeKey:!1,position:"top-end",didOpen:()=>{n().showLoading(),i.start()}}),i.onresult=e=>{let a=e.results[0][0].transcript;n().close(),t(a)},i.onerror=e=>{n().close(),a(e.error||"Lỗi kh\xf4ng x\xe1c định")},i.onend=()=>{i.resultReceived||(n().close(),a("Kh\xf4ng nghe thấy \xe2m thanh"))}})}}},function(e){e.O(0,[2866,1953,9513,5527,7539,4358,7481,9208,9461,8765,4974,3539,8472,609,3830,6901,6802,8551,4547,7295,2404,3104,5438,9659,2971,7023,1744],function(){return e(e.s=42507)}),_N_E=e.O()}]);