(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5897,5192],{53711:function(e,n,i){Promise.resolve().then(i.bind(i,6670))},6670:function(e,n,i){"use strict";i.d(n,{default:function(){return y}});var a=i(57437),t=i(2265),s=i(66802),l=i(12808);i(19768);var r=i(23508),o=i(60516),c=i(65606),u=i(39731),d=i(66648),h=i(87138),A=i(64379),g=i.n(A),m=i(57295),p=i(21682),x=i(32608),j=i(34070),f=i(39898),v=i(76879),w=i(27220);function y(e){let{id:n}=e,[i,A]=(0,t.useState)(!0),[y,S]=(0,t.useState)(!1),[b,N]=(0,t.useState)(!1),[C,k]=(0,t.useState)(n),[z,E]=(0,t.useState)(),[I,B]=(0,t.useState)(),[O,q]=(0,t.useState)(),[L,Q]=(0,t.useState)(),[Z,D]=(0,t.useState)(),[P,T]=(0,t.useState)(""),[R,U]=(0,t.useState)([]),[F,G]=(0,t.useState)([]),[M,H]=(0,t.useState)([]),[J,_]=(0,t.useState)([]),[W,V]=(0,t.useState)([]),[Y,K]=(0,t.useState)([]),[X,$]=(0,t.useState)(!0),[ee,en]=(0,t.useState)(!0),[ei,ea]=(0,t.useState)(!1),[et,es]=(0,t.useState)([]),[el,er]=(0,t.useState)([]),[eo,ec]=(0,t.useState)([]),[eu,ed]=(0,t.useState)([]),[eh,eA]=(0,t.useState)([]),[eg,em]=(0,t.useState)([]),[ep,ex]=(0,t.useState)([]),[ej,ef]=(0,t.useState)(""),[ev,ew]=(0,t.useState)(),[ey,eS]=(0,t.useState)([]),[eb,eN]=(0,t.useState)([]),[eC,ek]=(0,t.useState)(!1),[ez,eE]=(0,t.useState)(""),eI=(0,t.useRef)(null),eB=(0,t.useRef)(null),eO=(0,t.useRef)(null),eq=(0,t.useRef)(null),[eL,eQ]=(0,t.useState)(!1),eZ=(0,t.useRef)(null);(0,t.useEffect)(()=>{let e=(0,r.GJ)(),n=(0,r.bg)();N(e),S(n),eE((0,r.sq)());let i=async()=>{g().fire({title:"Đang tải dữ liệu...",allowOutsideClick:!1,didOpen:()=>{g().showLoading()}});try{let e=(0,o.iH)(c.db,"/users/listen/".concat(C)),n=await (0,o.U2)(e);if(n.exists()){let e=n.val();if(!e)return;E((0,r.Pw)(e.mp3Link)),T(e.allData),B((0,r.Pw)(e.img)),q(e.tieude),Q(e.tieudeTiengTrung),D(e.capdo),es(e.tumoi),er(e.nguphaps),ex(e.mp3timelinelist||[]),ef(e.mp3Timeline),ew(e.thamchieu),eN(e.cauhoi||[]),eS(e.nguphapimg||[]),console.log(e.cauhoi),U(e.gianthe.split("\n")),G(e.tiengtrung.split("\n")),_(e.pinyin.split("\n")),V(e.nghia.split("\n")),K(e.level.split("\n")),H(e.hanviet.split("\n"))}let i=()=>{if(!eq.current)return;let e=eq.current.getBoundingClientRect();e.top<=window.innerHeight&&eQ(!0),e.top>window.innerHeight&&eQ(!1)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)}catch(e){console.error("Lỗi khi lấy dữ liệu:",e),g().fire({icon:"error",title:"Lỗi",text:"Kh\xf4ng thể lấy dữ liệu. Vui l\xf2ng thử lại sau!"})}finally{g().close()}},a=localStorage.getItem("isGianthe"),t=localStorage.getItem("isShowPinyin"),s=localStorage.getItem("isShowSpace");null!==a&&ea(JSON.parse(a)),null!==t&&$(JSON.parse(t)),null!==s&&en(JSON.parse(s)),i()},[C]),(0,t.useEffect)(()=>{ev&&(async()=>{try{let e=(0,o.iH)(c.db,ev),n=await (0,o.U2)(e);if(n.exists()){let e=n.val();if(!e)return;if(el?er(n=>[...n,...e.nguphap]):er(e.nguphap),ey?eS(n=>[...n,...e.nguphapimg]):eS(e.nguphapimg),e.hoithoai&&Array.isArray(e.hoithoai)){let n=e.hoithoai.flatMap(e=>e.tumoi||[]);et?es(e=>[...e,...n]):es(n)}}}catch(e){console.error("Lỗi khi lấy dữ liệu:",e)}finally{}})()},[ev]),(0,t.useEffect)(()=>{},[]);let eD=async()=>{let e=!ei;ea(e),localStorage.setItem("isGianthe",JSON.stringify(e))},eP=async()=>{let e=!X;$(e),localStorage.setItem("isShowPinyin",JSON.stringify(e))},eT=async()=>{let e=!ee;en(e),localStorage.setItem("isShowSpace",JSON.stringify(e))};return(0,a.jsx)(s.Z,{isStudy:!0,body:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"listen-header-container",style:{backgroundColor:"#00586b"},children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row mb-4",children:[(0,a.jsx)("div",{className:"col-12 col-lg-8 ",children:(0,a.jsxs)("div",{className:"p-3 m-3",children:[(0,a.jsx)("h1",{className:"text-linearWhiteBlue",children:O}),(0,a.jsx)("h2",{className:"text-linearWhiteBlue fw-bold tiengtrungText",children:L}),(0,a.jsxs)("div",{className:"text-linearWhiteBlue fs-1",children:["(",Z,")"]}),(0,a.jsxs)("div",{className:"btn-group mt-2",children:[(0,a.jsx)(l.Z,{variant:ei?"warning":"primary",onClick:()=>eD(),children:ei?"Change to Traditional Chinese":"Change to Simple Chinese"}),(0,a.jsxs)(l.Z,{variant:X?"danger":"secondary",onClick:()=>eP(),children:["Pinyin ",X?"On":"Off"]}),(0,a.jsxs)(l.Z,{variant:ee?"primary":"secondary",onClick:()=>eT(),children:["Space ",ee?"On":"Off"]}),b&&(0,a.jsx)(h.default,{href:"/listen/".concat(n,"/edit"),target:"_self",children:(0,a.jsx)(l.Z,{variant:"warning",children:"Edit"})})]})]})}),(0,a.jsx)("div",{className:"col-12 col-lg-4  image-container transitionImage",children:(0,a.jsx)(d.default,{src:I||"/placeholder-image.jpg",alt:"H\xecnh ảnh",width:380,height:380,className:"image-style rounded",style:{objectFit:"cover"}})})]})})}),(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{ref:eI,className:"col-12 col-md-8",style:{marginTop:"-160px",padding:"0"},children:[(0,a.jsx)(u.Z,{allData:P,isShowPinyin:X,isShowSpace:ee,isGianthe:ei,tumoi:et}),(0,a.jsx)(x.Z,{mp3:z,tieude:O,isShowPinyin:X,isGianthe:ei}),(0,a.jsx)("div",{ref:eB,className:eC?"fullscreen-wrapper":"",children:(0,a.jsx)(j.Z,{mp3Timeline:ej,mp3:z,tieude:O,mp3timelinelist:ep,isShowPinyin:X,isGianthe:ei,imgsrc:I,tieudeTiengTrung:L,capdo:Z,isFullScreen:eC,setIsFullScreen:ek,tumoi:et})}),(0,a.jsxs)("div",{ref:eO,children:[(0,a.jsx)(p.Z,{ref:eO,nguphaps:el,isGianthe:ei}),(0,a.jsx)(f.Z,{nguphap:ey})]})]}),(0,a.jsx)("div",{className:"col-12 col-md-4 ",children:(0,a.jsx)("div",{className:"scroll-tumoi-container",ref:eZ,children:(0,a.jsx)(m.Z,{tumoi:et,isGianthe:ei})})})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-12 col-md-8",style:{pointerEvents:y?"auto":"none",opacity:y?1:.5},children:(0,a.jsxs)("div",{ref:eq,children:[(0,a.jsx)("div",{className:"fs-3 mb-3",children:"Bạn Cần Đăng Nhập Để C\xf3 Thể Trả Lời C\xe2u Hỏi"}),(0,a.jsx)(v.Z,{cauHoi:eb,isGianthe:ei,uid:ez,id:n})]})}),(0,a.jsx)("div",{className:"col-12 col-md-4",children:eL&&(0,a.jsx)("div",{className:"viewUserDiem",children:(0,a.jsx)(w.Z,{hsk:"listen",id:n})})})]})]},eC),!eC&&(0,a.jsxs)("div",{style:{position:"fixed",top:"50%",right:"10px",display:"flex",flexDirection:"column",gap:"8px",zIndex:9999},children:[(0,a.jsx)(l.Z,{size:"sm",onClick:()=>{var e;return null===(e=eI.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},children:"Reading"}),(0,a.jsx)(l.Z,{size:"sm",onClick:()=>{var e;return null===(e=eB.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},children:"\uD83C\uDFB5 Listen"}),(0,a.jsx)(l.Z,{size:"sm",onClick:()=>{var e;return null===(e=eO.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},children:"✏ Ngữ ph\xe1p"}),(0,a.jsx)(l.Z,{size:"sm",onClick:()=>{var e;return null===(e=eq.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},children:"❓ C\xe2u hỏi"})]})]})})}i(99362),i(20357)},10494:function(e,n,i){"use strict";var a=i(57437),t=i(2265);i(66648),i(74231);let s=(0,t.memo)(e=>(0,a.jsxs)("div",{className:"itemCard-container",onClick:e.cardClick,onMouseEnter:e.cardClick,children:[(0,a.jsxs)("div",{className:"itemCard-title",children:[(0,a.jsx)("div",{className:"itemCard-img-des"}),(0,a.jsx)(l,{link:e.videoLink})]}),(0,a.jsx)("div",{className:"itemCard-content p-3 rounded shadow-sm",children:(0,a.jsx)("h3",{className:"itemCard-content-title text-center",children:e.title})})]}));function l(e){return(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)("iframe",{ref:e.iframeRef,height:e.height,src:e.link,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})}s.displayName="ItemCardYoutubeNoAuthor",n.Z=s},84109:function(e,n,i){"use strict";i.d(n,{Z:function(){return s}});var a=i(57437),t=i(2265);function s(e){let{vanmaus:n,thanhmaus:i}=e,[s,l]=(0,t.useState)({row:null,col:null}),r=i.flatMap(e=>e.chitiet.map(e=>e.tukhoa)),o=n.flatMap(e=>e.chitiet.map(e=>e.tukhoa)),c=(e,n)=>{e.includes("\xfc")?("nve"===(e=e.replace("\xfc","v"))&&(e="nue"),new Audio("https://blog.dailoan.vn/wp-content/uploads/2024/04/".concat(e,"1.mp3")).play().catch(e=>console.error("Lỗi ph\xe1t \xe2m thanh:",e))):e.includes("f")||e.includes("m")||e.includes("t")||n.includes("n")||e.includes("l")||e.includes("z")||"s"===n||"r"===n||"j"===n||"q"===n||"x"===n||"g"===n||"k"===n||"h"===n||"sh"===n?new Audio("https://blog.dailoan.vn/wp-content/uploads/2024/04/".concat(e,"1_2.mp3")).play().catch(e=>console.error("Lỗi ph\xe1t \xe2m thanh:",e)):new Audio("https://blog.dailoan.vn/wp-content/uploads/2024/04/".concat(e,"1.mp3")).play().catch(e=>console.error("Lỗi ph\xe1t \xe2m thanh:",e))},u=new Set(["a","ba","pa","ma","fa","da","ta","na","la","ga","ka","ha","o","bo","po","mo","fo","ai","bai","pai","mai","dai","tai","nai","lai","gai","kai","hai","an","ban","pan","man","fan","dan","tan","nan","lan","gan","kan","han","ang","bang","pang","mang","fang","dang","tang","nang","lang","gang","kang","hang","ao","bao","pao","mao","dao","tao","nao","lao","gao","kao","hao","e","me","de","te","ne","le","ge","ke","he","ei","bei","pei","mei","fei","dei","nei","lei","gei","hei","en","ben","pen","men","fen","nen","gen","ken","hen","eng","beng","peng","meng","feng","deng","teng","neng","leng","geng","keng","heng","zi","ci","si","zhi","chi","shi","ri","zu","cu","su","zhu","chu","shu","ru","za","ca","sa","zha","cha","sha","zai","cai","sai","zhai","chai","shai","zan","can","san","zhan","chan","shan","zang","cang","sang","zhang","chang","shang","rang","zao","cao","sao","zhao","chao","shao","rao","ze","ce","se","zhe","che","she","re","zei","zhei","shei","zen","cen","sen","zhen","chen","shen","ren","zeng","ceng","seng","zheng","cheng","sheng","reng","yi","bi","pi","mi","di","ti","ni","li","ji","qi","xi","ya","dia","lia","jia","qia","xia","yan","bian","pian","mian","dian","tian","nian","lian","jian","qian","xian","yang","jiang","qiang","xiang","yao","biao","piao","miao","diao","tiao","niao","liao","jiao","qiao","xiao","ye","bie","pie","mie","die","tie","nie","lie","jie","qie","xie","yin","bin","pin","min","nin","lin","jin","qin","xin","ying","bing","ping","ming","ding","ting","ning","ling","jing","qing","xing","yong","jiong","qiong","xiong","you","miu","diu","niu","liu","jiu","qiu","xiu","you","pou","mou","fou","dou","tou","lou","gou","kou","hou","wu","bu","pu","mu","fu","du","tu","nu","lu","gu","ku","hu","wa","gua","kua","hua","wai","guai","kuai","huai","wan","duan","tuan","nuan","luan","guan","kuan","huan","wang","guang","kuang","huang","wei","gui","kui","hui","wen","dun","tun","lun","gun","kun","hun","wo","duo","tuo","nuo","luo","guo","kuo","huo","yu","n\xfc","l\xfc","yuan","j\xfcan","q\xfcan","x\xfcan","yue","n\xfce","l\xfce","jue","que","xue","yun","j\xfcn","q\xfcn","x\xfcn","j\xfc","q\xfc","x\xfc","er"]),d=(e,n)=>(("j"===e||"q"===e||"x"===e)&&n.includes("\xfc")&&"\xfc"!=n&&"\xfcn"!=n&&"\xfcan"!=n&&(n=n.replace("\xfc","u")),e+n);return(0,a.jsx)("div",{className:"bangphatamContainer",children:(0,a.jsxs)("table",{className:"bangphatamContainer-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"header-cell",children:"\\"}),o.map((e,n)=>(0,a.jsx)("th",{className:"header-cell ".concat(s.col===n?"highlight-col":""),children:e},e))]})}),(0,a.jsx)("tbody",{children:r.map((e,n)=>(0,a.jsxs)("tr",{className:s.row===n?"highlight-row":"",children:[(0,a.jsx)("td",{className:"header-cell",children:e}),o.map((i,t)=>{var r=d(e,i);let o=u.has(r);return"j\xfc"===r&&(r="ju"),"q\xfc"===r&&(r="qu"),"x\xfc"===r&&(r="xu"),"j\xfcn"===r&&(r="jun"),"q\xfcn"===r&&(r="qun"),"x\xfcn"===r&&(r="xun"),"j\xfcan"===r&&(r="juan"),"q\xfcan"===r&&(r="quan"),"x\xfcan"===r&&(r="xuan"),(0,a.jsx)("td",{className:"table-cell ".concat(s.row===n||s.col===t?"highlight":""," ").concat(o?"":"disabled-cell"),onMouseEnter:()=>l({row:n,col:t}),onMouseLeave:()=>l({row:null,col:null}),onClick:()=>o&&c(r,e),children:o?r:""},"".concat(e,"-").concat(i))})]},e))})]})})}},23508:function(e,n,i){"use strict";i.d(n,{FF:function(){return m},GJ:function(){return v},Gv:function(){return g},LA:function(){return A},PA:function(){return p},Pw:function(){return j},V2:function(){return x},bg:function(){return w},o0:function(){return d},sq:function(){return y},xb:function(){return h},yI:function(){return f}});var a=i(57437),t=i(9782),s=i(31213),l=i(2265),r=i(45749),o=i(66648),c=i(38472),u=i(91654);let d=e=>{if(!e)return"";try{let n=new Date(e);return(0,t.WU)(n,"h:mm a, dd 'Th\xe1ng' MM, yyyy",{locale:s.vi})}catch(n){return console.error("Invalid date format:",e),e}};function h(e){return(0,a.jsxs)("div",{className:"itemCard-container-dashboardView",children:[(0,a.jsxs)("div",{className:"itemCard-UserName itemcard-UserName-sticky",children:[(0,a.jsxs)("div",{className:"itemCard-UserName-1",children:[(0,a.jsx)(o.default,{src:e.imgUser?e.imgUser:r.Z,alt:"img",width:30,height:30}),(0,a.jsxs)("div",{className:"itemCard-UserName-container",children:[(0,a.jsx)("h4",{className:"username-card",children:e.username}),(0,a.jsx)("p",{style:{margin:"0"},children:d(e.dateTime)})]})]}),(()=>{let n=localStorage.getItem("name");return e.username==n?(0,a.jsx)("div",{className:"itemCard-UserName-1",children:(0,a.jsx)("button",{className:"btn btn-options",onClick:e.removeClick,style:{padding:"0",margin:"0"},children:(0,a.jsx)("i",{className:"fa-solid fa-trash"})})}):null})()]}),(0,a.jsx)("div",{className:"itemCard-baiDich",children:e.baidich})]})}let A=(e,n)=>e?e.split(RegExp("(".concat(n,")"),"gi")).map((e,i)=>e.toLowerCase()===n.toLowerCase()?(0,a.jsx)("span",{style:{color:"red"},children:e},i):e.split("\n").map((e,n,i)=>n===i.length-1?e:(0,a.jsxs)(l.Fragment,{children:[e,(0,a.jsx)("br",{})]},n))):null,g=(e,n)=>{if(!e||!n||0===n.length)return null;let i=RegExp("(".concat(n.join("|"),")"),"gi");return e.split(i).map((e,i)=>n.some(n=>n.toLowerCase()===e.toLowerCase())?(0,a.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:(0,a.jsx)(u.Z,{chineseList:e,isGianthe:!0})},i):(0,a.jsx)(l.Fragment,{children:e.split("\n").map((e,n,t)=>(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)(u.Z,{chineseList:e,isGianthe:!0}),n<t.length-1&&(0,a.jsx)("br",{})]},"".concat(i,"-").concat(n)))},i))},m=async e=>{try{let n=await c.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=vi&tl=en&q=".concat(encodeURIComponent(e)));if(n.data)return n.data.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");return e}catch(n){return console.error("Lỗi khi gọi API:",n),e}},p=async e=>{try{let n=await c.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(e)));if(n.data)return n.data.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");return e}catch(n){return console.error("Lỗi khi gọi API:",n),e}},x=async e=>{try{let n=await c.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-TW&tl=vi&q=".concat(encodeURIComponent(e)));if(n.data)return n.data;return e}catch(n){return console.error("Lỗi khi gọi API:",n),e}},j=e=>e&&e.includes("hocdichchuhan.github.io")?e.replace("hocdichchuhan.github.io","tiengtrungdongyang.com"):e,f=async e=>{let n=encodeURIComponent(e),i=await c.Z.get("https://api.hanzii.net/api/search/vi/".concat(n,"?type=word&page=1&limit=2"));return i.data.found?i.data:null},v=()=>{let e=y();return!!e&&"sDHYFpe6CMazPbsZ0mzSyY8d5Ev1"==e},w=()=>!!y(),y=()=>{let e=JSON.parse(localStorage.getItem("userLogin"));return null==e?void 0:e.uid}},99362:function(){},74231:function(){},45749:function(e,n){"use strict";n.Z={src:"/_next/static/media/user.f64324c2.jpg",height:200,width:200,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAG0E//EABUQAQEAAAAAAAAAAAAAAAAAABMk/9oACAEBAAEFAlo//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwF//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPwF//8QAGBAAAgMAAAAAAAAAAAAAAAAAABIxQWH/2gAIAQEABj8CRqjT/8QAGBAAAgMAAAAAAAAAAAAAAAAAESEAMbH/2gAIAQEAAT8hGkETU//aAAwDAQACAAMAAAAQ+//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABgQAAIDAAAAAAAAAAAAAAAAAAARQZGh/9oACAEBAAE/ELbi5YP/2Q==",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[2800,770,5527,8905,7539,431,67,1953,1207,4358,7481,9208,9461,8765,4974,3539,8472,609,3830,9233,6901,6802,1654,4547,3104,5438,5833,2971,7023,1744],function(){return e(e.s=53711)}),_N_E=e.O()}]);