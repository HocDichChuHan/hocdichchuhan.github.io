(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5897],{53711:function(e,t,s){Promise.resolve().then(s.bind(s,6670))},6670:function(e,t,s){"use strict";s.d(t,{default:function(){return p}});var n=s(57437),a=s(2265),i=s(98708),r=s(12808),l=s(19768),c=s(23508),o=s(60516),d=s(65606),u=s(39731),h=s(66648),m=s(87138);function p(e){let{id:t}=e,[s,p]=(0,a.useState)(!0),[x,j]=(0,a.useState)(!1),[g,f]=(0,a.useState)(!1),[N,v]=(0,a.useState)(t),[y,S]=(0,a.useState)(),[w,b]=(0,a.useState)(),[k,Z]=(0,a.useState)(),[C,T]=(0,a.useState)(),[A,O]=(0,a.useState)(),[E,_]=(0,a.useState)([]),[H,M]=(0,a.useState)([]),[F,G]=(0,a.useState)([]),[J,L]=(0,a.useState)([]),[P,R]=(0,a.useState)([]),[D,I]=(0,a.useState)([]),[U,q]=(0,a.useState)(!0),[z,B]=(0,a.useState)(!0),K=(0,a.useRef)(null),Q=(0,a.useRef)(null),[V,W]=(0,a.useState)(!1),[X,Y]=(0,a.useState)(0),[$,ee]=(0,a.useState)(0),[et,es]=(0,a.useState)(1),[en,ea]=(0,a.useState)(!1),ei=e=>e?"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat(Math.floor(e%60).toString().padStart(2,"0")):"00:00";(0,a.useEffect)(()=>(Q.current=new Audio("https://hocdichchuhan.github.io/mp3/bg/".concat(Math.floor(7*Math.random())+1,".mp3")),Q.current.volume=.15,()=>{Q.current&&(Q.current.pause(),Q.current.currentTime=0,Q.current=null)}),[N]),(0,a.useEffect)(()=>{let e=(0,c.GJ)(),t=(0,c.bg)();f(e),j(t);let s=async()=>{p(!0);try{let e=(0,o.iH)(d.db,"/users/listen/".concat(N)),t=await (0,o.U2)(e);if(t.exists()){let e=t.val();if(!e)return;S(e.mp3Link),b(e.img),Z(e.tieude),T(e.tieudeTiengTrung),O(e.capdo),_(e.gianthe.split("\n")),M(e.tiengtrung.split("\n")),L(e.pinyin.split("\n")),R(e.nghia.split("\n")),I(e.level.split("\n")),G(e.hanviet.split("\n"))}}catch(e){console.error("Lỗi khi lấy dữ liệu:",e)}finally{p(!1)}},n=localStorage.getItem("isGianthe");null!==n&&ea(JSON.parse(n)),s()},[N]);let er=async()=>{let e=!en;ea(e),localStorage.setItem("isGianthe",JSON.stringify(e))};return s?(0,n.jsx)(l.Z,{}):(0,n.jsx)(i.Z,{isStudy:!0,body:(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"listen-header-container",style:{backgroundColor:"#00586b"},children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"row mb-4",children:[(0,n.jsx)("div",{className:"col-12 col-md-8 ",children:(0,n.jsxs)("div",{className:"p-3 m-3",children:[(0,n.jsx)("h1",{className:"text-white",children:k}),(0,n.jsx)("h3",{className:"text-white",children:C}),(0,n.jsxs)("div",{className:"text-white",children:["(",A,")"]}),(0,n.jsxs)("div",{className:"btn-group mt-2",children:[(0,n.jsx)(r.Z,{variant:en?"warning":"primary",onClick:()=>er(),children:en?"Change to Traditional Chinese":"Change to Simple Chinese"}),(0,n.jsxs)(r.Z,{variant:U?"danger":"secondary",onClick:()=>q(!U),children:["Pinyin ",U?"On":"Off"]}),(0,n.jsxs)(r.Z,{variant:z?"primary":"secondary",onClick:()=>B(!z),children:["Space ",z?"On":"Off"]}),g&&(0,n.jsx)(m.default,{href:"/listen/".concat(t,"/edit"),target:"_self",children:(0,n.jsx)(r.Z,{variant:"warning",children:"Edit"})})]})]})}),(0,n.jsx)("div",{className:"col-12 col-md-4 image-container",children:(0,n.jsx)(h.default,{src:w||"/placeholder-image.jpg",alt:"H\xecnh ảnh",width:400,height:400,className:"image-style rounded",style:{objectFit:"cover"}})})]})})}),(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("div",{className:"col-12 col-md-8",style:{marginTop:"-160px"},children:[(0,n.jsx)(u.Z,{gianthelist:E,tiengtrunglist:H,hanvietlist:F,pinyinlist:J,nghialist:P,levellist:D,isShowPinyin:U,isShowSpace:z,isGianthe:en}),y&&(0,n.jsxs)("div",{className:"d-flex align-items-center bg-dark text-white p-3 m-2 rounded",children:[(0,n.jsx)(r.Z,{variant:V?"warning":"success",onClick:()=>{K.current&&Q.current&&(V?(K.current.pause(),setTimeout(()=>{Q.current.pause()},5e3)):(Q.current.play(),setTimeout(()=>{K.current.play()},5e3)),W(!V))},className:"me-2",children:V?"⏸":"▶"}),(0,n.jsx)("input",{type:"range",min:"0",max:$||100,value:X,onChange:e=>{if(K.current&&Q.current){let t=parseFloat(e.target.value);K.current.currentTime=t,Q.current.currentTime=t,Y(t)}},className:"form-range w-50 me-2"}),(0,n.jsxs)("span",{className:"me-2",children:[ei(X)," / ",ei($)]}),(0,n.jsxs)("select",{value:et.toFixed(1),onChange:e=>{let t=parseFloat(e.target.value);console.log("New playback rate:",t),es(t),K.current&&(K.current.playbackRate=t)},className:"form-select form-select-sm me-2",style:{width:"auto"},children:[(0,n.jsx)("option",{value:"0.5",children:"0.5x"}),(0,n.jsx)("option",{value:"1.0",children:"1.0x"}),(0,n.jsx)("option",{value:"1.5",children:"1.5x"}),(0,n.jsx)("option",{value:"2.0",children:"2.0x"})]}),(0,n.jsx)(r.Z,{variant:"outline-primary",href:y,download:"".concat(k||"audio",".mp3"),className:"ms-5",children:(0,n.jsx)("i",{className:"fa-solid fa-circle-down"})}),(0,n.jsx)("audio",{ref:K,src:y,onTimeUpdate:()=>{K.current&&Y(K.current.currentTime)},onLoadedMetadata:()=>{K.current&&ee(K.current.duration)},onEnded:()=>{W(!1),Q.current&&setTimeout(()=>{Q.current.pause(),Q.current.currentTime=0},5e3)}})]})]})})})]})})}s(64379)},39731:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var n=s(57437);s(2265);var a=s(24539),i=s(59233);function r(e){let{gianthelist:t=[],tiengtrunglist:s=[],hanvietlist:r=[],pinyinlist:l=[],nghialist:c=[],levellist:o=[],isShowPinyin:d=!1,isShowSpace:u=!1,isGianthe:h=!0}=e;return(0,n.jsx)("div",{className:"container my-3",children:(0,n.jsxs)("div",{className:"p-3 border rounded bg-light",children:[h&&t.map((e,t)=>{let s=(0,n.jsxs)(a.Z,{id:"tooltip-".concat(t),className:"custom-tooltip row",children:[(0,n.jsxs)("div",{className:"fs-5",children:[l[t]||"N/A"," (",o[t]||"N/A",")"]}),(0,n.jsxs)("div",{className:"fs-5",children:[(0,n.jsx)("strong",{})," ",r[t]||"N/A"]}),(0,n.jsx)("div",{className:"fs-5",children:c[t]||"N/A"})]});return(0,n.jsx)(i.Z,{placement:"top",overlay:s,children:(0,n.jsxs)("span",{className:"".concat(u?"px-1":""," d-inline-block text-center"),style:{cursor:"pointer",lineHeight:"1.2"},children:[d&&(0,n.jsx)("span",{className:"small fs-6",style:{lineHeight:"1",textDecoration:"none",display:"block",color:"rgb(223 52 52)"},children:l[t]||""}),(0,n.jsx)("span",{className:"fs-3 hover-shadow",children:e})]})},t)}),!h&&s.map((e,t)=>{let s=(0,n.jsxs)(a.Z,{id:"tooltip-".concat(t),className:"custom-tooltip row",children:[(0,n.jsxs)("div",{className:"fs-5",children:[l[t]||"N/A"," (",o[t]||"N/A",")"]}),(0,n.jsxs)("div",{className:"fs-5",children:[(0,n.jsx)("strong",{})," ",r[t]||"N/A"]}),(0,n.jsx)("div",{className:"fs-5",children:c[t]||"N/A"})]});return(0,n.jsx)(i.Z,{placement:"top",overlay:s,children:(0,n.jsxs)("span",{className:"".concat(u?"px-1":""," d-inline-block text-center"),style:{cursor:"pointer",lineHeight:"1.2"},children:[d&&(0,n.jsx)("span",{className:"small fs-6",style:{lineHeight:"1",textDecoration:"none",display:"block",color:"rgb(223 52 52)"},children:l[t]||""}),(0,n.jsx)("span",{className:"fs-3 hover-shadow",children:e})]})},t)})]})})}s(15120)},15120:function(){}},function(e){e.O(0,[8905,4358,7481,9208,9461,5973,3539,8472,609,9233,6901,7468,2971,7023,1744],function(){return e(e.s=53711)}),_N_E=e.O()}]);