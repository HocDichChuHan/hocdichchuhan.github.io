(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5897],{53711:function(e,s,t){Promise.resolve().then(t.bind(t,6670))},6670:function(e,s,t){"use strict";t.d(s,{default:function(){return x}});var a=t(57437),n=t(2265),i=t(98708),l=t(12808),r=t(19768),c=t(23508),o=t(60516),d=t(65606),u=t(39731),h=t(66648),m=t(87138);function x(e){let{id:s}=e,[t,x]=(0,n.useState)(!0),[p,j]=(0,n.useState)(!1),[g,N]=(0,n.useState)(!1),[f,v]=(0,n.useState)(s),[S,y]=(0,n.useState)(),[w,b]=(0,n.useState)(),[k,Z]=(0,n.useState)(),[C,A]=(0,n.useState)(),[O,T]=(0,n.useState)(),[_,E]=(0,n.useState)([]),[H,F]=(0,n.useState)([]),[G,J]=(0,n.useState)([]),[L,M]=(0,n.useState)([]),[P,D]=(0,n.useState)([]),[I,R]=(0,n.useState)([]),[U,q]=(0,n.useState)(!0),[z,B]=(0,n.useState)(!0),K=(0,n.useRef)(null),[Q,V]=(0,n.useState)(!1),[W,X]=(0,n.useState)(0),[Y,$]=(0,n.useState)(0),[ee,es]=(0,n.useState)(1),[et,ea]=(0,n.useState)(!1),en=e=>e?"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat(Math.floor(e%60).toString().padStart(2,"0")):"00:00";(0,n.useEffect)(()=>{let e=(0,c.GJ)(),s=(0,c.bg)();N(e),j(s);let t=async()=>{x(!0);try{let e=(0,o.iH)(d.db,"/users/listen/".concat(f)),s=await (0,o.U2)(e);if(s.exists()){let e=s.val();if(!e)return;y(e.mp3Link),b(e.img),Z(e.tieude),A(e.tieudeTiengTrung),T(e.capdo),E(e.gianthe.split("\n")),F(e.tiengtrung.split("\n")),M(e.pinyin.split("\n")),D(e.nghia.split("\n")),R(e.level.split("\n")),J(e.hanviet.split("\n"))}}catch(e){console.error("Lỗi khi lấy dữ liệu:",e)}finally{x(!1)}},a=localStorage.getItem("isGianthe");null!==a&&ea(JSON.parse(a)),t()},[f]);let ei=async()=>{let e=!et;ea(e),localStorage.setItem("isGianthe",JSON.stringify(e))};return t?(0,a.jsx)(r.Z,{}):(0,a.jsx)(i.Z,{isStudy:!0,body:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"listen-header-container",style:{backgroundColor:"#00586b"},children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row mb-4",children:[(0,a.jsx)("div",{className:"col-12 col-md-8 ",children:(0,a.jsxs)("div",{className:"p-3 m-3",children:[(0,a.jsx)("h1",{className:"text-white",children:k}),(0,a.jsx)("h3",{className:"text-white",children:C}),(0,a.jsxs)("div",{className:"text-white",children:["(",O,")"]}),(0,a.jsxs)("div",{className:"btn-group mt-2",children:[(0,a.jsx)(l.Z,{variant:et?"warning":"primary",onClick:()=>ei(),children:et?"Change to Traditional Chinese":"Change to Simple Chinese"}),(0,a.jsxs)(l.Z,{variant:U?"danger":"secondary",onClick:()=>q(!U),children:["Pinyin ",U?"On":"Off"]}),(0,a.jsxs)(l.Z,{variant:z?"primary":"secondary",onClick:()=>B(!z),children:["Space ",z?"On":"Off"]}),g&&(0,a.jsx)(m.default,{href:"/listen/".concat(s,"/edit"),target:"_self",children:(0,a.jsx)(l.Z,{variant:"warning",children:"Edit"})})]})]})}),(0,a.jsx)("div",{className:"col-12 col-md-4 image-container",children:(0,a.jsx)(h.default,{src:w||"/placeholder-image.jpg",alt:"H\xecnh ảnh",width:400,height:400,className:"image-style rounded",style:{objectFit:"cover"}})})]})})}),(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsxs)("div",{className:"col-12 col-md-8",style:{marginTop:"-160px"},children:[(0,a.jsx)(u.Z,{gianthelist:_,tiengtrunglist:H,hanvietlist:G,pinyinlist:L,nghialist:P,levellist:I,isShowPinyin:U,isShowSpace:z,isGianthe:et}),S&&(0,a.jsxs)("div",{className:"d-flex align-items-center bg-dark text-white p-3 m-2 rounded",children:[(0,a.jsx)(l.Z,{variant:Q?"warning":"success",onClick:()=>{K.current&&(Q?K.current.pause():K.current.play(),V(!Q))},className:"me-2",children:Q?"⏸":"▶"}),(0,a.jsx)("input",{type:"range",min:"0",max:Y||100,value:W,onChange:e=>{if(K.current){let s=parseFloat(e.target.value);K.current.currentTime=s,X(s)}},className:"form-range w-50 me-2"}),(0,a.jsxs)("span",{className:"me-2",children:[en(W)," / ",en(Y)]}),(0,a.jsxs)("select",{value:ee.toFixed(1),onChange:e=>{let s=parseFloat(e.target.value);console.log("New playback rate:",s),es(s),K.current&&(K.current.playbackRate=s)},className:"form-select form-select-sm me-2",style:{width:"auto"},children:[(0,a.jsx)("option",{value:"0.5",children:"0.5x"}),(0,a.jsx)("option",{value:"1.0",children:"1.0x"}),(0,a.jsx)("option",{value:"1.5",children:"1.5x"}),(0,a.jsx)("option",{value:"2.0",children:"2.0x"})]}),(0,a.jsx)(l.Z,{variant:"outline-primary",href:S,download:"".concat(k||"audio",".mp3"),className:"ms-5",children:(0,a.jsx)("i",{className:"fa-solid fa-circle-down"})}),(0,a.jsx)("audio",{ref:K,src:S,onTimeUpdate:()=>{K.current&&X(K.current.currentTime)},onLoadedMetadata:()=>{K.current&&$(K.current.duration)},onEnded:()=>V(!1)})]})]})})})]})})}t(64379)},39731:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var a=t(57437);t(2265);var n=t(24539),i=t(59233);function l(e){let{gianthelist:s=[],tiengtrunglist:t=[],hanvietlist:l=[],pinyinlist:r=[],nghialist:c=[],levellist:o=[],isShowPinyin:d=!1,isShowSpace:u=!1,isGianthe:h=!0}=e;return(0,a.jsx)("div",{className:"container my-3",children:(0,a.jsxs)("div",{className:"p-3 border rounded bg-light",children:[h&&s.map((e,s)=>{let t=(0,a.jsxs)(n.Z,{id:"tooltip-".concat(s),className:"custom-tooltip row",children:[(0,a.jsxs)("div",{className:"fs-5",children:[r[s]||"N/A"," (",o[s]||"N/A",")"]}),(0,a.jsxs)("div",{className:"fs-5",children:[(0,a.jsx)("strong",{})," ",l[s]||"N/A"]}),(0,a.jsx)("div",{className:"fs-5",children:c[s]||"N/A"})]});return(0,a.jsx)(i.Z,{placement:"top",overlay:t,children:(0,a.jsxs)("span",{className:"".concat(u?"px-1":""," d-inline-block text-center"),style:{cursor:"pointer",lineHeight:"1.2"},children:[d&&(0,a.jsx)("span",{className:"small fs-6",style:{lineHeight:"1",textDecoration:"none",display:"block",color:"rgb(223 52 52)"},children:r[s]||""}),(0,a.jsx)("span",{className:"fs-3 hover-shadow",children:e})]})},s)}),!h&&t.map((e,s)=>{let t=(0,a.jsxs)(n.Z,{id:"tooltip-".concat(s),className:"custom-tooltip row",children:[(0,a.jsxs)("div",{className:"fs-5",children:[r[s]||"N/A"," (",o[s]||"N/A",")"]}),(0,a.jsxs)("div",{className:"fs-5",children:[(0,a.jsx)("strong",{})," ",l[s]||"N/A"]}),(0,a.jsx)("div",{className:"fs-5",children:c[s]||"N/A"})]});return(0,a.jsx)(i.Z,{placement:"top",overlay:t,children:(0,a.jsxs)("span",{className:"".concat(u?"px-1":""," d-inline-block text-center"),style:{cursor:"pointer",lineHeight:"1.2"},children:[d&&(0,a.jsx)("span",{className:"small fs-6",style:{lineHeight:"1",textDecoration:"none",display:"block",color:"rgb(223 52 52)"},children:r[s]||""}),(0,a.jsx)("span",{className:"fs-3 hover-shadow",children:e})]})},s)})]})})}t(15120)},15120:function(){}},function(e){e.O(0,[8905,4358,7481,9208,9461,5973,3539,8472,609,9233,6901,7468,2971,7023,1744],function(){return e(e.s=53711)}),_N_E=e.O()}]);