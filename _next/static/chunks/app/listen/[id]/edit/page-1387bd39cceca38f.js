(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5814],{17602:function(e,t,n){Promise.resolve().then(n.bind(n,37294))},37294:function(e,t,n){"use strict";n.d(t,{default:function(){return j}});var i=n(57437),s=n(2265),a=n(98708),l=n(12808),r=n(19768),u=n(23508),h=n(60516),c=n(65606),o=n(64379),g=n.n(o),p=n(34231),d=n(39731),v=n(62474),m=e=>{let{tumoilist:t,setTumoilist:n}=e,s=async e=>{let i=await (0,v.Z)("CN"),s=[...t];s[e].gianthe=i,n(s)},a=async(e,i,s)=>{let a=[...t];a[e][i]=s,n(a)},r=async e=>{let i=await (0,v.Z)("VN"),s=[...t];s[e].nghia=i,n(s)},h=e=>{n(t.filter((t,n)=>n!==e))},c=()=>{let e=[...t];e.push({tiengtrung:"",pinyin:"",nghia:""}),n(e)},o=async(e,i)=>{let s="",a="",l="",r=!1;try{let t=await (0,u.yI)(e);s=t.result[0].cn_vi,a=t.result[0].pinyin,l=t.result[0].content[0].means[0].mean,r=!0}catch(e){console.log("dataHanviet: null")}let h=await (0,u.PA)(e);if(!r){var c;let e=await (0,u.V2)(h);if(console.log(e.sentences),!e||!e.sentences||0===e.sentences.length)return;a=(null===(c=e.sentences[e.sentences.length-1])||void 0===c?void 0:c.src_translit)||"",l=e.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ")}let o=[...t];o[i].tiengtrung=h,o[i].pinyin=a,o[i].hanviet=s,o[i].nghia=l,n(o)};return(0,i.jsxs)("div",{className:"baihocgiaotiep-tumoi",children:[(0,i.jsx)("h2",{children:"Từ mới"}),(0,i.jsx)("ul",{children:t&&t.map((e,t)=>(0,i.jsxs)("li",{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{variant:"success",onClick:()=>s(t),children:"Get Voice"}),(0,i.jsx)("input",{type:"text",className:"tiengtrungText fs-3",value:e.gianthe?e.gianthe:"",placeholder:"中文简体",onChange:e=>a(t,"gianthe",e.target.value)}),(0,i.jsx)("input",{type:"text",className:"tiengtrungText fs-3",value:e.tiengtrung,placeholder:"中文",onChange:e=>a(t,"tiengtrung",e.target.value)}),(0,i.jsx)("input",{type:"text",className:"pinyinText",placeholder:"pinyin",value:e.pinyin,onChange:e=>a(t,"pinyin",e.target.value)}),(0,i.jsx)("input",{type:"text",className:"nghiaText",placeholder:"H\xe1n Việt",value:e.hanviet,onChange:e=>a(t,"hanviet",e.target.value)}),(0,i.jsx)("input",{type:"text",className:"nghiaText",placeholder:"nghĩa",value:e.nghia,onChange:e=>a(t,"nghia",e.target.value)}),(0,i.jsx)(l.Z,{variant:"success",onClick:()=>r(t),children:"Get Voice Dịch"}),(0,i.jsx)(l.Z,{variant:"warning",onClick:()=>o(e.gianthe,t),children:"GetPinyin"})]}),(0,i.jsx)("div",{children:(0,i.jsx)(l.Z,{variant:"danger",onClick:()=>h(t),children:"X\xf3a từ mới n\xe0y"})})]},t))}),(0,i.jsx)(l.Z,{variant:"info",onClick:()=>c(),children:"Th\xeam Từ Mới"})]})},x=n(50658),y=n(32608);function j(e){let{id:t}=e,[n,o]=(0,s.useState)(!0),[v,j]=(0,s.useState)(!1),[S,f]=(0,s.useState)(!1),[C,N]=(0,s.useState)(t),[w,Z]=(0,s.useState)(""),[k,T]=(0,s.useState)(""),[b,D]=(0,s.useState)(""),[E,L]=(0,s.useState)(""),[P,V]=(0,s.useState)(""),[_,H]=(0,s.useState)(""),[R,G]=(0,s.useState)(""),[K,M]=(0,s.useState)(""),[z,O]=(0,s.useState)(""),[I,U]=(0,s.useState)(""),[A,B]=(0,s.useState)(""),[F,J]=(0,s.useState)([]),[X,q]=(0,s.useState)([]),[Q,W]=(0,s.useState)([]),[Y,$]=(0,s.useState)([]),[ee,et]=(0,s.useState)([]),[en,ei]=(0,s.useState)([]),[es,ea]=(0,s.useState)([]),[el,er]=(0,s.useState)([]),[eu,eh]=(0,s.useState)([]),[ec,eo]=(0,s.useState)([]),[eg,ep]=(0,s.useState)(),[ed,ev]=(0,s.useState)([]),[em,ex]=(0,s.useState)([]),[ey,ej]=(0,s.useState)([]),[eS,ef]=(0,s.useState)([]),[eC,eN]=(0,s.useState)([]),[ew,eZ]=(0,s.useState)(null),ek=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=(0,u.GJ)(),t=(0,u.bg)();f(e),j(t),(async()=>{o(!0);try{let e=(0,h.iH)(c.db,"/users/listen/".concat(C)),t=await (0,h.U2)(e);if(t.exists()){let e=t.val();if(!e)return;H(e.gianthe||""),G(e.tiengtrung||""),O(e.pinyin||""),U(e.nghia||""),B(e.level||""),M(e.hanviet||""),Z(e.mp3Link||""),T(e.img||""),D(e.tieude||""),L(e.tieudeTiengTrung||""),V(e.capdo||""),J(e.allData||""),eh(e.tumoi||[]),eo(e.nguphaps||[]),eD(e.mp3Timeline),eN(e.mp3timelinelist),ep(e.thamchieu||""),W(e.gianthe?e.gianthe.split("\n"):[]),$(e.tiengtrung?e.tiengtrung.split("\n"):[]),ei(e.pinyin?e.pinyin.split("\n"):[]),ea(e.nghia?e.nghia.split("\n"):[]),er(e.level?e.level.split("\n"):[]),et(e.hanviet?e.hanviet.split("\n"):[])}}catch(e){console.error("Lỗi khi lấy dữ liệu:",e)}finally{o(!1)}})()},[]),(0,s.useEffect)(()=>{H(Q.join("\n")),G(Y.join("\n")),O(en.join("\n")),U(es.join("\n")),B(el.join("\n")),M(ee.join("\n"))},[Q,Y,en,es,el,ee]);let eT=e=>{N(e)},eb=e=>{J(e);let t=e.split("\n"),n=[],i=[],s=[],a=[],l=[],r=[];t.forEach(e=>{if(!e.trim()||"*"===e.trim())return;let t=e.split("	");if(t.length<6)return;let[u,h,c,o,g,p]=t;n.push(u.trim()),i.push(h.trim()),s.push(c.trim()),a.push(o.trim()),l.push(g.trim()),r.push(p.trim())}),W(n),$(i),et(s),ei(a),ea(l),er(r)},eD=e=>{if(q(e),!e)return;let t=e.split("*"),n=[],i=[],s=[],a=[];t&&t.length>0&&(t.map((e,t)=>{let[l,r,u,h]=e.trim().split("\n");n.push(l.trim()),i.push(r.trim()),s.push(u.trim()),a.push(h.trim())}),ev(n),ex(i),ej(s),ef(a))},eE=(e,t)=>{let n=eC?[...eC]:[];n[e]=t,eN(n)},eL=e=>{eZ(e),ek.current?eE(e,ek.current.getCurrentTime()):g().fire("⚠️ Cảnh b\xe1o","Kh\xf4ng thể lấy thời gian, vui l\xf2ng kiểm tra MP3.","warning")},eP=async()=>{try{let e=(0,h.iH)(c.db,"/users/listen/".concat(C));await (0,h.t8)(e,{gianthe:_,tiengtrung:R,pinyin:z,nghia:I,level:A,hanviet:K,mp3Link:w,img:k,tieude:b,capdo:P,tieudeTiengTrung:E,allData:F,tumoi:eu,nguphaps:ec,mp3Timeline:X,mp3timelinelist:eC,thamchieu:eg}),g().fire("✅ Th\xe0nh c\xf4ng","Dữ liệu đ\xe3 được lưu.","success")}catch(e){console.error("❌ Lỗi khi lưu:",e),g().fire("❌ Lỗi","C\xf3 lỗi xảy ra khi lưu dữ liệu.","error")}};return n?(0,i.jsx)(r.Z,{}):(0,i.jsx)(a.Z,{body:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h2",{children:"Edit list c\xe1c đường dẫn"}),(0,i.jsx)(l.Z,{onClick:eP,className:"btn btn-success mb-1",children:"\uD83D\uDCBE Lưu dữ liệu"}),(0,i.jsx)(p.Z,{value:C,placeholder:"Nhập ID",onChange:e=>eT(e.target.value)}),(0,i.jsx)(p.Z,{value:b,placeholder:"Nhập Ti\xeau Đề",onChange:e=>D(e.target.value)}),(0,i.jsx)(p.Z,{value:E,placeholder:"Nhập Ti\xeau Đề Tiếng Trung",onChange:e=>L(e.target.value)}),(0,i.jsx)(p.Z,{value:P,placeholder:"Nhập HSK ?",onChange:e=>V(e.target.value)}),(0,i.jsx)(p.Z,{value:w,placeholder:"Nhập Link MP3",onChange:e=>Z(e.target.value)}),(0,i.jsx)(p.Z,{value:k,placeholder:"Nhập Link Image",onChange:e=>T(e.target.value)}),(0,i.jsx)(p.Z,{value:eg,placeholder:"Nhập đường dẫn tham chiếu",onChange:e=>ep(e.target.value)}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-12 col-md-6",children:(0,i.jsx)(p.Z,{value:F,placeholder:"Nhập To\xe0n Bộ Data",onChange:e=>eb(e.target.value)})}),(0,i.jsxs)("div",{className:"col-12 col-md-6",children:[(0,i.jsx)(d.Z,{gianthelist:Q,tiengtrunglist:Y,hanvietlist:ee,pinyinlist:en,nghialist:es,levellist:el,isShowPinyin:!0,isShowSpace:!0}),(0,i.jsx)(y.Z,{ref:ek,mp3:w,tieude:b}),(0,i.jsx)(p.Z,{value:X,placeholder:"Nhập Mp3 Time Line",onChange:e=>eD(e.target.value)})]})]}),(console.log(ed),(0,i.jsx)("div",{children:ed.map((e,t)=>(0,i.jsxs)("div",{children:[(0,i.jsx)(p.Z,{value:ed[t],placeholder:"mp3gianthelist"}),(0,i.jsx)(p.Z,{value:em[t],placeholder:"mp3tiengtrunglist"}),(0,i.jsx)(p.Z,{value:ey[t],placeholder:"mp3pinyinlist"}),(0,i.jsx)(p.Z,{value:eS[t],placeholder:"mp3nghialist"}),(0,i.jsx)(p.Z,{value:eC&&eC[t]||null,placeholder:"mp3timelinelist",onChange:e=>{let n=[...eC];n[t]=e.target.value,eN(n)}}),(0,i.jsx)(l.Z,{onClick:()=>eL(t),className:"btn btn-primary",children:"Select to Get Time"}),(0,i.jsx)("hr",{})]},t))})),(0,i.jsx)(m,{tumoilist:eu,setTumoilist:eh}),(0,i.jsx)(x.Z,{nguphaps:ec,setNguphap:eo})]})})}},89745:function(e,t,n){"use strict";n.d(t,{M:function(){return l}});let i=null,s=-1,a=!1,l=async e=>{console.log(e);for(let t=0;t<e.length;t++)await r(e[t],t),await u(1e3)},r=(e,t)=>new Promise(t=>{speechSynthesis.speaking&&speechSynthesis.cancel();let n=new SpeechSynthesisUtterance(e);n.lang="zh-CN",n.rate=.7,n.onend=()=>{t()},speechSynthesis.speak(n)}),u=e=>new Promise(t=>setTimeout(t,e));t.Z=(e,t)=>{if(speechSynthesis.speaking&&s!==t&&speechSynthesis.cancel(),s===t){speechSynthesis.speaking&&a?(speechSynthesis.pause(),console.log("pause"),a=!1):(speechSynthesis.resume(),console.log("resume"),a=!0);return}a=!0,(i=new SpeechSynthesisUtterance(e)).lang="zh-CN",i.rate=.7,speechSynthesis.speak(i),s=t,i.onend=()=>{s=-1}}},62474:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(64379),s=n.n(i);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"VN";return new Promise((t,n)=>{if(!("webkitSpeechRecognition"in window)){n("Tr\xecnh duyệt kh\xf4ng hỗ trợ Speech Recognition");return}let i=new window.webkitSpeechRecognition;i.lang=({VN:"vi-VN",CN:"zh-CN"})[e]||"vi-VN",i.continuous=!1,i.interimResults=!1,s().fire({title:"\uD83C\uDFA4 Đang lắng nghe (".concat(e,")"),text:"H\xe3y n\xf3i v\xe0o micro...",allowOutsideClick:!1,allowEscapeKey:!1,position:"top-end",didOpen:()=>{s().showLoading(),i.start()}}),i.onresult=e=>{let n=e.results[0][0].transcript;s().close(),t(n)},i.onerror=e=>{s().close(),n(e.error||"Lỗi kh\xf4ng x\xe1c định")},i.onend=()=>{i.resultReceived||(s().close(),n("Kh\xf4ng nghe thấy \xe2m thanh"))}})}},34231:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(57437),s=n(2265);function a(e){let{value:t,onChange:n,className:a="",placeholder:l="",onKeyDown:r}=e,u=(0,s.useRef)(null),h=()=>{let e=u.current;e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")};return(0,s.useEffect)(()=>{h()},[t]),(0,s.useEffect)(()=>{h()},[]),(0,i.jsx)("textarea",{ref:u,className:"form-control ".concat(a),value:t,onChange:n,placeholder:l,rows:1,style:{overflow:"hidden",resize:"none"},onKeyDown:r})}}},function(e){e.O(0,[4443,4358,7481,9208,9461,8765,4974,3539,8472,609,9233,6901,7468,658,4590,2971,7023,1744],function(){return e(e.s=17602)}),_N_E=e.O()}]);