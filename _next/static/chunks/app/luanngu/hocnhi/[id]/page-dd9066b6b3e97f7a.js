(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9148],{46374:function(e,t,n){Promise.resolve().then(n.bind(n,81120))},81120:function(e,t,n){"use strict";n.d(t,{default:function(){return m}});var a=n(57437),s=n(2265),r=n(66802),i=n(12808);n(64379);var c=n(65606);n(58833),n(91795);var l=n(19768),o=n(87138);n(66648),n(38472),n(31243);var h=n(89745),A=n(23508);n(78925),n(69937);var d=n(77761),u=n(21682),g=n(91654);function m(e){let{id:t}=e,[n,m]=(0,s.useState)({user:null,allData:null}),[p,x]=(0,s.useState)(!0),[j,f]=(0,s.useState)(),[v,y]=(0,s.useState)(!1),[w,N]=(0,s.useState)(!1),[E,k]=(0,s.useState)(),[b,C]=(0,s.useState)([]),S=(0,s.useRef)([]),[D,I]=(0,s.useState)(null),[B,L]=(0,s.useState)(!1),[z,Q]=(0,s.useState)(),[Z,O]=(0,s.useState)(),[R,T]=(0,s.useState)(!1),[U,P]=(0,s.useState)([]),_=(0,s.useRef)(null),[H,F]=(0,s.useState)(0);(0,s.useEffect)(()=>{G();let e=(0,A.GJ)(),t=(0,A.bg)();N(e),y(t)},[]),(0,s.useEffect)(()=>{let e=document.querySelector(".render-item-container");e&&F(e.clientHeight)},[j]);let G=async()=>{try{var e=JSON.parse(localStorage.getItem("allData"));e||await M(),e=await JSON.parse(localStorage.getItem("allData"));let n=await e.find(e=>"luanngu"===e.key),a=await n.value.hocnhi[t];f(a),k(a.tumoi),P(a.nguphap),x(!1)}catch(e){x(!1),console.error("Error getting dichthuat data: ",e)}},M=async()=>{try{let e=(await (0,c.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let t={};for(let n in e.value)if(e.value.hasOwnProperty(n)){let{username:a,password:s,...r}=e.value[n];t[n]=r}return{...e,value:t}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},W=(e,t,n)=>p?null:e.split("\n").map((e,s)=>{let r=[],c="";for(let t=0;t<e.length;t++){let n=e[t];/[.,:;?!：；。“’”！，？"」「 ]/.test(n)?c+=n:(c&&(r.push(c),c=""),c=n)}c&&r.push(c);let l=t.split("\n")[s]?t.split("\n")[s].replace(/\s+/g," ").split(" "):"",o=n.split("\n")[s]?n.split("\n")[s].replace(/\s+/g," ").split(" "):"";return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"chuHanListComponentDiv",children:[r.map((e,t)=>J(e,l[t],o[t],t)),(0,a.jsx)(i.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,h.Z)(e,s),children:"\uD83D\uDD0A"})]})},s)}),J=(e,t,n,s)=>(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"chuHanPrint card",style:{borderLeftWidth:0,borderRightWidth:0},children:(0,a.jsxs)("div",{className:"card-body",style:{padding:0},children:[(0,a.jsx)(g.Z,{chineseList:e,isHighlight:!0}),(0,a.jsx)("div",{className:"row",style:{padding:1,margin:1,fontSize:18},children:(0,a.jsx)("small",{children:t})}),(0,a.jsx)("div",{className:"row",style:{padding:1,margin:1},children:(0,a.jsx)("button",{className:"btnBacKinh",children:n})})]})})},s);return((0,s.useEffect)(()=>{let e=e=>{_.current&&!_.current.contains(e.target)&&(I(null),L(!1))};return B&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[B]),(0,s.useEffect)(()=>{b.length>0&&setTimeout(()=>{S.current.forEach((e,t)=>{if(e){let n=e.getTotalLength();e.style.strokeDasharray=n,e.style.strokeDashoffset=n,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[b]),p)?(0,a.jsx)(l.Z,{}):(0,a.jsx)(r.Z,{isStudy:!0,body:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("h1",{children:j.tieude}),(0,a.jsx)("hr",{}),w&&(0,a.jsx)("div",{children:(0,a.jsx)(o.default,{href:"/luanngu/hocnhi/edit/".concat(t),children:(0,a.jsx)(i.Z,{variant:"info",children:"Chỉnh sửa"})})}),(0,a.jsx)(d.Z,{showStrokeArea:B,activeCharacter:D,strokes:b,pathsRef:S,isShowImage:R,dataTranslate:Z,dataWrite:z,strokeAreaRef:_}),(0,a.jsx)("h3",{children:"Nội dung"}),(0,a.jsx)("span",{style:{whiteSpace:"pre-line"},children:j.giangrong}),(0,a.jsx)("hr",{}),(0,a.jsx)("h3",{children:"Ch\xfa th\xedch"}),(0,a.jsx)("span",{style:{whiteSpace:"pre-line"},children:j.chuthich}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"luanngu-viewer row",children:[(0,a.jsxs)("div",{className:"col-md-6 col-12 render-item-container",children:[(0,a.jsx)("h1",{children:"Văn Ng\xf4n"}),W(j.vanngon.tiengtrung,j.vanngon.hanviet,j.vanngon.pinyin),(0,a.jsx)("hr",{}),(0,a.jsx)("h1",{children:"Bạch Thoại"}),W(j.bachthoai.tiengtrung,j.bachthoai.hanviet,j.bachthoai.pinyin)]}),(0,a.jsx)("div",{className:"col-md-6 col-12 col-6",children:(0,a.jsx)("div",{className:"luanngu-table-container",style:{height:H},children:E?(0,a.jsx)("div",{className:"luanngu-table-container",children:(0,a.jsxs)("table",{className:"luanngu-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{style:{width:"10%"},children:"STT"}),(0,a.jsx)("th",{style:{width:"25%"},children:"Tiếng Trung"}),(0,a.jsx)("th",{style:{width:"20%"},children:"Nghĩa"}),(0,a.jsx)("th",{style:{width:"45%"},children:"V\xed dụ"})]})}),(0,a.jsx)("tbody",{children:E.map((e,t)=>(0,a.jsxs)("tr",{className:"luanngu-tumoi",children:[(0,a.jsxs)("td",{children:[t+1,"  "]}),(0,a.jsxs)("td",{children:[(0,a.jsxs)("p",{children:[e.tiengtrung," ",(0,a.jsx)(i.Z,{className:"btn-phatamthanh",style:{maxWidth:"50px",maxHeight:"50px"},variant:"info",onClick:()=>(0,h.Z)(e.tiengtrung,t+50),children:"\uD83D\uDD0A"})]}),(0,a.jsx)("p",{children:e.pinyin}),(0,a.jsx)("span",{children:e.hanviet})]}),(0,a.jsx)("td",{children:e.nghia}),(0,a.jsxs)("td",{children:[(0,a.jsxs)("p",{children:[(0,A.LA)(e.vidutiengtrung,e.tiengtrung),(0,a.jsx)(i.Z,{className:"btn-phatamthanh",style:{maxWidth:"100px",maxHeight:"50px"},variant:"danger",onClick:()=>(0,h.Z)(e.vidutiengtrung,t+150),children:"\uD83D\uDD0AV\xed dụ"})]}),(0,a.jsx)("p",{children:e.vidupinyin}),(0,a.jsx)("p",{children:e.vidunghia})]})]},t))})]})}):null})})]}),(0,a.jsxs)("div",{className:"nguphap-container",style:{marginTop:"60px"},children:[(0,a.jsx)("h2",{children:"Phần Ngữ Ph\xe1p"}),(0,a.jsx)(u.Z,{nguphaps:U})]})]})})}},21682:function(e,t,n){"use strict";var a=n(57437),s=n(2265),r=n(12808),i=n(23508),c=n(89745),l=n(77761),o=n(38472);t.Z=e=>{let{nguphaps:t,isGianthe:n}=e,[h,A]=(0,s.useState)(!1),[d,u]=(0,s.useState)([]),g=(0,s.useRef)([]),[m,p]=(0,s.useState)(null),[x,j]=(0,s.useState)(!1),[f,v]=(0,s.useState)(),[y,w]=(0,s.useState)(),N=(0,s.useRef)(null),[E,k]=(0,s.useState)({}),b=async e=>{try{u([]),p(e),j(!0),await C(e);let t="https://tiengtrungdongyang.com/huongdanviet/".concat(e.charCodeAt(0),".svg"),n=await S(t),a=await o.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!a.data.found)throw Error("Network response was not ok");let s=await o.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=word&page=1&limit=50"));if(!s.data.found)throw Error("Network response was not ok");v(a.data),w(s.data),A(n)}catch(e){console.error("Error fetching Hanzi data:",e)}},C=async e=>{try{let t=await fetch("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!t.ok)throw Error("Network response was not ok");let n=await t.json();if(console.log(n),n.found&&n.result.length>0){let e=JSON.parse(n.result[0].strokes);u(e.strokes)}}catch(e){console.error("Error fetching Hanzi data:",e)}};(0,s.useEffect)(()=>{let e=e=>{N.current&&!N.current.contains(e.target)&&(p(null),j(!1))};return x&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[x]),(0,s.useEffect)(()=>{d.length>0&&setTimeout(()=>{g.current.forEach((e,t)=>{if(e){let n=e.getTotalLength();e.style.strokeDasharray=n,e.style.strokeDashoffset=n,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[d]);let S=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch(e){return console.error("Lỗi khi kiểm tra đường dẫn:",e),!1}},D=(e,t,n)=>{let a="".concat(e,"_").concat(t,"_").concat(n);k(e=>({...e,[a]:!e[a]}))};return t&&0!==t.length?t.map((e,t)=>(0,a.jsxs)("div",{className:"nguphapshow-container",children:[m&&(0,a.jsx)(l.Z,{isGianthe:n,showStrokeArea:x,activeCharacter:m,strokes:d,pathsRef:g,isShowImage:h,dataTranslate:y,dataWrite:f,strokeAreaRef:N}),(0,a.jsxs)("h3",{children:[(0,i.LA)(e.tieude,e.key)," ",(0,i.LA)(e.keygianthe,"Giản Thể: "+(e.keygianthe||""))]}),e.cachdung&&e.cachdung.map((s,l)=>(0,a.jsx)("div",{className:"card border-primary",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("h4",{className:"card-title",children:["C\xe1ch d\xf9ng ",e.cachdung.length>1&&l+1,":"]}),(0,a.jsx)("h5",{children:(0,i.LA)(s.noidung,e.key)}),(0,a.jsx)("hr",{}),s.vidu.map((s,o)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"nguphapViduContainer d-flex justify-content-between align-items-center",children:(0,a.jsx)(r.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,c.Z)(s.tiengtrung,o+200),children:"\uD83D\uDD0A"})}),(0,a.jsxs)("div",{className:"nguphapVidu chinese-word",children:[!n&&s.tiengtrung&&s.tiengtrung.split("").map((t,n)=>(0,a.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>b(t),children:(0,i.LA)(t||"",e.key)},n)),n&&s.gianthe&&s.gianthe.split("").map((t,n)=>(0,a.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>b(t),children:(0,i.LA)(t||"",e.keygianthe)},n))]}),(0,a.jsx)("p",{children:s.pinyin||""}),E["".concat(t,"_").concat(l,"_").concat(o)]&&(0,a.jsx)("p",{children:s.nghia||""}),(0,a.jsx)(r.Z,{variant:E["".concat(t,"_").concat(l,"_").concat(o)]?"primary":"secondary",onClick:()=>D(t,l,o),children:E["".concat(t,"_").concat(l,"_").concat(o)]?"Ẩn nghĩa":"Hiện nghĩa"}),(0,a.jsx)("hr",{})]},o))]})},l))]},t)):null}},23508:function(e,t,n){"use strict";n.d(t,{FF:function(){return m},GJ:function(){return v},Gv:function(){return g},LA:function(){return u},PA:function(){return p},Pw:function(){return j},V2:function(){return x},bg:function(){return y},o0:function(){return A},sq:function(){return w},xb:function(){return d},yI:function(){return f}});var a=n(57437),s=n(9782),r=n(31213),i=n(2265),c=n(45749),l=n(66648),o=n(38472),h=n(91654);let A=e=>{if(!e)return"";try{let t=new Date(e);return(0,s.WU)(t,"h:mm a, dd 'Th\xe1ng' MM, yyyy",{locale:r.vi})}catch(t){return console.error("Invalid date format:",e),e}};function d(e){return(0,a.jsxs)("div",{className:"itemCard-container-dashboardView",children:[(0,a.jsxs)("div",{className:"itemCard-UserName itemcard-UserName-sticky",children:[(0,a.jsxs)("div",{className:"itemCard-UserName-1",children:[(0,a.jsx)(l.default,{src:e.imgUser?e.imgUser:c.Z,alt:"img",width:30,height:30}),(0,a.jsxs)("div",{className:"itemCard-UserName-container",children:[(0,a.jsx)("h4",{className:"username-card",children:e.username}),(0,a.jsx)("p",{style:{margin:"0"},children:A(e.dateTime)})]})]}),(()=>{let t=localStorage.getItem("name");return e.username==t?(0,a.jsx)("div",{className:"itemCard-UserName-1",children:(0,a.jsx)("button",{className:"btn btn-options",onClick:e.removeClick,style:{padding:"0",margin:"0"},children:(0,a.jsx)("i",{className:"fa-solid fa-trash"})})}):null})()]}),(0,a.jsx)("div",{className:"itemCard-baiDich",children:e.baidich})]})}let u=(e,t)=>e?e.split(RegExp("(".concat(t,")"),"gi")).map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,a.jsx)("span",{style:{color:"red"},children:e},n):e.split("\n").map((e,t,n)=>t===n.length-1?e:(0,a.jsxs)(i.Fragment,{children:[e,(0,a.jsx)("br",{})]},t))):null,g=(e,t)=>{if(!e||!t||0===t.length)return null;let n=RegExp("(".concat(t.join("|"),")"),"gi");return e.split(n).map((e,n)=>t.some(t=>t.toLowerCase()===e.toLowerCase())?(0,a.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:(0,a.jsx)(h.Z,{chineseList:e,isGianthe:!0})},n):(0,a.jsx)(i.Fragment,{children:e.split("\n").map((e,t,s)=>(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(h.Z,{chineseList:e,isGianthe:!0}),t<s.length-1&&(0,a.jsx)("br",{})]},"".concat(n,"-").concat(t)))},n))},m=async e=>{try{let t=await o.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=vi&tl=en&q=".concat(encodeURIComponent(e)));if(t.data)return t.data.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},p=async e=>{try{let t=await o.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(e)));if(t.data)return t.data.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},x=async e=>{try{let t=await o.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-TW&tl=vi&q=".concat(encodeURIComponent(e)));if(t.data)return t.data;return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},j=e=>e&&e.includes("hocdichchuhan.github.io")?e.replace("hocdichchuhan.github.io","tiengtrungdongyang.com"):e,f=async e=>{let t=encodeURIComponent(e),n=await o.Z.get("https://api.hanzii.net/api/search/vi/".concat(t,"?type=word&page=1&limit=2"));return n.data.found?n.data:null},v=()=>{let e=w();return!!e&&"sDHYFpe6CMazPbsZ0mzSyY8d5Ev1"==e},y=()=>!!w(),w=()=>{let e=JSON.parse(localStorage.getItem("userLogin"));return null==e?void 0:e.uid}},45749:function(e,t){"use strict";t.Z={src:"/_next/static/media/user.f64324c2.jpg",height:200,width:200,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAG0E//EABUQAQEAAAAAAAAAAAAAAAAAABMk/9oACAEBAAEFAlo//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwF//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPwF//8QAGBAAAgMAAAAAAAAAAAAAAAAAABIxQWH/2gAIAQEABj8CRqjT/8QAGBAAAgMAAAAAAAAAAAAAAAAAESEAMbH/2gAIAQEAAT8hGkETU//aAAwDAQACAAMAAAAQ+//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABgQAAIDAAAAAAAAAAAAAAAAAAARQZGh/9oACAEBAAE/ELbi5YP/2Q==",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[2800,770,5527,4358,7481,9208,9461,8765,4974,3539,8472,609,6901,6802,1654,4547,2971,7023,1744],function(){return e(e.s=46374)}),_N_E=e.O()}]);