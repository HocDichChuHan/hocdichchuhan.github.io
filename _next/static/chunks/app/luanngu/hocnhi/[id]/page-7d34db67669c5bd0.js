(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9148],{46374:function(e,t,n){Promise.resolve().then(n.bind(n,81120))},81120:function(e,t,n){"use strict";n.d(t,{default:function(){return m}});var a=n(57437),s=n(2265),i=n(66802),r=n(12808);n(64379);var l=n(65606);n(58833),n(91795);var c=n(19768),h=n(87138);n(66648),n(38472),n(31243);var u=n(89745),d=n(23508);n(87497),n(69937);var o=n(77761),g=n(21682),x=n(91654);function m(e){let{id:t}=e,[n,m]=(0,s.useState)({user:null,allData:null}),[j,p]=(0,s.useState)(!0),[v,f]=(0,s.useState)(),[y,S]=(0,s.useState)(!1),[w,N]=(0,s.useState)(!1),[D,b]=(0,s.useState)(),[k,E]=(0,s.useState)([]),Z=(0,s.useRef)([]),[C,L]=(0,s.useState)(null),[T,A]=(0,s.useState)(!1),[H,R]=(0,s.useState)(),[O,_]=(0,s.useState)(),[P,W]=(0,s.useState)(!1),[I,J]=(0,s.useState)([]),V=(0,s.useRef)(null),[B,U]=(0,s.useState)(0);(0,s.useEffect)(()=>{q();let e=(0,d.GJ)(),t=(0,d.bg)();N(e),S(t)},[]),(0,s.useEffect)(()=>{let e=document.querySelector(".render-item-container");e&&U(e.clientHeight)},[v]);let q=async()=>{try{var e=JSON.parse(localStorage.getItem("allData"));e||await z(),e=await JSON.parse(localStorage.getItem("allData"));let n=await e.find(e=>"luanngu"===e.key),a=await n.value.hocnhi[t];f(a),b(a.tumoi),J(a.nguphap),p(!1)}catch(e){p(!1),console.error("Error getting dichthuat data: ",e)}},z=async()=>{try{let e=(await (0,l.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let t={};for(let n in e.value)if(e.value.hasOwnProperty(n)){let{username:a,password:s,...i}=e.value[n];t[n]=i}return{...e,value:t}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},G=(e,t,n)=>j?null:e.split("\n").map((e,s)=>{let i=[],l="";for(let t=0;t<e.length;t++){let n=e[t];/[.,:;?!：；。“’”！，？"」「 ]/.test(n)?l+=n:(l&&(i.push(l),l=""),l=n)}l&&i.push(l);let c=t.split("\n")[s]?t.split("\n")[s].replace(/\s+/g," ").split(" "):"",h=n.split("\n")[s]?n.split("\n")[s].replace(/\s+/g," ").split(" "):"";return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"chuHanListComponentDiv",children:[i.map((e,t)=>K(e,c[t],h[t],t)),(0,a.jsx)(r.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,u.Z)(e,s),children:"\uD83D\uDD0A"})]})},s)}),K=(e,t,n,s)=>(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"chuHanPrint card",style:{borderLeftWidth:0,borderRightWidth:0},children:(0,a.jsxs)("div",{className:"card-body",style:{padding:0},children:[(0,a.jsx)(x.Z,{chineseList:e,isHighlight:!0}),(0,a.jsx)("div",{className:"row",style:{padding:1,margin:1,fontSize:18},children:(0,a.jsx)("small",{children:t})}),(0,a.jsx)("div",{className:"row",style:{padding:1,margin:1},children:(0,a.jsx)("button",{className:"btnBacKinh",children:n})})]})})},s);return((0,s.useEffect)(()=>{let e=e=>{V.current&&!V.current.contains(e.target)&&(L(null),A(!1))};return T&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[T]),(0,s.useEffect)(()=>{k.length>0&&setTimeout(()=>{Z.current.forEach((e,t)=>{if(e){let n=e.getTotalLength();e.style.strokeDasharray=n,e.style.strokeDashoffset=n,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[k]),j)?(0,a.jsx)(c.Z,{}):(0,a.jsx)(i.Z,{isStudy:!0,body:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("h1",{children:v.tieude}),(0,a.jsx)("hr",{}),w&&(0,a.jsx)("div",{children:(0,a.jsx)(h.default,{href:"/luanngu/hocnhi/edit/".concat(t),children:(0,a.jsx)(r.Z,{variant:"info",children:"Chỉnh sửa"})})}),(0,a.jsx)(o.Z,{showStrokeArea:T,activeCharacter:C,strokes:k,pathsRef:Z,isShowImage:P,dataTranslate:O,dataWrite:H,strokeAreaRef:V}),(0,a.jsx)("h3",{children:"Nội dung"}),(0,a.jsx)("span",{style:{whiteSpace:"pre-line"},children:v.giangrong}),(0,a.jsx)("hr",{}),(0,a.jsx)("h3",{children:"Ch\xfa th\xedch"}),(0,a.jsx)("span",{style:{whiteSpace:"pre-line"},children:v.chuthich}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"luanngu-viewer row",children:[(0,a.jsxs)("div",{className:"col-md-6 col-12 render-item-container",children:[(0,a.jsx)("h1",{children:"Văn Ng\xf4n"}),G(v.vanngon.tiengtrung,v.vanngon.hanviet,v.vanngon.pinyin),(0,a.jsx)("hr",{}),(0,a.jsx)("h1",{children:"Bạch Thoại"}),G(v.bachthoai.tiengtrung,v.bachthoai.hanviet,v.bachthoai.pinyin)]}),(0,a.jsx)("div",{className:"col-md-6 col-12 col-6",children:(0,a.jsx)("div",{className:"luanngu-table-container",style:{height:B},children:D?(0,a.jsx)("div",{className:"luanngu-table-container",children:(0,a.jsxs)("table",{className:"luanngu-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{style:{width:"10%"},children:"STT"}),(0,a.jsx)("th",{style:{width:"25%"},children:"Tiếng Trung"}),(0,a.jsx)("th",{style:{width:"20%"},children:"Nghĩa"}),(0,a.jsx)("th",{style:{width:"45%"},children:"V\xed dụ"})]})}),(0,a.jsx)("tbody",{children:D.map((e,t)=>(0,a.jsxs)("tr",{className:"luanngu-tumoi",children:[(0,a.jsxs)("td",{children:[t+1,"  "]}),(0,a.jsxs)("td",{children:[(0,a.jsxs)("p",{children:[e.tiengtrung," ",(0,a.jsx)(r.Z,{className:"btn-phatamthanh",style:{maxWidth:"50px",maxHeight:"50px"},variant:"info",onClick:()=>(0,u.Z)(e.tiengtrung,t+50),children:"\uD83D\uDD0A"})]}),(0,a.jsx)("p",{children:e.pinyin}),(0,a.jsx)("span",{children:e.hanviet})]}),(0,a.jsx)("td",{children:e.nghia}),(0,a.jsxs)("td",{children:[(0,a.jsxs)("p",{children:[(0,d.LA)(e.vidutiengtrung,e.tiengtrung),(0,a.jsx)(r.Z,{className:"btn-phatamthanh",style:{maxWidth:"100px",maxHeight:"50px"},variant:"danger",onClick:()=>(0,u.Z)(e.vidutiengtrung,t+150),children:"\uD83D\uDD0AV\xed dụ"})]}),(0,a.jsx)("p",{children:e.vidupinyin}),(0,a.jsx)("p",{children:e.vidunghia})]})]},t))})]})}):null})})]}),(0,a.jsxs)("div",{className:"nguphap-container",style:{marginTop:"60px"},children:[(0,a.jsx)("h2",{children:"Phần Ngữ Ph\xe1p"}),(0,a.jsx)(g.Z,{nguphaps:I})]})]})})}},91654:function(e,t,n){"use strict";var a=n(57437),s=n(2265);n(77761);var i=n(27593),r=n(87497);t.Z=e=>{let{chineseList:t,isGianthe:n,isHighlight:l=!1}=e,[c,h]=(0,s.useState)(!1),[u,d]=(0,s.useState)([]),[o,g]=(0,s.useState)(null),[x,m]=(0,s.useState)(null),[j,p]=(0,s.useState)(!1),[v,f]=(0,s.useState)(null),[y,S]=(0,s.useState)(null),w=(0,s.useRef)(null),N=(0,s.useRef)([]),D=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch(e){return console.error("Lỗi khi kiểm tra ảnh:",e),!1}},b=async e=>{try{console.log("Chữ được chọn:",e),d([]),g(e),p(!0);let t="https://tiengtrungdongyang.com/huongdanviet/".concat(e.charCodeAt(0),".svg"),n=await D(t);h(n),m(t)}catch(e){console.error("Lỗi khi fetch dữ liệu chữ:",e)}};return(0,s.useEffect)(()=>{let e=e=>{w.current&&!w.current.contains(e.target)&&(g(null),p(!1))};return j&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[j]),(0,s.useEffect)(()=>{u.length>0&&setTimeout(()=>{N.current.forEach((e,t)=>{if(e){let n=e.getTotalLength();e.style.strokeDasharray=n,e.style.strokeDashoffset=n,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[u]),(0,a.jsxs)("div",{className:"chinese-text-list",children:[t.split("").map((e,t)=>(0,a.jsx)("span",{className:"tiengtrungText me-1 ".concat(l?"chinese-char":null),onClick:()=>b(e),children:e},t)),(0,a.jsx)(i.Z,{show:c,onClose:()=>h(!1),children:(0,a.jsx)(r.Z,{activeCharacter:o,imageUrl:x})})]})}}},function(e){e.O(0,[2866,9513,5527,4358,7481,9208,9461,8765,4974,3539,8472,609,6901,6802,2408,4547,8064,2971,7023,1744],function(){return e(e.s=46374)}),_N_E=e.O()}]);