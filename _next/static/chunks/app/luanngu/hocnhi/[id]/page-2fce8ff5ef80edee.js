(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9148],{46374:function(e,t,a){Promise.resolve().then(a.bind(a,81120))},81120:function(e,t,a){"use strict";a.d(t,{default:function(){return m}});var n=a(57437),s=a(2265),i=a(98708),r=a(12808);a(64379);var c=a(65606);a(58833),a(91795);var h=a(19768),l=a(87138);a(66648);var o=a(38472);a(31243);var d=a(89745),u=a(23508);a(87497),a(69937);var g=a(77761),p=a(21682);function m(e){let{id:t}=e,[a,m]=(0,s.useState)({user:null,allData:null}),[x,j]=(0,s.useState)(!0),[f,v]=(0,s.useState)(),[y,w]=(0,s.useState)(!1),[k,N]=(0,s.useState)(!1),[S,b]=(0,s.useState)(),[E,D]=(0,s.useState)([]),C=(0,s.useRef)([]),[Z,A]=(0,s.useState)(null),[L,R]=(0,s.useState)(!1),[T,H]=(0,s.useState)(),[_,z]=(0,s.useState)(),[I,O]=(0,s.useState)(!1),[W,U]=(0,s.useState)([]),J=(0,s.useRef)(null),[P,V]=(0,s.useState)(0);(0,s.useEffect)(()=>{G();let e=(0,u.GJ)(),t=(0,u.bg)();N(e),w(t)},[]),(0,s.useEffect)(()=>{let e=document.querySelector(".render-item-container");e&&V(e.clientHeight)},[f]);let G=async()=>{try{var e=JSON.parse(localStorage.getItem("allData"));e||await B(),e=await JSON.parse(localStorage.getItem("allData"));let a=await e.find(e=>"luanngu"===e.key),n=await a.value.hocnhi[t];v(n),b(n.tumoi),U(n.nguphap),j(!1)}catch(e){j(!1),console.error("Error getting dichthuat data: ",e)}},B=async()=>{try{let e=(await (0,c.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let t={};for(let a in e.value)if(e.value.hasOwnProperty(a)){let{username:n,password:s,...i}=e.value[a];t[a]=i}return{...e,value:t}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},q=(e,t,a)=>x?null:e.split("\n").map((e,s)=>{let i=[],c="";for(let t=0;t<e.length;t++){let a=e[t];/[.,:;?!：；。“’”！，？"」「 ]/.test(a)?c+=a:(c&&(i.push(c),c=""),c=a)}c&&i.push(c);let h=t.split("\n")[s]?t.split("\n")[s].replace(/\s+/g," ").split(" "):"",l=a.split("\n")[s]?a.split("\n")[s].replace(/\s+/g," ").split(" "):"";return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"chuHanListComponentDiv",children:[i.map((e,t)=>K(e,h[t],l[t],t)),(0,n.jsx)(r.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,d.Z)(e,s),children:"\uD83D\uDD0A"})]})},s)}),K=(e,t,a,s)=>(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"chuHanPrint card",style:{borderLeftWidth:0,borderRightWidth:0},children:(0,n.jsxs)("div",{className:"card-body",style:{padding:0},children:[(0,n.jsx)("div",{className:"card-header",style:{padding:0},children:(0,n.jsx)("button",{onClick:()=>F(e),className:"btnChuHan",id:"btnChuHan0",style:{borderLeftWidth:0,borderRightWidth:0},children:e})}),(0,n.jsx)("div",{className:"row",style:{padding:1,margin:1,fontSize:18},children:(0,n.jsx)("small",{children:t})}),(0,n.jsx)("div",{className:"row",style:{padding:1,margin:1},children:(0,n.jsx)("button",{className:"btnBacKinh",children:a})})]})})},s),F=async e=>{try{D([]),A(e),R(!0),await M(e);let t="https://hocdichchuhan.github.io/huongdanviet/".concat(e.charCodeAt(0),".svg"),a=await Q(t),n=await o.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!n.data.found)throw Error("Network response was not ok");let s=await o.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=word&page=1&limit=3"));if(!s.data.found)throw Error("Network response was not ok");H(n.data),z(s.data),O(a)}catch(e){console.error("Error fetching Hanzi data:",e)}},M=async e=>{try{let t=await fetch("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!t.ok)throw Error("Network response was not ok");let a=await t.json();if(a.found&&a.result.length>0){let e=JSON.parse(a.result[0].strokes);D(e.strokes)}}catch(e){console.error("Error fetching Hanzi data:",e)}};(0,s.useEffect)(()=>{let e=e=>{J.current&&!J.current.contains(e.target)&&(A(null),R(!1))};return L&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[L]),(0,s.useEffect)(()=>{E.length>0&&setTimeout(()=>{C.current.forEach((e,t)=>{if(e){let a=e.getTotalLength();e.style.strokeDasharray=a,e.style.strokeDashoffset=a,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[E]);let Q=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch(e){return console.error("Lỗi khi kiểm tra đường dẫn:",e),!1}};return x?(0,n.jsx)(h.Z,{}):(0,n.jsx)(i.Z,{isStudy:!0,body:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h1",{children:f.tieude}),(0,n.jsx)("hr",{}),k&&(0,n.jsx)("div",{children:(0,n.jsx)(l.default,{href:"/luanngu/hocnhi/edit/".concat(t),children:(0,n.jsx)(r.Z,{variant:"info",children:"Chỉnh sửa"})})}),(0,n.jsx)(g.Z,{showStrokeArea:L,activeCharacter:Z,strokes:E,pathsRef:C,isShowImage:I,dataTranslate:_,dataWrite:T,strokeAreaRef:J}),(0,n.jsx)("h3",{children:"Nội dung"}),(0,n.jsx)("span",{style:{whiteSpace:"pre-line"},children:f.giangrong}),(0,n.jsx)("hr",{}),(0,n.jsx)("h3",{children:"Ch\xfa th\xedch"}),(0,n.jsx)("span",{style:{whiteSpace:"pre-line"},children:f.chuthich}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{className:"luanngu-viewer row",children:[(0,n.jsxs)("div",{className:"col-md-6 col-12 render-item-container",children:[(0,n.jsx)("h1",{children:"Văn Ng\xf4n"}),q(f.vanngon.tiengtrung,f.vanngon.hanviet,f.vanngon.pinyin),(0,n.jsx)("hr",{}),(0,n.jsx)("h1",{children:"Bạch Thoại"}),q(f.bachthoai.tiengtrung,f.bachthoai.hanviet,f.bachthoai.pinyin)]}),(0,n.jsx)("div",{className:"col-md-6 col-12 col-6",children:(0,n.jsx)("div",{className:"luanngu-table-container",style:{height:P},children:S?(0,n.jsx)("div",{className:"luanngu-table-container",children:(0,n.jsxs)("table",{className:"luanngu-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{style:{width:"10%"},children:"STT"}),(0,n.jsx)("th",{style:{width:"25%"},children:"Tiếng Trung"}),(0,n.jsx)("th",{style:{width:"20%"},children:"Nghĩa"}),(0,n.jsx)("th",{style:{width:"45%"},children:"V\xed dụ"})]})}),(0,n.jsx)("tbody",{children:S.map((e,t)=>(0,n.jsxs)("tr",{className:"luanngu-tumoi",children:[(0,n.jsxs)("td",{children:[t+1,"  "]}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("p",{children:[e.tiengtrung," ",(0,n.jsx)(r.Z,{className:"btn-phatamthanh",style:{maxWidth:"50px",maxHeight:"50px"},variant:"info",onClick:()=>(0,d.Z)(e.tiengtrung,t+50),children:"\uD83D\uDD0A"})]}),(0,n.jsx)("p",{children:e.pinyin}),(0,n.jsx)("span",{children:e.hanviet})]}),(0,n.jsx)("td",{children:e.nghia}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("p",{children:[(0,u.LA)(e.vidutiengtrung,e.tiengtrung),(0,n.jsx)(r.Z,{className:"btn-phatamthanh",style:{maxWidth:"100px",maxHeight:"50px"},variant:"danger",onClick:()=>(0,d.Z)(e.vidutiengtrung,t+150),children:"\uD83D\uDD0AV\xed dụ"})]}),(0,n.jsx)("p",{children:e.vidupinyin}),(0,n.jsx)("p",{children:e.vidunghia})]})]},t))})]})}):null})})]}),(0,n.jsxs)("div",{className:"nguphap-container",style:{marginTop:"60px"},children:[(0,n.jsx)("h2",{children:"Phần Ngữ Ph\xe1p"}),(0,n.jsx)(p.Z,{nguphaps:W})]})]})})}},21682:function(e,t,a){"use strict";var n=a(57437),s=a(2265),i=a(12808),r=a(23508),c=a(89745),h=a(77761),l=a(38472);t.Z=e=>{let{nguphaps:t,isGianthe:a}=e,[o,d]=(0,s.useState)(!1),[u,g]=(0,s.useState)([]),p=(0,s.useRef)([]),[m,x]=(0,s.useState)(null),[j,f]=(0,s.useState)(!1),[v,y]=(0,s.useState)(),[w,k]=(0,s.useState)(),N=(0,s.useRef)(null),[S,b]=(0,s.useState)({}),E=async e=>{try{g([]),x(e),f(!0),await D(e);let t="https://hocdichchuhan.github.io/huongdanviet/".concat(e.charCodeAt(0),".svg"),a=await C(t),n=await l.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!n.data.found)throw Error("Network response was not ok");let s=await l.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=word&page=1&limit=50"));if(!s.data.found)throw Error("Network response was not ok");y(n.data),k(s.data),d(a)}catch(e){console.error("Error fetching Hanzi data:",e)}},D=async e=>{try{let t=await fetch("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!t.ok)throw Error("Network response was not ok");let a=await t.json();if(console.log(a),a.found&&a.result.length>0){let e=JSON.parse(a.result[0].strokes);g(e.strokes)}}catch(e){console.error("Error fetching Hanzi data:",e)}};(0,s.useEffect)(()=>{let e=e=>{N.current&&!N.current.contains(e.target)&&(x(null),f(!1))};return j&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[j]),(0,s.useEffect)(()=>{u.length>0&&setTimeout(()=>{p.current.forEach((e,t)=>{if(e){let a=e.getTotalLength();e.style.strokeDasharray=a,e.style.strokeDashoffset=a,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[u]);let C=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch(e){return console.error("Lỗi khi kiểm tra đường dẫn:",e),!1}},Z=(e,t,a)=>{let n="".concat(e,"_").concat(t,"_").concat(a);b(e=>({...e,[n]:!e[n]}))};return t&&0!==t.length?t.map((e,t)=>(0,n.jsxs)("div",{className:"nguphapshow-container",children:[m&&(0,n.jsx)(h.Z,{isGianthe:a,showStrokeArea:j,activeCharacter:m,strokes:u,pathsRef:p,isShowImage:o,dataTranslate:w,dataWrite:v,strokeAreaRef:N}),(0,n.jsxs)("h3",{children:[(0,r.LA)(e.tieude,e.key)," ",(0,r.LA)(e.keygianthe,"Giản Thể: "+(e.keygianthe||""))]}),e.cachdung&&e.cachdung.map((s,h)=>(0,n.jsx)("div",{className:"card border-primary",children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsxs)("h4",{className:"card-title",children:["C\xe1ch d\xf9ng ",e.cachdung.length>1&&h+1,":"]}),(0,n.jsx)("h5",{children:(0,r.LA)(s.noidung,e.key)}),(0,n.jsx)("hr",{}),s.vidu.map((s,l)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"nguphapViduContainer d-flex justify-content-between align-items-center",children:(0,n.jsx)(i.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,c.Z)(s.tiengtrung,l+200),children:"\uD83D\uDD0A"})}),(0,n.jsxs)("div",{className:"nguphapVidu chinese-word",children:[!a&&s.tiengtrung&&s.tiengtrung.split("").map((t,a)=>(0,n.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>E(t),children:(0,r.LA)(t||"",e.key)},a)),a&&s.gianthe&&s.gianthe.split("").map((t,a)=>(0,n.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>E(t),children:(0,r.LA)(t||"",e.keygianthe)},a))]}),(0,n.jsx)("p",{children:s.pinyin||""}),S["".concat(t,"_").concat(h,"_").concat(l)]&&(0,n.jsx)("p",{children:s.nghia||""}),(0,n.jsx)(i.Z,{variant:S["".concat(t,"_").concat(h,"_").concat(l)]?"primary":"secondary",onClick:()=>Z(t,h,l),children:S["".concat(t,"_").concat(h,"_").concat(l)]?"Ẩn nghĩa":"Hiện nghĩa"}),(0,n.jsx)("hr",{})]},l))]})},h))]},t)):null}}},function(e){e.O(0,[9513,4358,7481,9208,9461,5973,3539,8472,609,6901,7468,4547,7761,2971,7023,1744],function(){return e(e.s=46374)}),_N_E=e.O()}]);