(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[148],{5132:function(e,t,a){Promise.resolve().then(a.bind(a,1655))},1655:function(e,t,a){"use strict";a.d(t,{default:function(){return j}});var s=a(7437),n=a(2265),i=a(8708),r=a(35);a(4379);var l=a(5606);a(8833),a(1795);var c=a(9768),h=a(7138),d=a(6648),A=a(8472);let o=null,u=-1,m=!1;var g=(e,t)=>{if(speechSynthesis.speaking&&u!==t&&speechSynthesis.cancel(),u===t){speechSynthesis.speaking&&m?(speechSynthesis.pause(),console.log("pause"),m=!1):(speechSynthesis.resume(),console.log("resume"),m=!0);return}m=!0,(o=new SpeechSynthesisUtterance(e)).lang="zh-CN",o.rate=.8,speechSynthesis.speak(o),u=t,o.onend=()=>{u=-1}};function x(e){let{word:t,dataWrite:a,dataTranslate:i}=e,[l,c]=(0,n.useState)({}),h=i.result,d=a.result[0],o=(e,t)=>e.split(RegExp("(".concat(t,")"),"gi")).map((e,a)=>e.toLowerCase()===t.toLowerCase()?(0,s.jsx)("span",{style:{color:"red"},children:e},a):e),u=async e=>{try{let t=await A.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(e)));if(t.data)return t.data.sentences[0].trans;return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},m=async(e,t)=>{let a=await u(e);c(e=>({...e,[t]:a}))};return((0,n.useEffect)(()=>{var e,t;h&&(null===(t=h[0])||void 0===t?void 0:null===(e=t.content[0])||void 0===e?void 0:e.means)&&h[0].content[0].means.forEach((e,t)=>{e.examples&&e.examples.forEach((e,a)=>{let s="".concat(t,"-").concat(a);m(e.e,s)})})},[h]),a&&i)?(0,s.jsx)("div",{className:"tumoi-item",children:(0,s.jsxs)("div",{className:"tumoi-display",children:[(0,s.jsx)("div",{className:"tumoi-display-header",children:(0,s.jsxs)("h4",{children:[t," 【",h[0].cn_vi,"】(",h[0].pinyin,") Bộ thủ: (",d.sets,") H\xecnh th\xe1i: (",d.hinhthai,")"]})}),h[0].content[0].means.map((e,a)=>{let n=e.examples?e.examples:null,i=e.mean;return(0,s.jsxs)("div",{className:"tumoi-nghia",children:[(0,s.jsxs)("h4",{className:"tumoi-nghia-shower",children:["Nghĩa ",a+1,": ",i]}),n&&n.map((e,n)=>{let i=e.e,c=e.m,h=e.p,d=l["".concat(a,"-").concat(n)]||i;return(0,s.jsxs)("div",{className:"tumoi-vidu",children:[(0,s.jsxs)("h5",{children:["V\xed dụ ",n+1]}),(0,s.jsx)("span",{children:o(d,t)}),(0,s.jsx)(r.Z,{className:"btn-phatamthanh",style:{maxWidth:"50px",maxHeight:"50px"},variant:"danger",onClick:()=>g(i,n),children:"\uD83D\uDD0A"}),(0,s.jsx)("p",{children:h}),(0,s.jsx)("p",{children:c})]},n)}),(0,s.jsx)("hr",{})]},a)})]})}):null}var p=a(3508);function j(e){let{id:t}=e,[a,o]=(0,n.useState)({user:null,allData:null}),[u,m]=(0,n.useState)(!0),[j,v]=(0,n.useState)(),[f,w]=(0,n.useState)(!1),[y,N]=(0,n.useState)(!1),[k,E]=(0,n.useState)(),[D,b]=(0,n.useState)([]),C=(0,n.useRef)([]),[S,B]=(0,n.useState)(null),[Q,I]=(0,n.useState)(!1),[z,O]=(0,n.useState)(),[L,U]=(0,n.useState)(),[H,T]=(0,n.useState)(!1),R=(0,n.useRef)(null),[W,Z]=(0,n.useState)(0);(0,n.useEffect)(()=>{M(),_(),V()},[]),(0,n.useEffect)(()=>{let e=document.querySelector(".render-item-container");e&&Z(e.clientHeight)},[j]);let M=async()=>{try{var e=JSON.parse(localStorage.getItem("allData"));e||await P(),e=await JSON.parse(localStorage.getItem("allData"));let a=await e.find(e=>"luanngu"===e.key),s=await a.value.hocnhi[t];v(s),E(s.tumoi),m(!1)}catch(e){m(!1),console.error("Error getting dichthuat data: ",e)}},P=async()=>{try{let e=(await (0,l.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let t={};for(let a in e.value)if(e.value.hasOwnProperty(a)){let{username:s,password:n,...i}=e.value[a];t[a]=i}return{...e,value:t}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},_=()=>{localStorage.getItem("name")&&w(!0)},V=()=>{"duong171099"==localStorage.getItem("user")&&N(!0)},F=(e,t,a)=>u?null:e.split("\n").map((e,n)=>{let i=[],l="";for(let t=0;t<e.length;t++){let a=e[t];/[.,:;?!：；。“’”！，？」「 ]/.test(a)?l+=a:(l&&(i.push(l),l=""),l=a)}l&&i.push(l);let c=t.split("\n")[n].replace(/\s+/g," ").split(" "),h=a.split("\n")[n].replace(/\s+/g," ").split(" ");return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"chuHanListComponentDiv",children:[i.map((e,t)=>J(e,c[t],h[t],t)),(0,s.jsx)(r.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>g(e,n),children:"\uD83D\uDD0A"})]})},n)}),J=(e,t,a,n)=>(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"chuHanPrint card",style:{borderLeftWidth:0,borderRightWidth:0},children:(0,s.jsxs)("div",{className:"card-body",style:{padding:0},children:[(0,s.jsx)("div",{className:"card-header",style:{padding:0},children:(0,s.jsx)("button",{onClick:()=>G(e),className:"btnChuHan",id:"btnChuHan0",style:{borderLeftWidth:0,borderRightWidth:0},children:e})}),(0,s.jsx)("div",{className:"row",style:{padding:1,margin:1,fontSize:18},children:(0,s.jsx)("small",{children:t})}),(0,s.jsx)("div",{className:"row",style:{padding:1,margin:1},children:(0,s.jsx)("button",{className:"btnBacKinh",children:a})})]})})},n),G=async e=>{try{b([]),B(e),I(!0),await q(e);let t="https://hocdichchuhan.github.io/huongdanviet/".concat(e.charCodeAt(0),".svg"),a=await K(t),s=await A.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!s.data.found)throw Error("Network response was not ok");let n=await A.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=word&page=1&limit=3"));if(!n.data.found)throw Error("Network response was not ok");O(s.data),U(n.data),T(a)}catch(e){console.error("Error fetching Hanzi data:",e)}},q=async e=>{try{let t=await fetch("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!t.ok)throw Error("Network response was not ok");let a=await t.json();if(a.found&&a.result.length>0){let e=JSON.parse(a.result[0].strokes);b(e.strokes)}}catch(e){console.error("Error fetching Hanzi data:",e)}};(0,n.useEffect)(()=>{let e=e=>{R.current&&!R.current.contains(e.target)&&(B(null),I(!1))};return Q&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[Q]),(0,n.useEffect)(()=>{D.length>0&&setTimeout(()=>{C.current.forEach((e,t)=>{if(e){let a=e.getTotalLength();e.style.strokeDasharray=a,e.style.strokeDashoffset=a,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[D]);let K=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch(e){return console.error("Lỗi khi kiểm tra đường dẫn:",e),!1}};return u?(0,s.jsx)(c.Z,{}):(0,s.jsx)(i.Z,{body:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("h1",{children:j.tieude}),(0,s.jsx)("hr",{}),y&&(0,s.jsx)("div",{children:(0,s.jsx)(h.default,{href:"/luanngu/hocnhi/edit/".concat(t),children:(0,s.jsx)(r.Z,{variant:"info",children:"Chỉnh sửa"})})}),(()=>{if(!Q)return null;let e="https://hocdichchuhan.github.io/huongdanviet/".concat(S.charCodeAt(0),".svg");return H?(0,s.jsx)("div",{className:"strokeAreaOverlay",children:(0,s.jsx)("div",{className:"strokeArea",ref:R,children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"col-md-6 col-12",children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,s.jsxs)("h2",{children:["Viết chữ: ",S]}),(0,s.jsx)(r.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>g(S,-2),children:"\uD83D\uDD0A"})]}),(0,s.jsx)(d.default,{className:"image-hanzi",src:e,width:500,height:500})]}),(0,s.jsx)("div",{className:"col-md-6 col-12",children:(0,s.jsx)("div",{className:"view-nghiacuatu",children:L&&S&&(0,s.jsx)(x,{word:S,dataWrite:z,dataTranslate:L})})})]})})}):(0,s.jsx)("div",{className:"strokeAreaOverlay",children:(0,s.jsx)("div",{className:"strokeArea",ref:R,children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"col-md-6 col-12",children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,s.jsxs)("h2",{children:["Viết chữ: ",S]}),(0,s.jsx)(r.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>g(S,-2),children:"\uD83D\uDD0A"})]}),(0,s.jsx)("svg",{width:"400",height:"600",viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",className:"strokeGuide",children:(0,s.jsx)("g",{transform:"translate(0, 800) scale(1, -1)",children:D.map((e,t)=>(0,s.jsx)("path",{d:e,fill:"none",stroke:"black",strokeOpacity:"0.2",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"},t))})}),(0,s.jsx)("svg",{width:"400",height:"600",viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",className:"strokeAnimation",children:(0,s.jsx)("g",{transform:"translate(0, 800) scale(1, -1)",children:D.map((e,t)=>(0,s.jsx)("path",{ref:e=>C.current[t]=e,d:e,fill:"none",stroke:"black",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:"0",strokeDashoffset:"0"}},t))})})]}),(0,s.jsx)("div",{className:"col-md-6 col-12",children:(0,s.jsx)("div",{className:"view-nghiacuatu",children:L&&S&&(0,s.jsx)(x,{word:S,dataWrite:z,dataTranslate:L})})})]})})})})(),(0,s.jsx)("h3",{children:"Nội dung"}),(0,s.jsx)("span",{style:{whiteSpace:"pre-line"},children:j.giangrong}),(0,s.jsx)("hr",{}),(0,s.jsx)("h3",{children:"Ch\xfa th\xedch"}),(0,s.jsx)("span",{style:{whiteSpace:"pre-line"},children:j.chuthich}),(0,s.jsx)("hr",{}),(0,s.jsxs)("div",{className:"luanngu-viewer row",children:[(0,s.jsxs)("div",{className:"col-md-6 col-12 render-item-container",children:[(0,s.jsx)("h2",{children:"Bạch Thoại"}),F(j.bachthoai.tiengtrung,j.bachthoai.hanviet,j.bachthoai.pinyin),(0,s.jsx)("h2",{children:"Văn Ng\xf4n"}),F(j.vanngon.tiengtrung,j.vanngon.hanviet,j.vanngon.pinyin)]}),(0,s.jsx)("div",{className:"col-md-6 col-12 col-6",children:(0,s.jsx)("div",{className:"luanngu-table-container",style:{height:W},children:k?(0,s.jsx)("div",{className:"luanngu-table-container",children:(0,s.jsxs)("table",{className:"luanngu-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{width:"10%"},children:"STT"}),(0,s.jsx)("th",{style:{width:"25%"},children:"Tiếng Trung"}),(0,s.jsx)("th",{style:{width:"20%"},children:"Nghĩa"}),(0,s.jsx)("th",{style:{width:"45%"},children:"V\xed dụ"})]})}),(0,s.jsx)("tbody",{children:k.map((e,t)=>(0,s.jsxs)("tr",{className:"luanngu-tumoi",children:[(0,s.jsxs)("td",{children:[t+1,"  "]}),(0,s.jsxs)("td",{children:[(0,s.jsxs)("p",{children:[e.tiengtrung," ",(0,s.jsx)(r.Z,{className:"btn-phatamthanh",style:{maxWidth:"50px",maxHeight:"50px"},variant:"info",onClick:()=>g(e.tiengtrung,t+50),children:"\uD83D\uDD0A"})]}),(0,s.jsx)("p",{children:e.pinyin}),(0,s.jsx)("span",{children:e.hanviet})]}),(0,s.jsx)("td",{children:e.nghia}),(0,s.jsxs)("td",{children:[(0,s.jsxs)("p",{children:[(0,p.LA)(e.vidutiengtrung,e.tiengtrung),(0,s.jsx)(r.Z,{className:"btn-phatamthanh",style:{maxWidth:"100px",maxHeight:"50px"},variant:"danger",onClick:()=>g(e.vidutiengtrung,t+150),children:"\uD83D\uDD0AV\xed dụ"})]}),(0,s.jsx)("p",{children:e.vidupinyin}),(0,s.jsx)("p",{children:e.vidunghia})]})]},t))})]})}):null})})]})]})})}},3508:function(e,t,a){"use strict";a.d(t,{LA:function(){return d},o0:function(){return c},xb:function(){return h}});var s=a(7437),n=a(9782),i=a(1213);a(2265);var r=a(5749),l=a(6648);let c=e=>{if(!e)return"";try{let t=new Date(e);return(0,n.WU)(t,"h:mm a, dd 'Th\xe1ng' MM, yyyy",{locale:i.vi})}catch(t){return console.error("Invalid date format:",e),e}};function h(e){return(0,s.jsxs)("div",{className:"itemCard-container-dashboardView",children:[(0,s.jsxs)("div",{className:"itemCard-UserName itemcard-UserName-sticky",children:[(0,s.jsxs)("div",{className:"itemCard-UserName-1",children:[(0,s.jsx)(l.default,{src:e.imgUser?e.imgUser:r.Z,alt:"img",width:30,height:30}),(0,s.jsxs)("div",{className:"itemCard-UserName-container",children:[(0,s.jsx)("h4",{className:"username-card",children:e.username}),(0,s.jsx)("p",{style:{margin:"0"},children:c(e.dateTime)})]})]}),(()=>{let t=localStorage.getItem("name");return e.username==t?(0,s.jsx)("div",{className:"itemCard-UserName-1",children:(0,s.jsx)("button",{className:"btn btn-options",onClick:e.removeClick,style:{padding:"0",margin:"0"},children:(0,s.jsx)("i",{className:"fa-solid fa-trash"})})}):null})()]}),(0,s.jsx)("div",{className:"itemCard-baiDich",children:e.baidich})]})}let d=(e,t)=>e?e.split(RegExp("(".concat(t,")"),"gi")).map((e,a)=>e.toLowerCase()===t.toLowerCase()?(0,s.jsx)("span",{style:{color:"red"},children:e},a):e):null},5749:function(e,t){"use strict";t.Z={src:"/_next/static/media/user.f64324c2.jpg",height:200,width:200,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAG0E//EABUQAQEAAAAAAAAAAAAAAAAAABMk/9oACAEBAAEFAlo//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwF//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPwF//8QAGBAAAgMAAAAAAAAAAAAAAAAAABIxQWH/2gAIAQEABj8CRqjT/8QAGBAAAgMAAAAAAAAAAAAAAAAAESEAMbH/2gAIAQEAAT8hGkETU//aAAwDAQACAAMAAAAQ+//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABgQAAIDAAAAAAAAAAAAAAAAAAARQZGh/9oACAEBAAE/ELbi5YP/2Q==",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[481,461,630,648,439,609,708,151,971,23,560],function(){return e(e.s=5132)}),_N_E=e.O()}]);