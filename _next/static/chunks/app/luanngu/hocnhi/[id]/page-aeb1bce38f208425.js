(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[148],{5132:function(e,t,n){Promise.resolve().then(n.bind(n,9286))},9286:function(e,t,n){"use strict";n.d(t,{default:function(){return u}});var s=n(7437),a=n(2265),i=n(8708),l=n(35);n(4379);var r=n(5606);n(8833),n(1795);var c=n(9768),h=n(7138),d=n(6648),o=n(8472);function u(e){let{id:t}=e,[n,u]=(0,a.useState)({user:null,allData:null}),[m,g]=(0,a.useState)(!0),[p,x]=(0,a.useState)(),[j,v]=(0,a.useState)(!1),[y,f]=(0,a.useState)(!1),[N,w]=(0,a.useState)(),[S,b]=(0,a.useState)([]),k=(0,a.useRef)([]),[E,C]=(0,a.useState)(null),[D,L]=(0,a.useState)(!1),[H,I]=(0,a.useState)(),[O,R]=(0,a.useState)(),T=(0,a.useRef)(null),[_,z]=(0,a.useState)(0);(0,a.useEffect)(()=>{Z(),V(),A()},[]),(0,a.useEffect)(()=>{let e=document.querySelector(".render-item-container");e&&z(e.clientHeight)},[p]);let Z=async()=>{try{var e=JSON.parse(localStorage.getItem("allData"));e||await P(),e=await JSON.parse(localStorage.getItem("allData"));let n=await e.find(e=>"luanngu"===e.key),s=await n.value.hocnhi[t];x(s),w(s.tumoi),g(!1)}catch(e){g(!1),console.error("Error getting dichthuat data: ",e)}},P=async()=>{try{let e=(await (0,r.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let t={};for(let n in e.value)if(e.value.hasOwnProperty(n)){let{username:s,password:a,...i}=e.value[n];t[n]=i}return{...e,value:t}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},V=()=>{localStorage.getItem("name")&&v(!0)},A=()=>{"duong171099"==localStorage.getItem("user")&&f(!0)},U=null,W=-1,J=(e,t)=>{if(speechSynthesis.speaking&&W!==t&&speechSynthesis.cancel(),W===t){speechSynthesis.speaking?speechSynthesis.pause():speechSynthesis.resume();return}(U=new SpeechSynthesisUtterance(e)).lang="zh-CN",U.rate=.8,speechSynthesis.speak(U),W=t,U.onend=()=>{W=-1}},B=(e,t,n)=>m?null:e.split("\n").map((e,a)=>{let i=[],r="";for(let t=0;t<e.length;t++){let n=e[t];/[.,:;?!：；。“’”！，？」「 ]/.test(n)?r+=n:(r&&(i.push(r),r=""),r=n)}r&&i.push(r);let c=t.split("\n")[a].replace(/\s+/g," ").split(" "),h=n.split("\n")[a].replace(/\s+/g," ").split(" ");return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"chuHanListComponentDiv",children:[i.map((e,t)=>q(e,c[t],h[t],t)),(0,s.jsx)(l.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>J(e,a),children:"\uD83D\uDD0A Ph\xe1t \xe2m"})]})},a)}),q=(e,t,n,a)=>(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"chuHanPrint card",style:{borderLeftWidth:0,borderRightWidth:0},children:(0,s.jsxs)("div",{className:"card-body",style:{padding:0},children:[(0,s.jsx)("div",{className:"card-header",style:{padding:0},children:(0,s.jsx)("button",{onClick:()=>K(e),className:"btnChuHan",id:"btnChuHan0",style:{borderLeftWidth:0,borderRightWidth:0},children:e})}),(0,s.jsx)("div",{className:"row",style:{padding:1,margin:1,fontSize:18},children:(0,s.jsx)("small",{children:t})}),(0,s.jsx)("div",{className:"row",style:{padding:1,margin:1},children:(0,s.jsx)("button",{className:"btnBacKinh",children:n})})]})})},a),K=async e=>{try{b([]),C(e),L(!0);let t=await o.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!t.data.found)throw Error("Network response was not ok");let n=await o.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=word&page=1&limit=3"));if(!n.data.found)throw Error("Network response was not ok");I(t.data),R(n.data)}catch(e){console.error("Error fetching Hanzi data:",e)}};return((0,a.useEffect)(()=>{let e=e=>{T.current&&!T.current.contains(e.target)&&(C(null),L(!1))};return D&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[D]),(0,a.useEffect)(()=>{S.length>0&&setTimeout(()=>{k.current.forEach((e,t)=>{if(e){let n=e.getTotalLength();e.style.strokeDasharray=n,e.style.strokeDashoffset=n,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[S]),m)?(0,s.jsx)(c.Z,{}):(0,s.jsx)(i.Z,{body:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("h1",{children:p.tieude}),y&&(0,s.jsx)("div",{children:(0,s.jsx)(h.default,{href:"/luanngu/hocnhi/edit/".concat(t),children:(0,s.jsx)(l.Z,{variant:"info",children:"Chỉnh sửa"})})}),D?(0,s.jsx)("div",{className:"strokeAreaOverlay",children:(0,s.jsx)("div",{className:"strokeArea",ref:T,children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"col-md-6 col-12",children:[(0,s.jsxs)("h3",{children:["Viết chữ: ",E]}),(0,s.jsx)(d.default,{className:"image-hanzi",src:"https://hocdichchuhan.github.io/huongdanviet/".concat(E.charCodeAt(0),".svg"),width:500,height:500})]}),(0,s.jsx)("div",{className:"col-md-6 col-12",children:(0,s.jsx)("div",{className:"view-nghiacuatu",children:O&&E&&function(e,t,n){let a=n.result,i=(e,t)=>e.split(RegExp("(".concat(t,")"),"gi")).map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,s.jsx)("span",{style:{color:"red"},children:e},n):e);return(t.result,t&&n)?(0,s.jsx)("div",{className:"tumoi-item",children:(0,s.jsxs)("div",{className:"tumoi-display",children:[(0,s.jsx)("div",{className:"tumoi-display-header",children:(0,s.jsxs)("h4",{children:[e,"  【",a[0].cn_vi,"】(",a[0].pinyin,")"]})}),a[0].content[0].means.map((t,n)=>{console.log(a[0].content[0]);let l=t.examples?t.examples:null,r=t.mean;return(0,s.jsxs)("div",{className:"tumoi-nghia",children:[(0,s.jsxs)("h4",{className:"tumoi-nghia-shower",children:["Nghĩa ",n+1,": ",r]}),l&&l.map((t,n)=>{let a=t.e,l=t.m,r=t.p;return(0,s.jsxs)("div",{className:"tumoi-vidu",children:[(0,s.jsxs)("h5",{children:["V\xed dụ ",n+1]}),(0,s.jsx)("p",{children:i(a,e)}),(0,s.jsx)("p",{children:r}),(0,s.jsx)("p",{children:l})]},n)}),(0,s.jsx)("hr",{})]},n)})]})}):null}(E,H,O)})})]})})}):null,(0,s.jsx)("span",{style:{whiteSpace:"pre-line"},children:p.giangrong}),(0,s.jsx)("hr",{}),(0,s.jsx)("span",{style:{whiteSpace:"pre-line"},children:p.chuthich}),(0,s.jsx)("hr",{}),(0,s.jsxs)("div",{className:"luanngu-viewer row",children:[(0,s.jsxs)("div",{className:"col-md-6 col-12 render-item-container",children:[(0,s.jsx)("h2",{children:"Bạch Thoại"}),B(p.bachthoai.tiengtrung,p.bachthoai.hanviet,p.bachthoai.pinyin),(0,s.jsx)("h2",{children:"Văn Ng\xf4n"}),B(p.vanngon.tiengtrung,p.vanngon.hanviet,p.vanngon.pinyin)]}),(0,s.jsx)("div",{className:"col-md-6 col-12 col-6",children:(0,s.jsx)("div",{className:"luanngu-table-container",style:{height:_},children:N?(0,s.jsx)("div",{className:"luanngu-table-container",children:(0,s.jsxs)("table",{className:"luanngu-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{width:"10%"},children:"STT"}),(0,s.jsx)("th",{style:{width:"15%"},children:"Tiếng Trung"}),(0,s.jsx)("th",{style:{width:"15%"},children:"H\xe1n Việt"}),(0,s.jsx)("th",{style:{width:"10%"},children:"Phi\xean \xc2m"}),(0,s.jsx)("th",{style:{width:"20%"},children:"Nghĩa"}),(0,s.jsx)("th",{style:{width:"30%"},children:"V\xed dụ"})]})}),(0,s.jsx)("tbody",{children:N.map((e,t)=>(0,s.jsxs)("tr",{className:"luanngu-tumoi",children:[(0,s.jsx)("td",{children:t+1}),(0,s.jsx)("td",{children:e.tiengtrung}),(0,s.jsx)("td",{children:e.hanviet}),(0,s.jsx)("td",{children:e.pinyin}),(0,s.jsx)("td",{children:e.nghia}),(0,s.jsxs)("td",{children:[e.vidutiengtrung,"\n",e.vidupinyin,"	",e.vidunghia]})]},t))})]})}):null})})]})]})})}n(6726)}},function(e){e.O(0,[481,461,809,630,648,439,708,151,971,23,560],function(){return e(e.s=5132)}),_N_E=e.O()}]);