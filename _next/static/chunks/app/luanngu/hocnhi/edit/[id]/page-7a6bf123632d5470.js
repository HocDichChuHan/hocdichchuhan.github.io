(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{6045:function(e,t,n){Promise.resolve().then(n.bind(n,1782))},1782:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var a=n(7437),i=n(2265),l=n(8708),s=n(35),h=n(4379),r=n.n(h),c=n(5606);n(8833),n(1795);var u=n(9768),o=n(8472);function d(e){var t;let{id:n}=e,[h,d]=(0,i.useState)({user:null,allData:null}),[g,p]=(0,i.useState)(!0),[x,v]=(0,i.useState)(),[m,j]=(0,i.useState)(!1),[f,y]=(0,i.useState)(!1),[b,N]=(0,i.useState)(!1),[C,w]=(0,i.useState)(!1),[H,S]=(0,i.useState)(!1),[P,I]=(0,i.useState)(!1),[E,B]=(0,i.useState)(!1),[k,T]=(0,i.useState)(!1),[V,W]=(0,i.useState)(),[L,A]=(0,i.useState)(n);(0,i.useEffect)(()=>{D(),M(),F()},[]);let K=(0,i.useRef)(null),R=(0,i.useRef)(null),_=(0,i.useRef)(null),z=(0,i.useRef)(null),G=(0,i.useRef)(null),Z=(0,i.useRef)(null),q=e=>{e&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"))};(0,i.useEffect)(()=>{q(K.current)},[b]),(0,i.useEffect)(()=>{q(R.current)},[C]),(0,i.useEffect)(()=>{q(_.current)},[H]),(0,i.useEffect)(()=>{q(z.current)},[P]),(0,i.useEffect)(()=>{q(G.current)},[E]),(0,i.useEffect)(()=>{q(Z.current)},[k]);let D=async()=>{try{var e=await JSON.parse(localStorage.getItem("allData"));let t=await e.find(e=>"luanngu"===e.key),a=await t.value.hocnhi[n];v(a),N(a.vanngon.tiengtrung),w(a.vanngon.hanviet),S(a.vanngon.pinyin),I(a.bachthoai.tiengtrung),B(a.bachthoai.hanviet),T(a.bachthoai.pinyin),W(a.tumoi),p(!1)}catch(e){p(!1),console.error("Error getting dichthuat data: ",e)}},M=()=>{localStorage.getItem("name")&&j(!0)},F=()=>{"duong171099"==localStorage.getItem("user")&&y(!0)},O=async()=>{let e="/users/luanngu/hocnhi/".concat(L,"/vanngon"),t="/users/luanngu/hocnhi/".concat(L,"/bachthoai");p(!0);try{await Promise.all([(0,c.Pf)("".concat(e,"/tiengtrung"),b),(0,c.Pf)("".concat(e,"/hanviet"),C),(0,c.Pf)("".concat(e,"/pinyin"),H),(0,c.Pf)("".concat(t,"/tiengtrung"),P),(0,c.Pf)("".concat(t,"/hanviet"),E),(0,c.Pf)("".concat(t,"/pinyin"),k),(0,c.Pf)("/users/luanngu/hocnhi/".concat(L,"/tumoi"),V)]),p(!1),await r().fire({position:"center",icon:"success",title:"Cập nhật th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(t){console.error("Lỗi tạo b\xe0i mới:",t);let e={message:"Lỗi tạo b\xe0i mới: "+t.message};r().fire(t.message,"","info"),d(t=>({...t,error:e}))}finally{p(!1)}};(t="https://www.youtube.com/watch?v=4nby_NY12Fg&ab_channel=JessicaThaoNguyen".split("="))[1]&&t[1].split("&")[0];let Y=(e,t,n)=>{W(V.map((a,i)=>i===e?{...a,[t]:n}:a))},J=()=>{W([...V,{tiengtrung:"",hanviet:"",pinyin:"",nghia:"",vidutiengtrung:"",vidupinyin:"",vidunghia:""}])},Q=e=>{W(V.filter((t,n)=>n!==e))},U=()=>{let e=[],t="";for(let n=0;n<b.length;n++){let a=b[n];/[.,:;?!：；。“’”！，？」「 ]/.test(a)||(t&&(e.push(t),t=""),t=a)}t&&e.push(t);let n=[],a="";for(let e=0;e<P.length;e++){let t=P[e];/[.,:;?!：；。“’”！， ]/.test(t)||(a&&(n.push(a),a=""),a=t)}a&&n.push(a);let i=new Set,l=n.filter(e=>!i.has(e)&&(i.add(e),!0)).map(e=>({tiengtrung:e,hanviet:"",pinyin:"",nghia:"",vidutiengtrung:"",vidunghia:"",vidupinyin:""})),s=new Set(l.map(e=>e.tiengtrung)),h=new Set;W([...l,...e.filter(e=>!(s.has(e)||h.has(e))&&(h.add(e),!0)).map(e=>({tiengtrung:e,hanviet:"",pinyin:"",nghia:"",vidutiengtrung:"",vidunghia:"",vidupinyin:""}))])},X=async()=>{if(!V)return null;try{let e=[];for(let t=0;t<V.length;t++){let n=V[t],a=encodeURIComponent(n.tiengtrung),i=await o.Z.get("https://api.hanzii.net/api/search/vi/".concat(a,"?type=word&page=1&limit=2"));if(console.log(n),i.data.found){let t=i.data.result[0].content[0].means,a=i.data.result[0].cn_vi,l=i.data.result[0].pinyin,s=t[0].mean;console.log(t);let h=t[0].examples[0]?t[0].examples[0].e:null,r=t[0].examples[0]?t[0].examples[0].p:null,c=t[0].examples[0]?t[0].examples[0].m:null,u={tiengtrung:n.tiengtrung,hanviet:a,pinyin:l,nghia:s,vidutiengtrung:h,vidupinyin:r,vidunghia:c};e.push(u)}}W(e)}catch(e){console.error("Lỗi khi dịch từ:",e)}},$=e=>{e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+"px"},ee=(e,t,n,i)=>(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"chuHanPrint card",style:{borderLeftWidth:0,borderRightWidth:0},children:(0,a.jsxs)("div",{className:"card-body",style:{padding:0},children:[(0,a.jsx)("div",{className:"card-header",style:{padding:0},children:(0,a.jsx)("button",{className:"btnChuHan",id:"btnChuHan0",style:{borderLeftWidth:0,borderRightWidth:0},children:e})}),(0,a.jsx)("div",{className:"row",style:{padding:1,margin:1,fontSize:18},children:(0,a.jsx)("small",{children:t})}),(0,a.jsx)("div",{className:"row",style:{padding:1,margin:1},children:(0,a.jsx)("button",{className:"btnBacKinh",children:n})})]})})},i),et=e=>{A(e.target.value)};return g?(0,a.jsx)(u.Z,{}):(0,a.jsx)(l.Z,{body:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("button",{className:"btn-chuhan",onClick:()=>O(),children:"Cập nhật"}),(0,a.jsx)("label",{htmlFor:"inputChuHan",className:"form-label",children:"Chữ H\xe1n"}),(0,a.jsx)("span",{children:"， ： 「 」《》。 …"}),(0,a.jsxs)("div",{className:"form-group dichthuat-formInput",children:[(0,a.jsx)("label",{htmlFor:"",children:"ID"}),(0,a.jsx)("input",{type:"text",className:"form-control",name:"idBaiMoi",id:"","aria-describedby":"helpId",placeholder:"Nhập ID B\xe0i Học",onChange:e=>et(e),value:L})]}),V?(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)(s.Z,{variant:"info",onClick:()=>J(),children:"Th\xeam Từ Mới"}),(0,a.jsx)(s.Z,{variant:"warning",onClick:()=>U(),children:"Generate List Tu Moi"}),(0,a.jsx)(s.Z,{variant:"danger",onClick:()=>X(),children:"Translate All Từ Mới"}),(0,a.jsxs)("table",{className:"luanngu-table luanngu-table-edit",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Tiếng Trung"}),(0,a.jsx)("th",{children:"H\xe1n Việt"}),(0,a.jsx)("th",{children:"Pinyin"}),(0,a.jsx)("th",{children:"Nghĩa"}),(0,a.jsx)("th",{children:"V\xed dụ Tiếng Trung"}),(0,a.jsx)("th",{children:"V\xed dụ pinyin"}),(0,a.jsx)("th",{children:"V\xed dụ Nghĩa"}),(0,a.jsx)("th",{children:"Excute"})]})}),(0,a.jsx)("tbody",{children:V.map((e,t)=>(0,a.jsxs)("tr",{className:"luanngu-tumoi",children:[(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.tiengtrung,onChange:e=>Y(t,"tiengtrung",e.target.value),onInput:e=>$(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.hanviet,onChange:e=>Y(t,"hanviet",e.target.value),onInput:e=>$(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.pinyin,onChange:e=>Y(t,"pinyin",e.target.value),onInput:e=>$(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.nghia,onChange:e=>Y(t,"nghia",e.target.value),onInput:e=>$(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.vidutiengtrung,onChange:e=>Y(t,"vidutiengtrung",e.target.value),onInput:e=>$(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.vidupinyin,onChange:e=>Y(t,"vidupinyin",e.target.value),onInput:e=>$(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.vidunghia,onChange:e=>Y(t,"vidunghia",e.target.value),onInput:e=>$(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)(s.Z,{variant:"danger",onClick:()=>Q(t),children:"X\xf3a"})})]},t))})]})]}):null,(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("h2",{children:"Văn Ng\xf4n Area"}),(0,a.jsxs)("div",{className:"sc-jWEIYm jtKLpb mb-3",children:[(0,a.jsx)("textarea",{ref:K,id:"inputChuHan",placeholder:"Chữ H\xe1n",className:"sc-bPyhqo hAGuWh",value:b,onChange:e=>N(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("textarea",{ref:R,id:"inputHanViet",placeholder:"H\xe1n Việt",className:"sc-bPyhqo hAGuWh",value:C,onChange:e=>w(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("textarea",{ref:_,id:"inputBacKinh",placeholder:"Bắc Kinh",className:"sc-bPyhqo hAGuWh",value:H,onChange:e=>S(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("p",{children:"Qui tắc: Để gộp đ\xfang bộ ba chữ H\xe1n, H\xe1n Việt, Bắc Kinh \\n - Ba phần n\xe0y phải c\xf3 dấu chấm phần kết th\xfac c\xe2u. - N\xean cho xuống d\xf2ng từng c\xe2u để đối chiếu cho dễ. - Phần H\xe1n Việt, Bắc Kinh sẽ t\xe1ch từ bằng dấu c\xe1ch."})]})]}),(0,a.jsx)("div",{className:"luanngu-viewer row",children:(0,a.jsx)("div",{className:"col-12",children:(()=>{let e=[],t="";for(let n=0;n<b.length;n++){let a=b[n];/[.,:;?!：；。“’”！，？」「 ]/.test(a)?t+=a:(t&&(e.push(t),t=""),t=a)}t&&e.push(t);let n=C.replace(/\s+/g," ").replace(/\s+/g," ").split(" "),i=H.replace(/\s+/g," ").replace(/\s+/g," ").split(" "),l=[],s="";for(let e=0;e<P.length;e++){let t=P[e];/[.,:;?!：；。“’”！， ]/.test(t)?s+=t:(s&&(l.push(s),s=""),s=t)}s&&l.push(s);let h=E.replace(/\s+/g," ").split(" ").filter(e=>!/[ ]/.test(e)),r=k.replace(/\s+/g," ").split(" ").filter(e=>!/[ ]/.test(e));return g?null:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Văn Ng\xf4n"}),(0,a.jsx)("div",{className:"chuHanListComponentDiv",children:e.map((e,t)=>ee(e,n[t],i[t],t))}),(0,a.jsx)("hr",{}),(0,a.jsx)("h2",{children:"Bạch Thoại"}),(0,a.jsx)("div",{className:"chuHanListComponentDiv",children:l.map((e,t)=>ee(e,h[t],r[t],t))})]})})()})}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("h2",{children:"Bạch Thoại Area"}),(0,a.jsxs)("div",{className:"sc-jWEIYm jtKLpb mb-3",children:[(0,a.jsx)("textarea",{id:"inputChuHan",placeholder:"Chữ H\xe1n",className:"sc-bPyhqo hAGuWh",value:P,ref:z,onChange:e=>I(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("textarea",{id:"inputHanViet",placeholder:"H\xe1n Việt",className:"sc-bPyhqo hAGuWh",value:E,ref:G,onChange:e=>B(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("textarea",{id:"inputBacKinh",placeholder:"Bắc Kinh",className:"sc-bPyhqo hAGuWh",value:k,ref:Z,onChange:e=>T(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}})]})]})]})})}}},function(e){e.O(0,[481,461,630,648,439,708,151,971,23,560],function(){return e(e.s=6045)}),_N_E=e.O()}]);