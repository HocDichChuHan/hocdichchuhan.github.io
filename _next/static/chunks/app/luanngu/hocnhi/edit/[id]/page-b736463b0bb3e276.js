(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3455],{31705:function(e,n,t){Promise.resolve().then(t.bind(t,91782))},91782:function(e,n,t){"use strict";t.d(n,{default:function(){return p}});var a=t(57437),i=t(2265),l=t(66802),s=t(12808),h=t(64379),r=t.n(h),u=t(65606);t(58833),t(91795);var c=t(19768),d=t(23508),o=t(38472),g=t(50658);function p(e){var n;let{id:t}=e,[h,p]=(0,i.useState)({user:null,allData:null}),[v,x]=(0,i.useState)(!0),[m,f]=(0,i.useState)(),[j,y]=(0,i.useState)(!1),[N,b]=(0,i.useState)(!1),[C,w]=(0,i.useState)(!1),[S,P]=(0,i.useState)(!1),[k,T]=(0,i.useState)(!1),[H,I]=(0,i.useState)(!1),[E,W]=(0,i.useState)(!1),[A,R]=(0,i.useState)(!1),[V,Z]=(0,i.useState)(),[z,B]=(0,i.useState)(t),[G,L]=(0,i.useState)(),[q,D]=(0,i.useState)(),[_,K]=(0,i.useState)(),[M,F]=(0,i.useState)(!1),[J,O]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=(0,d.GJ)(),n=es();b(e),y(n),el()},[]);let U=(0,i.useRef)(null),Y=(0,i.useRef)(null),Q=(0,i.useRef)(null),X=(0,i.useRef)(null),$=(0,i.useRef)(null),ee=(0,i.useRef)(null),en=(0,i.useRef)(null),et=(0,i.useRef)(null),ea=(0,i.useRef)(null),ei=e=>{e&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"))};(0,i.useEffect)(()=>{ei(U.current)},[C]),(0,i.useEffect)(()=>{ei(Y.current)},[S]),(0,i.useEffect)(()=>{ei(Q.current)},[k]),(0,i.useEffect)(()=>{ei(X.current)},[H]),(0,i.useEffect)(()=>{ei($.current)},[E]),(0,i.useEffect)(()=>{ei(ee.current)},[A]),(0,i.useEffect)(()=>{ei(ee.current)},[A]),(0,i.useEffect)(()=>{ei(en.current)},[q]),(0,i.useEffect)(()=>{ei(et.current)},[_]),(0,i.useEffect)(()=>{ei(ea.current)},[J]);let el=async()=>{try{var e=await JSON.parse(localStorage.getItem("allData"));let n=await e.find(e=>"luanngu"===e.key),a=await n.value.hocnhi[t];f(a),w(a.vanngon.tiengtrung),P(a.vanngon.hanviet),T(a.vanngon.pinyin),I(a.bachthoai.tiengtrung),W(a.bachthoai.hanviet),R(a.bachthoai.pinyin),Z(a.tumoi),L(a.tieude),D(a.giangrong),K(a.chuthich),O(a.nguphap),a.nguphap||eS(),x(!1)}catch(e){x(!1),console.error("Error getting dichthuat data: ",e)}},es=()=>{localStorage.getItem("name")&&y(!0)},eh=async()=>{let e="/users/luanngu/hocnhi/".concat(z,"/vanngon"),n="/users/luanngu/hocnhi/".concat(z,"/bachthoai");x(!0);try{await Promise.all([(0,u.Pf)("".concat(e,"/tiengtrung"),C),(0,u.Pf)("".concat(e,"/hanviet"),S),(0,u.Pf)("".concat(e,"/pinyin"),k),(0,u.Pf)("".concat(n,"/tiengtrung"),H),(0,u.Pf)("".concat(n,"/hanviet"),E),(0,u.Pf)("".concat(n,"/pinyin"),A),(0,u.Pf)("/users/luanngu/hocnhi/".concat(z,"/tumoi"),V),(0,u.Pf)("/users/luanngu/hocnhi/".concat(z,"/giangrong"),q),(0,u.Pf)("/users/luanngu/hocnhi/".concat(z,"/chuthich"),_),(0,u.Pf)("/users/luanngu/hocnhi/".concat(z,"/tieude"),G),(0,u.Pf)("/users/luanngu/hocnhi/".concat(z,"/nguphap"),J)]),x(!1),await r().fire({position:"center",icon:"success",title:"Cập nhật th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(n){console.error("Lỗi tạo b\xe0i mới:",n);let e={message:"Lỗi tạo b\xe0i mới: "+n.message};r().fire(n.message,"","info"),p(n=>({...n,error:e}))}finally{x(!1)}};(n="https://www.youtube.com/watch?v=4nby_NY12Fg&ab_channel=JessicaThaoNguyen".split("="))[1]&&n[1].split("&")[0];let er=(e,n,t)=>v?null:e.split("\n").map((e,i)=>{let l=[],h="";for(let n=0;n<e.length;n++){let t=e[n];/[.,:;?!：；。“’”！，？」「 ]/.test(t)?h+=t:(h&&(l.push(h),h=""),h=t)}h&&l.push(h);let r=n.split("\n")[i]?n.split("\n")[i].replace(/\s+/g," ").split(" "):null,u=t.split("\n")[i]?t.split("\n")[i].replace(/\s+/g," ").split(" "):null;return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"chuHanListComponentDiv",children:[l.map((e,n)=>ej(e,r?r[n]:null,u?u[n]:null,n)),(0,a.jsx)(s.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>ed(e,i),children:"\uD83D\uDD0A Ph\xe1t \xe2m"})]})},i)}),eu=null,ec=-1,ed=(e,n)=>{if(speechSynthesis.speaking&&ec!==n&&speechSynthesis.cancel(),ec===n){speechSynthesis.speaking?speechSynthesis.pause():speechSynthesis.resume();return}(eu=new SpeechSynthesisUtterance(e)).lang="zh-CN",eu.rate=.8,speechSynthesis.speak(eu),ec=n,eu.onend=()=>{ec=-1}},eo=(e,n,t)=>{Z(V.map((a,i)=>i===e?{...a,[n]:t}:a))},eg=()=>{Z([...V,{tiengtrung:"",hanviet:"",pinyin:"",nghia:"",vidutiengtrung:"",vidupinyin:"",vidunghia:""}])},ep=e=>{Z(V.filter((n,t)=>t!==e))},ev=()=>{let e=[],n="";for(let t=0;t<C.length;t++){let a=C[t];/[.,:;?!：；。“’”！，？」「 ]/.test(a)||(n&&(e.push(n),n=""),n=a)}n&&e.push(n);let t=[],a="";for(let e=0;e<H.length;e++){let n=H[e];/[.,:;?!：；。“’”！， ]/.test(n)||(a&&(t.push(a),a=""),a=n)}a&&t.push(a);let i=new Set,l=t.filter(e=>!i.has(e)&&(i.add(e),!0)).map(e=>({tiengtrung:e,hanviet:"",pinyin:"",nghia:"",vidutiengtrung:"",vidunghia:"",vidupinyin:""})),s=new Set(l.map(e=>e.tiengtrung)),h=new Set;Z([...l,...e.filter(e=>!(s.has(e)||h.has(e))&&(h.add(e),!0)).map(e=>({tiengtrung:e,hanviet:"",pinyin:"",nghia:"",vidutiengtrung:"",vidunghia:"",vidupinyin:""}))])},ex=async e=>{try{let n=await o.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(e)));if(n.data)return n.data.sentences[0].trans;return e}catch(n){return console.error("Lỗi khi gọi API:",n),e}},em=async()=>{if(!V)return null;try{let e=[];for(let n=0;n<V.length;n++){let t=V[n],a=encodeURIComponent(t.tiengtrung),i=await o.Z.get("https://api.hanzii.net/api/search/vi/".concat(a,"?type=word&page=1&limit=2"));if(i.data.found){let n=i.data.result[0].content[0].means,a=i.data.result[0].cn_vi,l=i.data.result[0].pinyin,s=n[0].mean,h=n[0].examples[0]?n[0].examples[0].e:null,r=n[0].examples[0]?n[0].examples[0].p:null,u=n[0].examples[0]?n[0].examples[0].m:null,c=h?await ex(h):null,d={tiengtrung:t.tiengtrung,hanviet:a,pinyin:l,nghia:s,vidutiengtrung:c,vidupinyin:r,vidunghia:u};e.push(d)}}Z(e)}catch(e){console.error("Lỗi khi dịch từ:",e)}},ef=e=>{e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+"px"},ej=(e,n,t,i)=>(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"chuHanPrint card",style:{borderLeftWidth:0,borderRightWidth:0},children:(0,a.jsxs)("div",{className:"card-body",style:{padding:0},children:[(0,a.jsx)("div",{className:"card-header",style:{padding:0},children:(0,a.jsx)("button",{className:"btnChuHan",id:"btnChuHan0",style:{borderLeftWidth:0,borderRightWidth:0},children:e})}),(0,a.jsx)("div",{className:"row",style:{padding:1,margin:1,fontSize:18},children:(0,a.jsx)("small",{children:n})}),(0,a.jsx)("div",{className:"row",style:{padding:1,margin:1},children:(0,a.jsx)("button",{className:"btnBacKinh",children:t})})]})})},i),ey=e=>{B(e.target.value)},eN=e=>{L(e.target.value)},eb=e=>{D(e.target.value)},eC=e=>{K(e.target.value)},ew=async(e,n)=>{var t,a;let i=await (0,d.yI)(n);if(!i||!(null===(a=i.result[0])||void 0===a?void 0:null===(t=a.content[0])||void 0===t?void 0:t.means))return;let l=i.result[0].content[0].means,s=[...J];for(let n of l)if(n.examples){let t=await Promise.all(n.examples.map(async e=>({tiengtrung:e.e?await ex(e.e):"",nghia:e.m||"",pinyin:e.p||""})));s[e].cachdung.push({noidung:n.mean,vidu:t})}else s[e].cachdung.push({noidung:n.mean,vidu:[]});O(s)},eS=()=>{O([...J,{key:"",tieude:"",noidung:"",cachdung:[{noidung:"",vidu:[{tiengtrung:"",nghia:"",pinyin:""}]}]}])};return v||!N?(0,a.jsx)(c.Z,{}):(0,a.jsx)(l.Z,{body:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("button",{className:"btn-chuhan",onClick:()=>eh(),children:"Cập nhật"}),(0,a.jsx)("label",{htmlFor:"inputChuHan",className:"form-label",children:"Chữ H\xe1n"}),(0,a.jsx)("span",{children:"， ： 「 」《》。 …"}),(0,a.jsxs)("div",{className:"form-group dichthuat-formInput",children:[(0,a.jsx)("label",{htmlFor:"",children:"ID"}),(0,a.jsx)("input",{type:"text",className:"form-control",name:"idBaiMoi",id:"","aria-describedby":"helpId",placeholder:"Nhập ID B\xe0i Học",onChange:e=>ey(e),value:z}),(0,a.jsx)("label",{htmlFor:"",children:"Ti\xeau đề"}),(0,a.jsx)("input",{type:"text",className:"form-control",name:"tieude",id:"","aria-describedby":"helpId",placeholder:"Nhập Ti\xeau Đề",onChange:e=>eN(e),value:G}),(0,a.jsx)("label",{htmlFor:"",children:"Giảng Rộng"}),(0,a.jsx)("textarea",{ref:en,id:"inputgiangrong",placeholder:"giangrong",className:"sc-bPyhqo hAGuWh",value:q,onChange:e=>eb(e),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("label",{htmlFor:"",children:"Ch\xfa Th\xedch"}),(0,a.jsx)("textarea",{ref:et,id:"inputChuthich",placeholder:"Nhập Ch\xfa Th\xedch",className:"sc-bPyhqo hAGuWh",value:_,onChange:e=>eC(e),style:{overflow:"hidden",resize:"none",height:"auto"}})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("h2",{children:"Bạch Thoại Area"}),(0,a.jsxs)("div",{className:"sc-jWEIYm jtKLpb mb-3",children:[(0,a.jsx)("textarea",{id:"inputChuHan",placeholder:"Chữ H\xe1n",className:"sc-bPyhqo hAGuWh",value:H,ref:X,onChange:e=>I(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("textarea",{id:"inputHanViet",placeholder:"H\xe1n Việt",className:"sc-bPyhqo hAGuWh",value:E,ref:$,onChange:e=>W(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("textarea",{id:"inputBacKinh",placeholder:"Bắc Kinh",className:"sc-bPyhqo hAGuWh",value:A,ref:ee,onChange:e=>R(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}})]})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("h2",{children:"Văn Ng\xf4n Area"}),(0,a.jsxs)("div",{className:"sc-jWEIYm jtKLpb mb-3",children:[(0,a.jsx)("textarea",{ref:U,id:"inputChuHan",placeholder:"Chữ H\xe1n",className:"sc-bPyhqo hAGuWh",value:C,onChange:e=>w(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("textarea",{ref:Y,id:"inputHanViet",placeholder:"H\xe1n Việt",className:"sc-bPyhqo hAGuWh",value:S,onChange:e=>P(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("textarea",{ref:Q,id:"inputBacKinh",placeholder:"Bắc Kinh",className:"sc-bPyhqo hAGuWh",value:k,onChange:e=>T(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("p",{children:"Qui tắc: Để gộp đ\xfang bộ ba chữ H\xe1n, H\xe1n Việt, Bắc Kinh \\n - Ba phần n\xe0y phải c\xf3 dấu chấm phần kết th\xfac c\xe2u. - N\xean cho xuống d\xf2ng từng c\xe2u để đối chiếu cho dễ. - Phần H\xe1n Việt, Bắc Kinh sẽ t\xe1ch từ bằng dấu c\xe1ch."})]})]}),J?(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Ngữ Ph\xe1p"}),(0,a.jsx)(g.Z,{nguphaps:J,setNguphap:O,addNewNguPhap:eS,generateVidu:ew,onChangeNguphap:(e,n,t)=>{let{value:a}=e.target,i=[...J];i[n]={...i[n],[t]:a},O(i)},onChangeNguphapVidu:(e,n,t,a,i)=>{let{value:l}=e.target,s=[...J],h=[...s[n].cachdung],r=[...h[t].vidu];r[a]={...r[a],[i]:l},h[t]={...h[t],vidu:r},s[n]={...s[n],cachdung:h},O(s)},onChangeCachdungNoidung:(e,n,t,a)=>{let{value:i}=e.target,l=[...J],s=[...l[n].cachdung];s[t]={...s[t],[a]:i},l[n]={...l[n],cachdung:s},O(l)},addNewVidu:(e,n)=>{let t=[...J];t[e].cachdung[n].vidu.push({tiengtrung:"",nghia:"",pinyin:""}),O(t)},addCachDung:e=>{let n=[...J];n[e].cachdung=[...n[e].cachdung,{noidung:"",vidu:[]}],O(n)},xoanguphap:e=>{var n=[...J];O(n=n.filter((n,t)=>t!==e))},xoavidu:(e,n,t)=>{let a=[...J];a[e].cachdung[n].vidu=a[e].cachdung[n].vidu.filter((e,n)=>n!==t),O(a)},xoacachdung:(e,n)=>{let t=[...J];t[e].cachdung=t[e].cachdung.filter((e,t)=>t!==n),O(t)}}),(0,a.jsx)(s.Z,{variant:"info",onClick:()=>eS(),children:"Th\xeam Ngữ Ph\xe1p"}),(0,a.jsx)("hr",{})]}):null,(0,a.jsx)("div",{className:"luanngu-viewer row",children:(0,a.jsxs)("div",{className:"col-12",children:[er(H,E,A),(0,a.jsx)("hr",{}),er(C,S,k)]})}),V?(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)(s.Z,{variant:"warning",onClick:()=>ev(),children:"Generate List Tu Moi"}),(0,a.jsx)(s.Z,{variant:"danger",onClick:()=>em(),children:"Translate All Từ Mới"}),(0,a.jsxs)("table",{className:"luanngu-table luanngu-table-edit",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Tiếng Trung"}),(0,a.jsx)("th",{children:"H\xe1n Việt"}),(0,a.jsx)("th",{children:"Pinyin"}),(0,a.jsx)("th",{children:"Nghĩa"}),(0,a.jsx)("th",{children:"V\xed dụ Tiếng Trung"}),(0,a.jsx)("th",{children:"V\xed dụ pinyin"}),(0,a.jsx)("th",{children:"V\xed dụ Nghĩa"}),(0,a.jsx)("th",{children:"Excute"})]})}),(0,a.jsx)("tbody",{children:V.map((e,n)=>(0,a.jsxs)("tr",{className:"luanngu-tumoi",children:[(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.tiengtrung,onChange:e=>eo(n,"tiengtrung",e.target.value),onInput:e=>ef(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.hanviet,onChange:e=>eo(n,"hanviet",e.target.value),onInput:e=>ef(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.pinyin,onChange:e=>eo(n,"pinyin",e.target.value),onInput:e=>ef(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.nghia,onChange:e=>eo(n,"nghia",e.target.value),onInput:e=>ef(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.vidutiengtrung,onChange:e=>eo(n,"vidutiengtrung",e.target.value),onInput:e=>ef(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.vidupinyin,onChange:e=>eo(n,"vidupinyin",e.target.value),onInput:e=>ef(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.vidunghia,onChange:e=>eo(n,"vidunghia",e.target.value),onInput:e=>ef(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)(s.Z,{variant:"danger",onClick:()=>ep(n),children:"X\xf3a"})})]},n))})]}),(0,a.jsx)(s.Z,{variant:"info",onClick:()=>eg(),children:"Th\xeam Từ Mới"})]}):(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)(s.Z,{variant:"info",onClick:()=>eg(),children:"Th\xeam Từ Mới"}),(0,a.jsx)(s.Z,{variant:"warning",onClick:()=>ev(),children:"Generate List Tu Moi"}),(0,a.jsx)(s.Z,{variant:"danger",onClick:()=>em(),children:"Translate All Từ Mới"})]})]})})}}},function(e){e.O(0,[5613,770,5527,4358,7481,9208,9461,8765,4974,3539,8472,609,6901,6802,3508,4547,658,2971,7023,1744],function(){return e(e.s=31705)}),_N_E=e.O()}]);