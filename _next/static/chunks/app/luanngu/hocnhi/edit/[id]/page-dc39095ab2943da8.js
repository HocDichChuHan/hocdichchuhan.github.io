(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{6045:function(e,t,n){Promise.resolve().then(n.bind(n,1782))},1782:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var a=n(7437),i=n(2265),l=n(8708),s=n(35),h=n(4379),r=n.n(h),c=n(5606);n(8833),n(1795);var u=n(9768),o=n(8472);function d(e){var t;let{id:n}=e,[h,d]=(0,i.useState)({user:null,allData:null}),[g,p]=(0,i.useState)(!0),[x,v]=(0,i.useState)(),[m,f]=(0,i.useState)(!1),[j,y]=(0,i.useState)(!1),[b,N]=(0,i.useState)(!1),[C,w]=(0,i.useState)(!1),[S,P]=(0,i.useState)(!1),[H,T]=(0,i.useState)(!1),[k,I]=(0,i.useState)(!1),[E,W]=(0,i.useState)(!1),[A,z]=(0,i.useState)(),[R,B]=(0,i.useState)(n),[Z,G]=(0,i.useState)(),[L,V]=(0,i.useState)(),[q,_]=(0,i.useState)(),[D,K]=(0,i.useState)(!1);(0,i.useEffect)(()=>{ee(),et(),en()},[]);let M=(0,i.useRef)(null),F=(0,i.useRef)(null),O=(0,i.useRef)(null),U=(0,i.useRef)(null),Y=(0,i.useRef)(null),J=(0,i.useRef)(null),Q=(0,i.useRef)(null),X=(0,i.useRef)(null),$=e=>{e&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"))};(0,i.useEffect)(()=>{$(M.current)},[b]),(0,i.useEffect)(()=>{$(F.current)},[C]),(0,i.useEffect)(()=>{$(O.current)},[S]),(0,i.useEffect)(()=>{$(U.current)},[H]),(0,i.useEffect)(()=>{$(Y.current)},[k]),(0,i.useEffect)(()=>{$(J.current)},[E]),(0,i.useEffect)(()=>{$(J.current)},[E]),(0,i.useEffect)(()=>{$(Q.current)},[L]),(0,i.useEffect)(()=>{$(X.current)},[q]);let ee=async()=>{try{var e=await JSON.parse(localStorage.getItem("allData"));let t=await e.find(e=>"luanngu"===e.key),a=await t.value.hocnhi[n];v(a),N(a.vanngon.tiengtrung),w(a.vanngon.hanviet),P(a.vanngon.pinyin),T(a.bachthoai.tiengtrung),I(a.bachthoai.hanviet),W(a.bachthoai.pinyin),z(a.tumoi),G(a.tieude),V(a.giangrong),_(a.chuthich),p(!1)}catch(e){p(!1),console.error("Error getting dichthuat data: ",e)}},et=()=>{localStorage.getItem("name")&&f(!0)},en=()=>{{let e=localStorage.getItem("user");e&&"duong171099"==e?y(!0):window.location.href="/luanngu/hocnhi"}},ea=async()=>{let e="/users/luanngu/hocnhi/".concat(R,"/vanngon"),t="/users/luanngu/hocnhi/".concat(R,"/bachthoai");p(!0);try{await Promise.all([(0,c.Pf)("".concat(e,"/tiengtrung"),b),(0,c.Pf)("".concat(e,"/hanviet"),C),(0,c.Pf)("".concat(e,"/pinyin"),S),(0,c.Pf)("".concat(t,"/tiengtrung"),H),(0,c.Pf)("".concat(t,"/hanviet"),k),(0,c.Pf)("".concat(t,"/pinyin"),E),(0,c.Pf)("/users/luanngu/hocnhi/".concat(R,"/tumoi"),A),(0,c.Pf)("/users/luanngu/hocnhi/".concat(R,"/giangrong"),L),(0,c.Pf)("/users/luanngu/hocnhi/".concat(R,"/chuthich"),q),(0,c.Pf)("/users/luanngu/hocnhi/".concat(R,"/tieude"),Z)]),p(!1),await r().fire({position:"center",icon:"success",title:"Cập nhật th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(t){console.error("Lỗi tạo b\xe0i mới:",t);let e={message:"Lỗi tạo b\xe0i mới: "+t.message};r().fire(t.message,"","info"),d(t=>({...t,error:e}))}finally{p(!1)}};(t="https://www.youtube.com/watch?v=4nby_NY12Fg&ab_channel=JessicaThaoNguyen".split("="))[1]&&t[1].split("&")[0];let ei=(e,t,n)=>g?null:e.split("\n").map((e,i)=>{let l=[],h="";for(let t=0;t<e.length;t++){let n=e[t];/[.,:;?!：；。“’”！，？」「 ]/.test(n)?h+=n:(h&&(l.push(h),h=""),h=n)}h&&l.push(h);let r=t.split("\n")[i]?t.split("\n")[i].replace(/\s+/g," ").split(" "):null,c=n.split("\n")[i]?n.split("\n")[i].replace(/\s+/g," ").split(" "):null;return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"chuHanListComponentDiv",children:[l.map((e,t)=>ex(e,r?r[t]:null,c?c[t]:null,t)),(0,a.jsx)(s.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>eh(e,i),children:"\uD83D\uDD0A Ph\xe1t \xe2m"})]})},i)}),el=null,es=-1,eh=(e,t)=>{if(speechSynthesis.speaking&&es!==t&&speechSynthesis.cancel(),es===t){speechSynthesis.speaking?speechSynthesis.pause():speechSynthesis.resume();return}(el=new SpeechSynthesisUtterance(e)).lang="zh-CN",el.rate=.8,speechSynthesis.speak(el),es=t,el.onend=()=>{es=-1}},er=(e,t,n)=>{z(A.map((a,i)=>i===e?{...a,[t]:n}:a))},ec=()=>{z([...A,{tiengtrung:"",hanviet:"",pinyin:"",nghia:"",vidutiengtrung:"",vidupinyin:"",vidunghia:""}])},eu=e=>{z(A.filter((t,n)=>n!==e))},eo=()=>{let e=[],t="";for(let n=0;n<b.length;n++){let a=b[n];/[.,:;?!：；。“’”！，？」「 ]/.test(a)||(t&&(e.push(t),t=""),t=a)}t&&e.push(t);let n=[],a="";for(let e=0;e<H.length;e++){let t=H[e];/[.,:;?!：；。“’”！， ]/.test(t)||(a&&(n.push(a),a=""),a=t)}a&&n.push(a);let i=new Set,l=n.filter(e=>!i.has(e)&&(i.add(e),!0)).map(e=>({tiengtrung:e,hanviet:"",pinyin:"",nghia:"",vidutiengtrung:"",vidunghia:"",vidupinyin:""})),s=new Set(l.map(e=>e.tiengtrung)),h=new Set;z([...l,...e.filter(e=>!(s.has(e)||h.has(e))&&(h.add(e),!0)).map(e=>({tiengtrung:e,hanviet:"",pinyin:"",nghia:"",vidutiengtrung:"",vidunghia:"",vidupinyin:""}))])},ed=async e=>{try{let t=await o.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(e)));if(t.data)return t.data.sentences[0].trans;return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},eg=async()=>{if(!A)return null;try{let e=[];for(let t=0;t<A.length;t++){let n=A[t],a=encodeURIComponent(n.tiengtrung),i=await o.Z.get("https://api.hanzii.net/api/search/vi/".concat(a,"?type=word&page=1&limit=2"));if(i.data.found){let t=i.data.result[0].content[0].means,a=i.data.result[0].cn_vi,l=i.data.result[0].pinyin,s=t[0].mean,h=t[0].examples[0]?t[0].examples[0].e:null,r=t[0].examples[0]?t[0].examples[0].p:null,c=t[0].examples[0]?t[0].examples[0].m:null,u=h?await ed(h):null,o={tiengtrung:n.tiengtrung,hanviet:a,pinyin:l,nghia:s,vidutiengtrung:u,vidupinyin:r,vidunghia:c};e.push(o)}}z(e)}catch(e){console.error("Lỗi khi dịch từ:",e)}},ep=e=>{e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+"px"},ex=(e,t,n,i)=>(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"chuHanPrint card",style:{borderLeftWidth:0,borderRightWidth:0},children:(0,a.jsxs)("div",{className:"card-body",style:{padding:0},children:[(0,a.jsx)("div",{className:"card-header",style:{padding:0},children:(0,a.jsx)("button",{className:"btnChuHan",id:"btnChuHan0",style:{borderLeftWidth:0,borderRightWidth:0},children:e})}),(0,a.jsx)("div",{className:"row",style:{padding:1,margin:1,fontSize:18},children:(0,a.jsx)("small",{children:t})}),(0,a.jsx)("div",{className:"row",style:{padding:1,margin:1},children:(0,a.jsx)("button",{className:"btnBacKinh",children:n})})]})})},i),ev=e=>{B(e.target.value)},em=e=>{G(e.target.value)},ef=e=>{V(e.target.value)},ej=e=>{_(e.target.value)};return g||!j?(0,a.jsx)(u.Z,{}):(0,a.jsx)(l.Z,{body:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("button",{className:"btn-chuhan",onClick:()=>ea(),children:"Cập nhật"}),(0,a.jsx)("label",{htmlFor:"inputChuHan",className:"form-label",children:"Chữ H\xe1n"}),(0,a.jsx)("span",{children:"， ： 「 」《》。 …"}),(0,a.jsxs)("div",{className:"form-group dichthuat-formInput",children:[(0,a.jsx)("label",{htmlFor:"",children:"ID"}),(0,a.jsx)("input",{type:"text",className:"form-control",name:"idBaiMoi",id:"","aria-describedby":"helpId",placeholder:"Nhập ID B\xe0i Học",onChange:e=>ev(e),value:R}),(0,a.jsx)("label",{htmlFor:"",children:"Ti\xeau đề"}),(0,a.jsx)("input",{type:"text",className:"form-control",name:"tieude",id:"","aria-describedby":"helpId",placeholder:"Nhập Ti\xeau Đề",onChange:e=>em(e),value:Z}),(0,a.jsx)("label",{htmlFor:"",children:"Giảng Rộng"}),(0,a.jsx)("textarea",{ref:Q,id:"inputgiangrong",placeholder:"giangrong",className:"sc-bPyhqo hAGuWh",value:L,onChange:e=>ef(e),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("label",{htmlFor:"",children:"Ch\xfa Th\xedch"}),(0,a.jsx)("textarea",{ref:X,id:"inputChuthich",placeholder:"Nhập Ch\xfa Th\xedch",className:"sc-bPyhqo hAGuWh",value:q,onChange:e=>ej(e),style:{overflow:"hidden",resize:"none",height:"auto"}})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("h2",{children:"Bạch Thoại Area"}),(0,a.jsxs)("div",{className:"sc-jWEIYm jtKLpb mb-3",children:[(0,a.jsx)("textarea",{id:"inputChuHan",placeholder:"Chữ H\xe1n",className:"sc-bPyhqo hAGuWh",value:H,ref:U,onChange:e=>T(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("textarea",{id:"inputHanViet",placeholder:"H\xe1n Việt",className:"sc-bPyhqo hAGuWh",value:k,ref:Y,onChange:e=>I(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("textarea",{id:"inputBacKinh",placeholder:"Bắc Kinh",className:"sc-bPyhqo hAGuWh",value:E,ref:J,onChange:e=>W(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}})]})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("h2",{children:"Văn Ng\xf4n Area"}),(0,a.jsxs)("div",{className:"sc-jWEIYm jtKLpb mb-3",children:[(0,a.jsx)("textarea",{ref:M,id:"inputChuHan",placeholder:"Chữ H\xe1n",className:"sc-bPyhqo hAGuWh",value:b,onChange:e=>N(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("textarea",{ref:F,id:"inputHanViet",placeholder:"H\xe1n Việt",className:"sc-bPyhqo hAGuWh",value:C,onChange:e=>w(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("textarea",{ref:O,id:"inputBacKinh",placeholder:"Bắc Kinh",className:"sc-bPyhqo hAGuWh",value:S,onChange:e=>P(e.target.value),style:{overflow:"hidden",resize:"none",height:"auto"}}),(0,a.jsx)("p",{children:"Qui tắc: Để gộp đ\xfang bộ ba chữ H\xe1n, H\xe1n Việt, Bắc Kinh \\n - Ba phần n\xe0y phải c\xf3 dấu chấm phần kết th\xfac c\xe2u. - N\xean cho xuống d\xf2ng từng c\xe2u để đối chiếu cho dễ. - Phần H\xe1n Việt, Bắc Kinh sẽ t\xe1ch từ bằng dấu c\xe1ch."})]})]}),(0,a.jsx)("div",{className:"luanngu-viewer row",children:(0,a.jsxs)("div",{className:"col-12",children:[ei(H,k,E),(0,a.jsx)("hr",{}),ei(b,C,S)]})}),A?(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)(s.Z,{variant:"info",onClick:()=>ec(),children:"Th\xeam Từ Mới"}),(0,a.jsx)(s.Z,{variant:"warning",onClick:()=>eo(),children:"Generate List Tu Moi"}),(0,a.jsx)(s.Z,{variant:"danger",onClick:()=>eg(),children:"Translate All Từ Mới"}),(0,a.jsxs)("table",{className:"luanngu-table luanngu-table-edit",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Tiếng Trung"}),(0,a.jsx)("th",{children:"H\xe1n Việt"}),(0,a.jsx)("th",{children:"Pinyin"}),(0,a.jsx)("th",{children:"Nghĩa"}),(0,a.jsx)("th",{children:"V\xed dụ Tiếng Trung"}),(0,a.jsx)("th",{children:"V\xed dụ pinyin"}),(0,a.jsx)("th",{children:"V\xed dụ Nghĩa"}),(0,a.jsx)("th",{children:"Excute"})]})}),(0,a.jsx)("tbody",{children:A.map((e,t)=>(0,a.jsxs)("tr",{className:"luanngu-tumoi",children:[(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.tiengtrung,onChange:e=>er(t,"tiengtrung",e.target.value),onInput:e=>ep(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.hanviet,onChange:e=>er(t,"hanviet",e.target.value),onInput:e=>ep(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.pinyin,onChange:e=>er(t,"pinyin",e.target.value),onInput:e=>ep(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.nghia,onChange:e=>er(t,"nghia",e.target.value),onInput:e=>ep(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.vidutiengtrung,onChange:e=>er(t,"vidutiengtrung",e.target.value),onInput:e=>ep(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.vidupinyin,onChange:e=>er(t,"vidupinyin",e.target.value),onInput:e=>ep(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)("textarea",{type:"text",value:e.vidunghia,onChange:e=>er(t,"vidunghia",e.target.value),onInput:e=>ep(e)})}),(0,a.jsx)("td",{children:(0,a.jsx)(s.Z,{variant:"danger",onClick:()=>eu(t),children:"X\xf3a"})})]},t))})]})]}):(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)(s.Z,{variant:"info",onClick:()=>ec(),children:"Th\xeam Từ Mới"}),(0,a.jsx)(s.Z,{variant:"warning",onClick:()=>eo(),children:"Generate List Tu Moi"}),(0,a.jsx)(s.Z,{variant:"danger",onClick:()=>eg(),children:"Translate All Từ Mới"})]})]})})}}},function(e){e.O(0,[481,461,630,648,439,708,151,971,23,560],function(){return e(e.s=6045)}),_N_E=e.O()}]);