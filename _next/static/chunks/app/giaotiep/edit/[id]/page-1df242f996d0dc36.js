(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2137],{843:function(i,e,a){Promise.resolve().then(a.bind(a,9992))},9992:function(i,e,a){"use strict";a.d(e,{default:function(){return x}});var n=a(7437),t=a(2265),h=a(8708),o=a(35),l=a(4379),r=a.n(l),s=a(5606);a(8833),a(494),a(1795);var c=a(9768);a(7138),a(6648),a(1243);var u=a(3508);a(4109);var d=a(8971),g=a(658),p=i=>{let{baihoc:e,setBaihoc:a,nguphaps:t,setNguphap:h,addNewNguPhap:l,generateVidu:r,onChangeNguphap:s,onChangeNguphapVidu:c,onChangeCachdungNoidung:d,addNewVidu:p,addCachDung:x,xoanguphap:v,xoavidu:m,xoacachdung:y}=i;if(!e)return null;let j=(i,e)=>{a(a=>({...a,[i]:e}))},N=(i,n,t,h)=>{let o=[...e.hoithoai];o[i].hthoai[n][t]=h,a(i=>({...i,hoithoai:o}))},f=(i,n,t)=>{let h=[...e.hoithoai];h[i].dichnghia[n]=t,a(i=>({...i,hoithoai:h}))},C=(i,n,t,h)=>{let o=[...e.hoithoai];o[i].tumoi[n][t]=h,a(i=>({...i,hoithoai:o}))},k=()=>{a(i=>({...i,hoithoai:[...i.hoithoai,{hthoai:[{tiengtrung:"",pinyin:""}],dichnghia:[""],tumoi:[{tiengtrung:"",pinyin:"",nghia:""}]}]}))},b=i=>{a(e=>({...e,hoithoai:e.hoithoai.filter((e,a)=>a!==i)}))},w=i=>{let n=[...e.hoithoai];n[i].hthoai.push({tiengtrung:"",pinyin:""}),a(i=>({...i,hoithoai:n}))},Z=(i,n)=>{let t=[...e.hoithoai];t[i].hthoai=t[i].hthoai.filter((i,e)=>e!==n),a(i=>({...i,hoithoai:t}))},P=i=>{let n=[...e.hoithoai];n[i].dichnghia.push(""),a(i=>({...i,hoithoai:n}))},T=(i,n)=>{let t=[...e.hoithoai];t[i].dichnghia=t[i].dichnghia.filter((i,e)=>e!==n),a(i=>({...i,hoithoai:t}))},S=i=>{let n=[...e.hoithoai];n[i].tumoi.push({tiengtrung:"",pinyin:"",nghia:""}),a(i=>({...i,hoithoai:n}))},D=(i,n)=>{let t=[...e.hoithoai];t[i].tumoi=t[i].tumoi.filter((i,e)=>e!==n),a(i=>({...i,hoithoai:t}))},V=async(i,e,n)=>{let t=await (0,u.yI)(i);if(!t||!t.result||0===t.result.length)return;let h=t.result[0].pinyin||"";a(i=>{let a=[...i.hoithoai];return a[e].hthoai[n].pinyin=h,{...i,hoithoai:a}})};return(0,n.jsxs)("div",{className:"baihocgiaotiep-container",children:[(0,n.jsx)("input",{type:"text",className:"baihocgiaotiep-title",value:e.tieude,onChange:i=>j("tieude",i.target.value)}),(0,n.jsx)("input",{type:"text",className:"baihocgiaotiep-title",value:e.tieudedich,onChange:i=>j("tieudedich",i.target.value)}),(0,n.jsx)("input",{type:"text",className:"baihocgiaotiep-pinyin",value:e.tieudepinyin,onChange:i=>j("tieudepinyin",i.target.value)}),(0,n.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:e.hoithoai.map((i,e)=>(0,n.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,n.jsx)(o.Z,{variant:"info",onClick:()=>b(e),children:"X\xf3a Hội Thoại N\xe0y"}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-12 col-md-6",children:[i.hthoai.map((i,a)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"text",className:"baihocgiaotiep-tiengtrung2 tiengtrungText",value:i.tiengtrung,onChange:i=>N(e,a,"tiengtrung",i.target.value)}),(0,n.jsx)(o.Z,{variant:"warning",onClick:()=>V(i.tiengtrung,e,a),children:"GetPinyin"}),(0,n.jsx)("input",{type:"text",className:"baihocgiaotiep-pinyin",value:i.pinyin,onChange:i=>N(e,a,"pinyin",i.target.value)}),(0,n.jsx)(o.Z,{variant:"info",onClick:()=>Z(e,a),children:"X\xf3a c\xe2u hội thoại"})]},a)),(0,n.jsx)(o.Z,{variant:"info",onClick:()=>w(e),children:"Th\xeam c\xe2u hội thoại"})]}),(0,n.jsxs)("div",{className:"col-12 col-md-6",children:[i.dichnghia.map((i,a)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"text",className:"baihocgiaotiep-dichnghia",value:i,onChange:i=>f(e,a,i.target.value)}),(0,n.jsx)(o.Z,{variant:"info",onClick:()=>T(e,a),children:"X\xf3a Dịch Nghĩa"})]},a)),(0,n.jsx)(o.Z,{variant:"info",onClick:()=>P(e),children:"Th\xeam Dịch Nghĩa"}),(0,n.jsxs)("div",{className:"baihocgiaotiep-tumoi",children:[(0,n.jsx)("h2",{children:"Từ mới"}),(0,n.jsx)("ul",{children:i.tumoi.map((i,a)=>(0,n.jsxs)("li",{children:[(0,n.jsx)("input",{type:"text",className:"tiengtrungText",value:i.tiengtrung,onChange:i=>C(e,a,"tiengtrung",i.target.value)}),(0,n.jsx)("input",{type:"text",className:"pinyinText",value:i.pinyin,onChange:i=>C(e,a,"pinyin",i.target.value)}),(0,n.jsx)("input",{type:"text",className:"nghiaText",value:i.nghia,onChange:i=>C(e,a,"nghia",i.target.value)}),(0,n.jsx)(o.Z,{variant:"info",onClick:()=>D(e,a),children:"X\xf3a từ n\xe0y"})]},a))}),(0,n.jsx)(o.Z,{variant:"info",onClick:()=>S(e),children:"Th\xeam Từ Mới"})]})]})]}),(0,n.jsx)(o.Z,{variant:"info",onClick:()=>k(),children:"Th\xeam Hội Thoại Kh\xe1c"})]},e))}),(0,n.jsx)("h1",{children:"Ngữ Ph\xe1p Area"}),t?(0,n.jsxs)("div",{children:[(0,n.jsx)(g.Z,{nguphaps:t,setNguphap:h,addNewNguPhap:l,generateVidu:r,onChangeNguphap:s,onChangeNguphapVidu:c,onChangeCachdungNoidung:d,addNewVidu:p,addCachDung:x,xoanguphap:v,xoavidu:m,xoacachdung:y}),(0,n.jsx)(o.Z,{variant:"info",onClick:()=>l(),children:"Th\xeam Ngữ Ph\xe1p"}),(0,n.jsx)("hr",{})]}):null]})};function x(i){var e;let{id:a}=i,[l,g]=(0,t.useState)(!0),[x,v]=(0,t.useState)(),[m,y]=(0,t.useState)(),[j,N]=(0,t.useState)(),[f,C]=(0,t.useState)(a),[k,b]=(0,t.useState)(!1),[w,Z]=(0,t.useState)(!1),[P,T]=(0,t.useState)(!1),[S,D]=(0,t.useState)([]);(0,t.useEffect)(()=>{V();let i=(0,u.GJ)(),e=(0,u.bg)();Z(i),b(e)},[]);let V=async()=>{try{g(!0);var i=JSON.parse(localStorage.getItem("allData"));i||await E(),i=await JSON.parse(localStorage.getItem("allData"));let e=await i.find(i=>"giaotiep1"===i.key),n=await e.value[a];if(n.nguphap&&D(n.nguphap),n.nguphap||_(),!e||!e.value){console.error("No valid data found for 'phatam'");return}y(e),N(n),g(!1)}catch(i){g(!1),console.error("Error getting dichthuat data: ",i)}},X=i=>{let{value:e}=i.target;C(e)};x&&(e=x.split("="))[1]&&e[1].split("&")[0];let E=async()=>{try{let i=(await (0,s.UD)("/users")).map(i=>{if("account"===i.key&&i.value){let e={};for(let a in i.value)if(i.value.hasOwnProperty(a)){let{username:n,password:t,...h}=i.value[a];e[a]=h}return{...i,value:e}}return i});await localStorage.setItem("allData",JSON.stringify(i))}catch(i){console.error("Error fetching data:",i)}},I=async()=>{let i="/users/giaotiep1/".concat(f),e="/users/giaotiep1/".concat(f,"/nguphap");g(!0);try{await Promise.all([(0,s.Pf)(i,j),(0,s.Pf)(e,S)]),g(!1),await r().fire({position:"center",icon:"success",title:"Cập nhật th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(e){console.error("Lỗi tạo b\xe0i mới:",e);let i={message:"Lỗi tạo b\xe0i mới: "+e.message};r().fire(e.message,"","info"),setState(e=>({...e,error:i}))}finally{g(!1)}},O=async(i,e)=>{var a,n;let t=await (0,u.yI)(e);if(!t||!(null===(n=t.result[0])||void 0===n?void 0:null===(a=n.content[0])||void 0===a?void 0:a.means))return;let h=t.result[0].content[0].means,o=[...S];for(let e of h)if(e.examples){let a=await Promise.all(e.examples.map(async i=>({tiengtrung:i.e?await (0,u.PA)(i.e):"",nghia:i.m||"",pinyin:i.p||""})));o[i].cachdung.push({noidung:e.mean,vidu:a})}else o[i].cachdung.push({noidung:e.mean,vidu:[]});D(o)},_=()=>{D([...S,{key:"",tieude:"",noidung:"",cachdung:[{noidung:"",vidu:[{tiengtrung:"",nghia:"",pinyin:""}]}]}])};return l?(0,n.jsx)(c.Z,{}):(0,n.jsx)(h.Z,{body:(0,n.jsxs)("div",{className:"giaotiepContainer container",children:[(0,n.jsx)(o.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>I(),children:"Update"}),(0,n.jsx)("input",{type:"text",className:"form-control",name:"keyword",id:"","aria-describedby":"helpId",placeholder:"Nhập từ kh\xf3a",onChange:i=>X(i),value:f||""}),j?(0,n.jsx)(p,{baihoc:j,setBaihoc:N,id:f,nguphaps:S,setNguphap:D,addNewNguPhap:_,generateVidu:O,onChangeNguphap:(i,e,a)=>{let{value:n}=i.target,t=[...S];t[e]={...t[e],[a]:n},D(t)},onChangeNguphapVidu:(i,e,a,n,t)=>{let{value:h}=i.target,o=[...S],l=[...o[e].cachdung],r=[...l[a].vidu];r[n]={...r[n],[t]:h},l[a]={...l[a],vidu:r},o[e]={...o[e],cachdung:l},D(o)},onChangeCachdungNoidung:(i,e,a,n)=>{let{value:t}=i.target,h=[...S],o=[...h[e].cachdung];o[a]={...o[a],[n]:t},h[e]={...h[e],cachdung:o},D(h)},addNewVidu:(i,e)=>{let a=[...S];a[i].cachdung[e].vidu.push({tiengtrung:"",nghia:"",pinyin:""}),D(a)},addCachDung:i=>{let e=[...S];e[i].cachdung=[...e[i].cachdung,{noidung:"",vidu:[]}],D(e)},xoanguphap:i=>{var e=[...S];D(e=e.filter((e,a)=>a!==i))},xoavidu:(i,e,a)=>{let n=[...S];n[i].cachdung[e].vidu=n[i].cachdung[e].vidu.filter((i,e)=>e!==a),D(n)},xoacachdung:(i,e)=>{let a=[...S];a[i].cachdung=a[i].cachdung.filter((i,a)=>a!==e),D(a)}}):null,j?(0,n.jsx)(d.Z,{baihoc:j,id:f,nguphaps:S}):null]})})}},658:function(i,e,a){"use strict";var n=a(7437);a(2265);var t=a(35);e.Z=i=>{let{nguphaps:e,setNguphap:a,addNewNguPhap:h,generateVidu:o,onChangeNguphap:l,onChangeNguphapVidu:r,onChangeCachdungNoidung:s,addNewVidu:c,addCachDung:u,xoanguphap:d,xoavidu:g,xoacachdung:p}=i;return e?(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Ngữ Ph\xe1p"}),e.length>0&&e.map((i,e)=>(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("hr",{}),(0,n.jsx)("label",{htmlFor:"",children:"Từ kh\xf3a"}),(0,n.jsx)(t.Z,{variant:"warning",style:{margin:"10px 30px"},onClick:()=>o(e,i.key),children:"Tạo v\xed dụ"}),(0,n.jsx)(t.Z,{variant:"danger",style:{margin:"10px 30px"},onClick:()=>d(e),children:"X\xf3a Ngữ Ph\xe1p N\xe0y"}),(0,n.jsx)("input",{type:"text",className:"form-control",placeholder:"Nhập từ kh\xf3a",onChange:i=>l(i,e,"key"),value:i.key||""}),(0,n.jsx)("label",{htmlFor:"",children:"Ti\xeau đề"}),(0,n.jsx)("input",{type:"text",className:"form-control",placeholder:"Nhập ti\xeau đề",onChange:i=>l(i,e,"tieude"),value:i.tieude||""}),(0,n.jsx)("textarea",{id:"inputnoidung",placeholder:"Ngữ Ph\xe1p",className:"sc-bPyhqo hAGuWh",value:i.noidung,onChange:i=>l(i,e,"noidung"),style:{overflow:"hidden",resize:"none",height:"auto"}}),i.cachdung.map((i,a)=>(0,n.jsx)("div",{className:"card border-primary",children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,n.jsxs)("h4",{className:"card-title",children:["C\xe1ch d\xf9ng ",a+1]}),(0,n.jsx)(t.Z,{variant:"danger",onClick:()=>p(e,a),children:"X\xf3a C\xe1ch D\xf9ng N\xe0y"})]}),(0,n.jsx)("textarea",{id:"inputnoidung",placeholder:"C\xe1ch d\xf9ng",className:"sc-bPyhqo hAGuWh",value:i.noidung,onChange:i=>s(i,e,a,"noidung"),style:{overflow:"hidden",resize:"none",height:"auto"}}),i.vidu.map((i,h)=>(0,n.jsxs)("div",{children:[(0,n.jsx)(t.Z,{variant:"danger",onClick:()=>g(e,a,h),children:"X\xf3a"}),(0,n.jsx)("input",{type:"text",className:"form-control",placeholder:"中文",onChange:i=>r(i,e,a,h,"tiengtrung"),value:i.tiengtrung||""}),(0,n.jsx)("input",{type:"text",className:"form-control",placeholder:"Pinyin",onChange:i=>r(i,e,a,h,"pinyin"),value:i.pinyin||""}),(0,n.jsx)("input",{type:"text",className:"form-control",placeholder:"Nghĩa",onChange:i=>r(i,e,a,h,"nghia"),value:i.nghia||""}),(0,n.jsx)("hr",{})]},h)),(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,n.jsx)(t.Z,{variant:"info",onClick:()=>c(e,a),children:"Th\xeam V\xed dụ"}),(0,n.jsx)(t.Z,{variant:"warning",onClick:()=>u(e),children:"Th\xeam c\xe1ch d\xf9ng mới"})]})]})},a))]},e)),(0,n.jsx)(t.Z,{variant:"info",onClick:h,children:"Th\xeam Ngữ Ph\xe1p"}),(0,n.jsx)("hr",{})]}):null}}},function(i){i.O(0,[7481,9461,630,6648,8472,609,8708,8151,6063,3913,2971,7023,1744],function(){return i(i.s=843)}),_N_E=i.O()}]);