(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2137],{843:function(e,t,a){Promise.resolve().then(a.bind(a,5715))},5715:function(e,t,a){"use strict";a.d(t,{default:function(){return d}});var i=a(7437),n=a(2265),r=a(8708),o=a(35),s=a(4379),u=a.n(s),l=a(5606);a(8833),a(494),a(1795);var c=a(9768);a(7138),a(6648),a(1243);var h=a(3508);a(4109);var p=a(3955),g=a(2609),f=a(8342);function d(e){var t;let{id:a}=e,[s,d]=(0,n.useState)(!0),[m,v]=(0,n.useState)(),[y,S]=(0,n.useState)(),[w,b]=(0,n.useState)(),[N,k]=(0,n.useState)(a),[x,j]=(0,n.useState)(!1),[C,E]=(0,n.useState)(!1),[O,P]=(0,n.useState)(!1),[Z,_]=(0,n.useState)([]),[D,I]=(0,n.useState)();(0,n.useEffect)(()=>{J();let e=(0,h.GJ)(),t=(0,h.bg)();E(e),j(t)},[]);let J=async()=>{try{d(!0);var e=JSON.parse(localStorage.getItem("allData"));e||await L(),e=await JSON.parse(localStorage.getItem("allData"));let t=await e.find(e=>"giaotiep1"===e.key),i=await t.value[a];if(i.nguphap&&_(i.nguphap),i.cauhoi&&I(i.cauhoi),i.nguphap||G(),!t||!t.value){console.error("No valid data found for 'phatam'");return}S(t),b(i),d(!1)}catch(e){d(!1),console.error("Error getting dichthuat data: ",e)}},B=e=>{let{value:t}=e.target;k(t)};m&&(t=m.split("="))[1]&&t[1].split("&")[0];let L=async()=>{try{let e=(await (0,l.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let t={};for(let a in e.value)if(e.value.hasOwnProperty(a)){let{username:i,password:n,...r}=e.value[a];t[a]=r}return{...e,value:t}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},U=async()=>{let e="/users/giaotiep1/".concat(N),t="/users/giaotiep1/".concat(N,"/nguphap"),a="/users/giaotiep1/".concat(N,"/cauhoi");d(!0);try{await Promise.all([(0,l.Pf)(e,w),(0,l.Pf)(t,Z),(0,l.Pf)(a,D)]),d(!1),await u().fire({position:"center",icon:"success",title:"Cập nhật th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(t){console.error("Lỗi tạo b\xe0i mới:",t);let e={message:"Lỗi tạo b\xe0i mới: "+t.message};u().fire(t.message,"","info"),setState(t=>({...t,error:e}))}finally{d(!1)}},G=()=>{_([...Z,{key:"",tieude:"",noidung:"",cachdung:[{noidung:"",vidu:[{tiengtrung:"",nghia:"",pinyin:""}]}]}])};return s?(0,i.jsx)(c.Z,{}):(0,i.jsx)(r.Z,{body:(0,i.jsxs)("div",{className:"giaotiepContainer container",children:[(0,i.jsx)(o.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>U(),children:"Update"}),(0,i.jsx)("input",{type:"text",className:"form-control",name:"keyword",id:"","aria-describedby":"helpId",placeholder:"Nhập từ kh\xf3a",onChange:e=>B(e),value:N||""}),w?(0,i.jsx)(g.Z,{baihoc:w,setBaihoc:b,id:N,nguphaps:Z,setNguphap:_}):null,(console.log(D),(0,i.jsx)(f.Z,{cauhoi:D,setCauhoi:I})),w?(0,i.jsx)(p.Z,{baihoc:w,id:N,nguphaps:Z}):null]})})}}},function(e){e.O(0,[7481,9461,630,6648,8472,609,8708,8151,1682,9631,2609,2971,7023,1744],function(){return e(e.s=843)}),_N_E=e.O()}]);