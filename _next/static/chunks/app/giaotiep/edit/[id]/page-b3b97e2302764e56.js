(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2137],{843:function(e,n,i){Promise.resolve().then(i.bind(i,9992))},9992:function(e,n,i){"use strict";i.d(n,{default:function(){return v}});var t=i(7437),a=i(2265),l=i(8708),s=i(35),r=i(4379),h=i.n(r),o=i(5606);i(8833),i(494),i(1795);var c=i(9768);i(7138),i(6648),i(1243);var u=i(3508);i(4109);var d=i(8971),g=i(658),p=e=>{let{baihoc:n,setBaihoc:i,nguphaps:a,setNguphap:l,addNewNguPhap:r,generateVidu:h,onChangeNguphap:o,onChangeNguphapVidu:c,onChangeCachdungNoidung:d,addNewVidu:p,addCachDung:v,xoanguphap:m,xoavidu:x,xoacachdung:y}=e;if(!n)return null;let j=(e,n)=>{i(i=>({...i,[e]:n}))},f=(e,t,a,l)=>{let s=[...n.hoithoai];s[e].hthoai[t][a]=l,i(e=>({...e,hoithoai:s}))},N=(e,t,a,l)=>{let s=[...n.hoithoai];s[e].tumoi[t][a]=l,i(e=>({...e,hoithoai:s}))},C=()=>{i(e=>({...e,hoithoai:[...e.hoithoai,{hthoai:[{tiengtrung:"",pinyin:""}],dichnghia:[""],tumoi:[{tiengtrung:"",pinyin:"",nghia:""}]}]}))},k=e=>{i(n=>({...n,hoithoai:n.hoithoai.filter((n,i)=>i!==e)}))},w=e=>{let t=[...n.hoithoai];t[e].hthoai.push({tiengtrung:"",pinyin:""}),i(e=>({...e,hoithoai:t}))},b=(e,t)=>{let a=[...n.hoithoai];a[e].hthoai=a[e].hthoai.filter((e,n)=>n!==t),i(e=>({...e,hoithoai:a}))},Z=e=>{let t=[...n.hoithoai];t[e].tumoi.push({tiengtrung:"",pinyin:"",nghia:""}),i(e=>({...e,hoithoai:t}))},T=(e,t)=>{let a=[...n.hoithoai];a[e].tumoi=a[e].tumoi.filter((e,n)=>n!==t),i(e=>({...e,hoithoai:a}))},P=async e=>{var n;let t=await (0,u.V2)(e);if(console.log(t.sentences),!t||!t.sentences||0===t.sentences.length)return;let a=(null===(n=t.sentences[t.sentences.length-1])||void 0===n?void 0:n.src_translit)||"",l=t.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");i(e=>({...e,tieudepinyin:a,tieudedich:l}))},S=async(e,n,t)=>{var a;let l=await (0,u.V2)(e);if(console.log(l.sentences),!l||!l.sentences||0===l.sentences.length)return;let s=(null===(a=l.sentences[l.sentences.length-1])||void 0===a?void 0:a.src_translit)||"",r=l.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");i(e=>{let i=[...e.hoithoai];return i[n].hthoai[t].pinyin=s,i[n].hthoai[t].dichnghia=r,{...e,hoithoai:i}})},_=async(e,n,t)=>{var a;let l=await (0,u.V2)(e);if(console.log(l.sentences),!l||!l.sentences||0===l.sentences.length)return;let s=(null===(a=l.sentences[l.sentences.length-1])||void 0===a?void 0:a.src_translit)||"",r=l.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");i(e=>{let i=[...e.hoithoai];return i[n].tumoi[t].pinyin=s,i[n].tumoi[t].nghia=r,{...e,hoithoai:i}})};return(0,t.jsxs)("div",{className:"baihocgiaotiep-container",children:[(0,t.jsx)("input",{type:"text",className:"baihocgiaotiep-title",value:n.tieude,onChange:e=>j("tieude",e.target.value)}),(0,t.jsx)("input",{type:"text",className:"baihocgiaotiep-title",value:n.tieudedich,onChange:e=>j("tieudedich",e.target.value)}),(0,t.jsx)("input",{type:"text",className:"baihocgiaotiep-pinyin",value:n.tieudepinyin,onChange:e=>j("tieudepinyin",e.target.value)}),(0,t.jsx)(s.Z,{variant:"warning",onClick:()=>P(n.tieude),children:"GetPinyin"}),(0,t.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:n.hoithoai.map((e,n)=>(0,t.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,t.jsx)(s.Z,{variant:"danger",onClick:()=>k(n),children:"X\xf3a Hội Thoại N\xe0y"}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"col-12 col-md-6",children:[e.hthoai.map((e,i)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"text",className:"baihocgiaotiep-tiengtrung2 tiengtrungText",value:e.tiengtrung,placeholder:"中文",onChange:e=>f(n,i,"tiengtrung",e.target.value)}),(0,t.jsx)(s.Z,{variant:"warning",onClick:()=>S(e.tiengtrung,n,i),children:"GetPinyin"}),(0,t.jsx)("input",{type:"text",className:"baihocgiaotiep-pinyin",value:e.pinyin,placeholder:"pinyin",onChange:e=>f(n,i,"pinyin",e.target.value)}),(0,t.jsx)("input",{type:"text",className:"baihocgiaotiep-dichnghia",value:e.dichnghia,placeholder:"dichnghia",onChange:e=>f(n,i,"dichnghia",e.target.value)}),(0,t.jsx)(s.Z,{variant:"danger",onClick:()=>b(n,i),children:"X\xf3a c\xe2u n\xe0y"})]},i)),(0,t.jsx)(s.Z,{variant:"info",onClick:()=>w(n),children:"Th\xeam c\xe2u hội thoại"})]}),(0,t.jsx)("div",{className:"col-12 col-md-6",children:(0,t.jsxs)("div",{className:"baihocgiaotiep-tumoi",children:[(0,t.jsx)("h2",{children:"Từ mới"}),(0,t.jsx)("ul",{children:e.tumoi.map((e,i)=>(0,t.jsxs)("li",{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"text",className:"tiengtrungText",value:e.tiengtrung,placeholder:"中文",onChange:e=>N(n,i,"tiengtrung",e.target.value)}),(0,t.jsx)("input",{type:"text",className:"pinyinText",placeholder:"pinyin",value:e.pinyin,onChange:e=>N(n,i,"pinyin",e.target.value)}),(0,t.jsx)("input",{type:"text",className:"nghiaText",placeholder:"nghĩa",value:e.nghia,onChange:e=>N(n,i,"nghia",e.target.value)}),(0,t.jsx)(s.Z,{variant:"warning",onClick:()=>_(e.tiengtrung,n,i),children:"GetPinyin"})]}),(0,t.jsx)("div",{children:(0,t.jsx)(s.Z,{variant:"danger",onClick:()=>T(n,i),children:"X\xf3a từ mới n\xe0y"})})]},i))}),(0,t.jsx)(s.Z,{variant:"info",onClick:()=>Z(n),children:"Th\xeam Từ Mới"})]})})]}),(0,t.jsx)(s.Z,{variant:"warning",onClick:()=>C(),children:"Th\xeam Hội Thoại Kh\xe1c"})]},n))}),(0,t.jsx)("h1",{children:"Ngữ Ph\xe1p Area"}),a?(0,t.jsxs)("div",{children:[(0,t.jsx)(g.Z,{nguphaps:a,setNguphap:l}),(0,t.jsx)("hr",{})]}):null]})};function v(e){var n;let{id:i}=e,[r,g]=(0,a.useState)(!0),[v,m]=(0,a.useState)(),[x,y]=(0,a.useState)(),[j,f]=(0,a.useState)(),[N,C]=(0,a.useState)(i),[k,w]=(0,a.useState)(!1),[b,Z]=(0,a.useState)(!1),[T,P]=(0,a.useState)(!1),[S,_]=(0,a.useState)([]);(0,a.useEffect)(()=>{G();let e=(0,u.GJ)(),n=(0,u.bg)();Z(e),w(n)},[]);let G=async()=>{try{g(!0);var e=JSON.parse(localStorage.getItem("allData"));e||await O(),e=await JSON.parse(localStorage.getItem("allData"));let n=await e.find(e=>"giaotiep1"===e.key),t=await n.value[i];if(t.nguphap&&_(t.nguphap),t.nguphap||D(),!n||!n.value){console.error("No valid data found for 'phatam'");return}y(n),f(t),g(!1)}catch(e){g(!1),console.error("Error getting dichthuat data: ",e)}},E=e=>{let{value:n}=e.target;C(n)};v&&(n=v.split("="))[1]&&n[1].split("&")[0];let O=async()=>{try{let e=(await (0,o.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let n={};for(let i in e.value)if(e.value.hasOwnProperty(i)){let{username:t,password:a,...l}=e.value[i];n[i]=l}return{...e,value:n}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},X=async()=>{let e="/users/giaotiep1/".concat(N),n="/users/giaotiep1/".concat(N,"/nguphap");g(!0);try{await Promise.all([(0,o.Pf)(e,j),(0,o.Pf)(n,S)]),g(!1),await h().fire({position:"center",icon:"success",title:"Cập nhật th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(n){console.error("Lỗi tạo b\xe0i mới:",n);let e={message:"Lỗi tạo b\xe0i mới: "+n.message};h().fire(n.message,"","info"),setState(n=>({...n,error:e}))}finally{g(!1)}},D=()=>{_([...S,{key:"",tieude:"",noidung:"",cachdung:[{noidung:"",vidu:[{tiengtrung:"",nghia:"",pinyin:""}]}]}])};return r?(0,t.jsx)(c.Z,{}):(0,t.jsx)(l.Z,{body:(0,t.jsxs)("div",{className:"giaotiepContainer container",children:[(0,t.jsx)(s.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>X(),children:"Update"}),(0,t.jsx)("input",{type:"text",className:"form-control",name:"keyword",id:"","aria-describedby":"helpId",placeholder:"Nhập từ kh\xf3a",onChange:e=>E(e),value:N||""}),j?(0,t.jsx)(p,{baihoc:j,setBaihoc:f,id:N,nguphaps:S,setNguphap:_}):null,j?(0,t.jsx)(d.Z,{baihoc:j,id:N,nguphaps:S}):null]})})}},658:function(e,n,i){"use strict";var t=i(7437),a=i(35),l=i(3508);i(2265),n.Z=e=>{let{nguphaps:n,setNguphap:i}=e;if(!n)return null;let s=async(e,t,a,s)=>{var r;let h=await (0,l.V2)(e);if(console.log(h.sentences),!h||!h.sentences||0===h.sentences.length)return;let o=(null===(r=h.sentences[h.sentences.length-1])||void 0===r?void 0:r.src_translit)||"",c=h.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" "),u=[...n],d=[...u[t].cachdung],g=[...d[a].vidu];g[s]={...g[s],pinyin:o},g[s]={...g[s],nghia:c},d[a]={...d[a],vidu:g},u[t]={...u[t],cachdung:d},i(u)},r=(e,t,a)=>{let{value:l}=e.target,s=[...n];s[t]={...s[t],[a]:l},i(s)},h=(e,t,a,l,s)=>{let{value:r}=e.target,h=[...n],o=[...h[t].cachdung],c=[...o[a].vidu];c[l]={...c[l],[s]:r},o[a]={...o[a],vidu:c},h[t]={...h[t],cachdung:o},i(h)},o=(e,t,a,l)=>{let{value:s}=e.target,r=[...n],h=[...r[t].cachdung];h[a]={...h[a],[l]:s},r[t]={...r[t],cachdung:h},i(r)},c=async(e,t)=>{var a,l;let s=await fetchHanziTranslate(t);if(!s||!(null===(l=s.result[0])||void 0===l?void 0:null===(a=l.content[0])||void 0===a?void 0:a.means))return;let r=s.result[0].content[0].means,h=[...n];for(let n of r)if(n.examples){let i=await Promise.all(n.examples.map(async e=>({tiengtrung:e.e?await fetchConvertZhTw(e.e):"",nghia:e.m||"",pinyin:e.p||""})));h[e].cachdung.push({noidung:n.mean,vidu:i})}else h[e].cachdung.push({noidung:n.mean,vidu:[]});i(h)},u=e=>{let t=[...n];t[e].cachdung=[...t[e].cachdung,{noidung:"",vidu:[]}],i(t)},d=(e,t)=>{let a=[...n];a[e].cachdung[t].vidu.push({tiengtrung:"",nghia:"",pinyin:""}),i(a)},g=e=>{var t=[...n];i(t=t.filter((n,i)=>i!==e))},p=(e,t,a)=>{let l=[...n];l[e].cachdung[t].vidu=l[e].cachdung[t].vidu.filter((e,n)=>n!==a),i(l)},v=(e,t)=>{let a=[...n];a[e].cachdung=a[e].cachdung.filter((e,n)=>n!==t),i(a)};return(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Ngữ Ph\xe1p"}),n.length>0&&n.map((e,n)=>(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("hr",{}),(0,t.jsx)("label",{htmlFor:"",children:"Từ kh\xf3a"}),(0,t.jsx)(a.Z,{variant:"warning",style:{margin:"10px 30px"},onClick:()=>c(n,e.key),children:"Tạo v\xed dụ"}),(0,t.jsx)(a.Z,{variant:"danger",style:{margin:"10px 30px"},onClick:()=>g(n),children:"X\xf3a Ngữ Ph\xe1p N\xe0y"}),(0,t.jsx)("input",{type:"text",className:"form-control",placeholder:"Nhập từ kh\xf3a",onChange:e=>r(e,n,"key"),value:e.key||""}),(0,t.jsx)("label",{htmlFor:"",children:"Ti\xeau đề"}),(0,t.jsx)("input",{type:"text",className:"form-control",placeholder:"Nhập ti\xeau đề",onChange:e=>r(e,n,"tieude"),value:e.tieude||""}),(0,t.jsx)("textarea",{id:"inputnoidung",placeholder:"Ngữ Ph\xe1p",className:"sc-bPyhqo hAGuWh",value:e.noidung,onChange:e=>r(e,n,"noidung"),style:{overflow:"hidden",resize:"none",height:"auto"}}),e.cachdung.map((e,i)=>(0,t.jsx)("div",{className:"card border-primary",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,t.jsxs)("h4",{className:"card-title",children:["C\xe1ch d\xf9ng ",i+1]}),(0,t.jsx)(a.Z,{variant:"danger",onClick:()=>v(n,i),children:"X\xf3a C\xe1ch D\xf9ng N\xe0y"})]}),(0,t.jsx)("textarea",{id:"inputnoidung",placeholder:"C\xe1ch d\xf9ng",className:"sc-bPyhqo hAGuWh",value:e.noidung,onChange:e=>o(e,n,i,"noidung"),style:{overflow:"hidden",resize:"none",height:"auto"}}),e.vidu.map((e,l)=>(0,t.jsxs)("div",{children:[(0,t.jsx)(a.Z,{variant:"danger",onClick:()=>p(n,i,l),children:"X\xf3a"}),(0,t.jsx)("input",{type:"text",className:"form-control",placeholder:"中文",onChange:e=>h(e,n,i,l,"tiengtrung"),value:e.tiengtrung||""}),(0,t.jsx)("input",{type:"text",className:"form-control",placeholder:"Pinyin",onChange:e=>h(e,n,i,l,"pinyin"),value:e.pinyin||""}),(0,t.jsx)("input",{type:"text",className:"form-control",placeholder:"Nghĩa",onChange:e=>h(e,n,i,l,"nghia"),value:e.nghia||""}),(0,t.jsx)(a.Z,{variant:"warning",onClick:()=>s(e.tiengtrung,n,i,l),children:"GetPinyin"}),(0,t.jsx)("hr",{})]},l)),(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,t.jsx)(a.Z,{variant:"info",onClick:()=>d(n,i),children:"Th\xeam V\xed dụ"}),(0,t.jsx)(a.Z,{variant:"warning",onClick:()=>u(n),children:"Th\xeam c\xe1ch d\xf9ng mới"})]})]})},i))]},n)),(0,t.jsx)(a.Z,{variant:"info",onClick:()=>{i([...n,{key:"",tieude:"",noidung:"",cachdung:[{noidung:"",vidu:[{tiengtrung:"",nghia:"",pinyin:""}]}]}])},children:"Th\xeam Ngữ Ph\xe1p"}),(0,t.jsx)("hr",{})]})}}},function(e){e.O(0,[7481,9461,630,6648,8472,609,8708,8151,1682,3913,2971,7023,1744],function(){return e(e.s=843)}),_N_E=e.O()}]);