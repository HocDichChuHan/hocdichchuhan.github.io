(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4663],{73571:function(e,t,n){Promise.resolve().then(n.bind(n,45793))},45793:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var i=n(57437),l=n(2265),s=n(60516),a=n(65606);n(87138);var o=n(19768),r=n(98708),c=n(23508),u=n(64379),d=n.n(u);function h(){let[e,t]=(0,l.useState)(!0),[n,u]=(0,l.useState)([]),[h,m]=(0,l.useState)(""),[f,p]=(0,l.useState)(!1),[k,b]=(0,l.useState)(!1),[g,w]=(0,l.useState)(""),v=(0,l.useRef)(null),x=null,j=()=>{var e;null===(e=v.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,l.useEffect)(()=>{let e=window.location.hash;e&&(w(decodeURIComponent(e.substring(1))),setTimeout(()=>{j()},300))},[]),(0,l.useEffect)(()=>{let e=(0,c.GJ)(),n=(0,c.bg)();b(e),p(n),(async()=>{t(!0);try{let e=(0,s.iH)(a.db,"/users/thamkhao"),t=await (0,s.U2)(e);if(t.exists()){let e=t.val();console.log(e);let n=Object.values(e).map(e=>({name:e.name||"",link:e.link||"#",isadmin:e.isadmin||"0"}));u(n)}else u([])}catch(e){console.error("Lỗi khi lấy dữ liệu:",e),u([])}finally{t(!1)}})()},[]);let y=n.filter(e=>e.name.toLowerCase().includes(h.toLowerCase()));return e?(0,i.jsx)(o.Z,{}):(0,i.jsx)(r.Z,{isStudy:!0,body:(0,i.jsx)("div",{className:"justify-content-center align-item-center",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"col",children:[(0,i.jsx)("h2",{children:"Danh s\xe1ch t\xe0i liệu tham khảo"}),(0,i.jsx)("input",{type:"text",className:"form-control mb-3",placeholder:"T\xecm kiếm theo t\xean...",value:h,onChange:e=>m(e.target.value)}),0===y.length?(0,i.jsx)("p",{children:"Kh\xf4ng t\xecm thấy t\xe0i liệu ph\xf9 hợp."}):(0,i.jsx)("ul",{className:"list-group",children:y.map((e,t)=>("1"!==e.isadmin||"1"===e.isadmin&&k)&&(0,i.jsxs)("li",{className:"list-group-item p-3 mb-2 fs-5 rounded",onClick:async()=>{x||(d().fire({title:"Đang tải...",html:"Đang tải nội dung xem trước, vui l\xf2ng đợi...",allowOutsideClick:!1,didOpen:()=>{d().showLoading()}}),x=setTimeout(()=>{let t=encodeURIComponent(e.link);w(e.link),window.location.hash=t,x=null},250),j())},onDoubleClick:()=>{x&&(clearTimeout(x),x=null),window.open(e.link,"_blank")},children:[t+1,". ",e.name]},t))})]}),g&&(0,i.jsx)("div",{className:"col-12 col-md-9 border-start border-primary",children:(0,i.jsx)("iframe",{ref:v,src:g,width:"100%",height:"100%",style:{border:"none"},title:"Hanzii",onLoad:()=>{d().close()}})})]})})})}n(55778)},55778:function(){}},function(e){e.O(0,[5885,4358,7481,9208,9461,8765,4974,3539,8472,609,6901,7468,2971,7023,1744],function(){return e(e.s=73571)}),_N_E=e.O()}]);