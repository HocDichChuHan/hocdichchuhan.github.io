(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6231],{61320:function(e,n,t){Promise.resolve().then(t.bind(t,2495))},2495:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var a=t(57437),i=t(2265),l=t(98708),s=t(12808),c=t(19768),r=t(23508),o=t(60516),u=t(65606),m=t(64379),d=t.n(m);function h(){let[e,n]=(0,i.useState)(!0),[t,m]=(0,i.useState)(!1),[h,x]=(0,i.useState)(!1),[f,p]=(0,i.useState)([]),k=async e=>{let n=f[e];(await d().fire({title:"Bạn c\xf3 chắc?",text:'Xo\xe1 mục "'.concat(n.name||"chưa đặt t\xean",'"?'),icon:"warning",showCancelButton:!0,confirmButtonText:"Xo\xe1",cancelButtonText:"Huỷ"})).isConfirmed&&p(f.filter((n,t)=>t!==e))},b=(e,n,t)=>{console.log(f);let a=[...f];a[e][n]=t,p(a)},j=async()=>{try{let e=(0,o.iH)(u.db,"/users/thamkhao");await (0,o.t8)(e,f),d().fire("✅ Th\xe0nh c\xf4ng","Dữ liệu đ\xe3 được lưu.","success")}catch(e){console.error("❌ Lỗi khi lưu:",e),d().fire("❌ Lỗi","C\xf3 lỗi xảy ra khi lưu dữ liệu.","error")}};return((0,i.useEffect)(()=>{let e=(0,r.GJ)(),t=(0,r.bg)();x(e),m(t),(async()=>{n(!0);try{let e=(0,o.iH)(u.db,"/users/thamkhao"),n=await (0,o.U2)(e);if(n.exists()){let e=n.val(),t=Object.entries(e).map(e=>{let[n,t]=e;return{name:t.name||"",link:t.link||""}});p(t)}else p([])}catch(e){console.error("Lỗi khi lấy dữ liệu:",e)}finally{n(!1)}})()},[]),e)?(0,a.jsx)(c.Z,{}):(0,a.jsx)(l.Z,{body:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("h2",{children:"Edit list c\xe1c đường dẫn"}),f.map((e,n)=>(0,a.jsxs)("div",{className:"mb-3 border p-3 rounded position-relative",children:[(0,a.jsxs)("label",{children:["T\xean ",n+1]}),(0,a.jsx)("input",{type:"text",className:"form-control mb-2",value:e.name,onChange:e=>b(n,"name",e.target.value),placeholder:"Nhập name"}),(0,a.jsx)("input",{type:"text",className:"form-control mb-2",value:e.link,onChange:e=>b(n,"link",e.target.value),placeholder:"Nhập link"}),(0,a.jsx)("input",{type:"text",className:"form-control mb-2",value:e.isadmin,onChange:e=>b(n,"isadmin",e.target.value),placeholder:"Nhập isadmin"}),1==e.isadmin?(0,a.jsx)(s.Z,{variant:"primary",onClick:()=>b(n,"isadmin","0"),children:"Admin"}):(0,a.jsx)(s.Z,{variant:"secondary",onClick:()=>b(n,"isadmin","1"),children:"User"}),(0,a.jsx)(s.Z,{variant:"danger",onClick:()=>k(n),children:"\uD83D\uDDD1 Xo\xe1 mục n\xe0y"})]},n)),(0,a.jsxs)("div",{className:"mt-3 d-flex gap-3",children:[(0,a.jsx)(s.Z,{onClick:()=>{p([...f,{name:"",link:""}])},className:"btn btn-primary",children:"➕ Th\xeam mục"}),(0,a.jsx)(s.Z,{onClick:j,className:"btn btn-success",children:"\uD83D\uDCBE Lưu dữ liệu"})]})]})})}}},function(e){e.O(0,[4358,7481,9208,9461,5973,3539,8472,609,6901,7468,2971,7023,1744],function(){return e(e.s=61320)}),_N_E=e.O()}]);