(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6231],{61320:function(e,n,i){Promise.resolve().then(i.bind(i,2495))},2495:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return m}});var t=i(57437),a=i(2265),s=i(66802),l=i(12808),c=i(19768),r=i(23508),o=i(60516),d=i(65606),u=i(64379),h=i.n(u);function m(){let[e,n]=(0,a.useState)(!0),[i,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[f,g]=(0,a.useState)([]),p=async e=>{let n=f[e];(await h().fire({title:"Bạn c\xf3 chắc?",text:'Xo\xe1 mục "'.concat(n.name||"chưa đặt t\xean",'"?'),icon:"warning",showCancelButton:!0,confirmButtonText:"Xo\xe1",cancelButtonText:"Huỷ"})).isConfirmed&&g(f.filter((n,i)=>i!==e))},b=(e,n,i)=>{console.log(f);let t=[...f];t[e][n]=i,g(t)},j=async()=>{try{let e=(0,o.iH)(d.db,"/users/thamkhao");await (0,o.t8)(e,f),h().fire("✅ Th\xe0nh c\xf4ng","Dữ liệu đ\xe3 được lưu.","success")}catch(e){console.error("❌ Lỗi khi lưu:",e),h().fire("❌ Lỗi","C\xf3 lỗi xảy ra khi lưu dữ liệu.","error")}};return((0,a.useEffect)(()=>{let e=(0,r.GJ)(),i=(0,r.bg)();x(e),u(i),(async()=>{n(!0);try{let e=(0,o.iH)(d.db,"/users/thamkhao"),n=await (0,o.U2)(e);if(n.exists()){let e=n.val(),i=Object.entries(e).map(e=>{let[n,i]=e;return{name:i.name||"",link:i.link||"",isadmin:i.isadmin||"0"}});g(i)}else g([])}catch(e){console.error("Lỗi khi lấy dữ liệu:",e)}finally{n(!1)}})()},[]),e)?(0,t.jsx)(c.Z,{}):(0,t.jsx)(s.Z,{body:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h2",{children:"Edit list c\xe1c đường dẫn"}),f.map((e,n)=>(0,t.jsxs)("div",{className:"mb-3 border p-3 rounded position-relative",children:[(0,t.jsxs)("label",{children:["T\xean ",n+1]}),(0,t.jsx)("input",{type:"text",className:"form-control mb-2",value:e.name,onChange:e=>b(n,"name",e.target.value),placeholder:"Nhập name"}),(0,t.jsx)("input",{type:"text",className:"form-control mb-2",value:e.link,onChange:e=>b(n,"link",e.target.value),placeholder:"Nhập link"}),(0,t.jsx)("input",{type:"text",className:"form-control mb-2",value:e.isadmin,onChange:e=>b(n,"isadmin",e.target.value),placeholder:"Nhập isadmin"}),1==e.isadmin?(0,t.jsx)(l.Z,{variant:"primary",onClick:()=>b(n,"isadmin","0"),children:"Admin"}):(0,t.jsx)(l.Z,{variant:"secondary",onClick:()=>b(n,"isadmin","1"),children:"User"}),(0,t.jsx)(l.Z,{variant:"danger",onClick:()=>p(n),children:"\uD83D\uDDD1 Xo\xe1 mục n\xe0y"})]},n)),(0,t.jsxs)("div",{className:"mt-3 d-flex gap-3",children:[(0,t.jsx)(l.Z,{onClick:()=>{g([...f,{name:"",link:""}])},className:"btn btn-primary",children:"➕ Th\xeam mục"}),(0,t.jsx)(l.Z,{onClick:j,className:"btn btn-success",children:"\uD83D\uDCBE Lưu dữ liệu"})]})]})})}},19768:function(e,n,i){"use strict";i.d(n,{Z:function(){return c}});var t=i(57437),a=i(2265),s={src:"/_next/static/media/Loading.3170e5c7.gif",height:480,width:475,blurWidth:0,blurHeight:0},l=i(66648);class c extends a.Component{render(){return(0,t.jsx)("div",{className:"loadingData",children:(0,t.jsxs)("div",{className:"loadingData-container",children:[(0,t.jsx)(l.default,{src:s,alt:"Loading...",width:100,height:100}),(0,t.jsx)("h2",{children:"Website đang tải dữ liệu, xin vui l\xf2ng chờ trong gi\xe2y l\xe1t"})]})})}}}},function(e){e.O(0,[5613,770,5527,4358,7481,9208,9461,8765,4974,3539,8472,609,6901,6802,3508,2971,7023,1744],function(){return e(e.s=61320)}),_N_E=e.O()}]);