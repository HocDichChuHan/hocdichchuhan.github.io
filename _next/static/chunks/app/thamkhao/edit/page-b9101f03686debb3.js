(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6231],{1320:function(e,n,t){Promise.resolve().then(t.bind(t,2495))},2495:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var a=t(7437),l=t(2265),i=t(8708),s=t(2808),c=t(9768),r=t(3508),o=t(516),u=t(5606),h=t(4379),m=t.n(h);function d(){let[e,n]=(0,l.useState)(!0),[t,h]=(0,l.useState)(!1),[d,f]=(0,l.useState)(!1),[x,k]=(0,l.useState)([]),b=async e=>{let n=x[e];(await m().fire({title:"Bạn c\xf3 chắc?",text:'Xo\xe1 mục "'.concat(n.name||"chưa đặt t\xean",'"?'),icon:"warning",showCancelButton:!0,confirmButtonText:"Xo\xe1",cancelButtonText:"Huỷ"})).isConfirmed&&k(x.filter((n,t)=>t!==e))},p=(e,n,t)=>{console.log(x);let a=[...x];a[e][n]=t,k(a)},j=async()=>{try{let e=(0,o.iH)(u.db,"/users/thamkhao");await (0,o.t8)(e,x),m().fire("✅ Th\xe0nh c\xf4ng","Dữ liệu đ\xe3 được lưu.","success")}catch(e){console.error("❌ Lỗi khi lưu:",e),m().fire("❌ Lỗi","C\xf3 lỗi xảy ra khi lưu dữ liệu.","error")}};return((0,l.useEffect)(()=>{let e=(0,r.GJ)(),t=(0,r.bg)();f(e),h(t),(async()=>{n(!0);try{let e=(0,o.iH)(u.db,"/users/thamkhao"),n=await (0,o.U2)(e);if(n.exists()){let e=n.val(),t=Object.entries(e).map(e=>{let[n,t]=e;return{name:t.name||"",link:t.link||""}});k(t)}else k([])}catch(e){console.error("Lỗi khi lấy dữ liệu:",e)}finally{n(!1)}})()},[]),e)?(0,a.jsx)(c.Z,{}):(0,a.jsx)(i.Z,{body:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("h2",{children:"Edit list c\xe1c đường dẫn"}),x.map((e,n)=>(0,a.jsxs)("div",{className:"mb-3 border p-3 rounded position-relative",children:[(0,a.jsxs)("label",{children:["T\xean ",n+1]}),(0,a.jsx)("input",{type:"text",className:"form-control mb-2",value:e.name,onChange:e=>p(n,"name",e.target.value),placeholder:"Nhập name"}),(0,a.jsx)("input",{type:"text",className:"form-control mb-2",value:e.link,onChange:e=>p(n,"link",e.target.value),placeholder:"Nhập link"}),(0,a.jsx)(s.Z,{variant:"danger",onClick:()=>b(n),children:"\uD83D\uDDD1 Xo\xe1 mục n\xe0y"})]},n)),(0,a.jsxs)("div",{className:"mt-3 d-flex gap-3",children:[(0,a.jsx)(s.Z,{onClick:()=>{k([...x,{name:"",link:""}])},className:"btn btn-primary",children:"➕ Th\xeam mục"}),(0,a.jsx)(s.Z,{onClick:j,className:"btn btn-success",children:"\uD83D\uDCBE Lưu dữ liệu"})]})]})})}}},function(e){e.O(0,[4358,7481,9208,9461,5973,7143,8472,609,6901,7468,2971,7023,1744],function(){return e(e.s=1320)}),_N_E=e.O()}]);