(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6231],{61320:function(e,n,i){Promise.resolve().then(i.bind(i,2495))},2495:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return h}});var t=i(57437),a=i(2265),l=i(98708),s=i(12808),c=i(19768),r=i(23508),o=i(60516),u=i(65606),m=i(64379),d=i.n(m);function h(){let[e,n]=(0,a.useState)(!0),[i,m]=(0,a.useState)(!1),[h,x]=(0,a.useState)(!1),[f,p]=(0,a.useState)([]),k=async e=>{let n=f[e];(await d().fire({title:"Bạn c\xf3 chắc?",text:'Xo\xe1 mục "'.concat(n.name||"chưa đặt t\xean",'"?'),icon:"warning",showCancelButton:!0,confirmButtonText:"Xo\xe1",cancelButtonText:"Huỷ"})).isConfirmed&&p(f.filter((n,i)=>i!==e))},b=(e,n,i)=>{console.log(f);let t=[...f];t[e][n]=i,p(t)},j=async()=>{try{let e=(0,o.iH)(u.db,"/users/thamkhao");await (0,o.t8)(e,f),d().fire("✅ Th\xe0nh c\xf4ng","Dữ liệu đ\xe3 được lưu.","success")}catch(e){console.error("❌ Lỗi khi lưu:",e),d().fire("❌ Lỗi","C\xf3 lỗi xảy ra khi lưu dữ liệu.","error")}};return((0,a.useEffect)(()=>{let e=(0,r.GJ)(),i=(0,r.bg)();x(e),m(i),(async()=>{n(!0);try{let e=(0,o.iH)(u.db,"/users/thamkhao"),n=await (0,o.U2)(e);if(n.exists()){let e=n.val(),i=Object.entries(e).map(e=>{let[n,i]=e;return{name:i.name||"",link:i.link||"",isadmin:i.isadmin||"0"}});p(i)}else p([])}catch(e){console.error("Lỗi khi lấy dữ liệu:",e)}finally{n(!1)}})()},[]),e)?(0,t.jsx)(c.Z,{}):(0,t.jsx)(l.Z,{body:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h2",{children:"Edit list c\xe1c đường dẫn"}),f.map((e,n)=>(0,t.jsxs)("div",{className:"mb-3 border p-3 rounded position-relative",children:[(0,t.jsxs)("label",{children:["T\xean ",n+1]}),(0,t.jsx)("input",{type:"text",className:"form-control mb-2",value:e.name,onChange:e=>b(n,"name",e.target.value),placeholder:"Nhập name"}),(0,t.jsx)("input",{type:"text",className:"form-control mb-2",value:e.link,onChange:e=>b(n,"link",e.target.value),placeholder:"Nhập link"}),(0,t.jsx)("input",{type:"text",className:"form-control mb-2",value:e.isadmin,onChange:e=>b(n,"isadmin",e.target.value),placeholder:"Nhập isadmin"}),1==e.isadmin?(0,t.jsx)(s.Z,{variant:"primary",onClick:()=>b(n,"isadmin","0"),children:"Admin"}):(0,t.jsx)(s.Z,{variant:"secondary",onClick:()=>b(n,"isadmin","1"),children:"User"}),(0,t.jsx)(s.Z,{variant:"danger",onClick:()=>k(n),children:"\uD83D\uDDD1 Xo\xe1 mục n\xe0y"})]},n)),(0,t.jsxs)("div",{className:"mt-3 d-flex gap-3",children:[(0,t.jsx)(s.Z,{onClick:()=>{p([...f,{name:"",link:""}])},className:"btn btn-primary",children:"➕ Th\xeam mục"}),(0,t.jsx)(s.Z,{onClick:j,className:"btn btn-success",children:"\uD83D\uDCBE Lưu dữ liệu"})]})]})})}}},function(e){e.O(0,[4358,7481,9208,9461,5973,3539,8472,609,6901,7468,2971,7023,1744],function(){return e(e.s=61320)}),_N_E=e.O()}]);