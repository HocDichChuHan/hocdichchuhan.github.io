(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1818],{3488:function(e,t,s){Promise.resolve().then(s.bind(s,68176))},68176:function(e,t,s){"use strict";s.d(t,{default:function(){return f}});var a=s(57437),n=s(2265),r=s(66802),i=s(12808);s(19768);var l=s(23508),c=s(60516),o=s(65606),d=s(64379),u=s.n(d),m=s(66648),h=s(32608),x=s(57295),p=s(27593);function g(e){let{images:t,currentPage:s,onPageChange:r,mucluc:l,pagenum:c,pageSingle:o=!1,showMucluc:d}=e,[u,p]=(0,n.useState)(void 0!==c?c:0),g=Number(void 0!==s?s:u)-1,v=r||p,[f,j]=(0,n.useState)(""),[N,w]=(0,n.useState)(o),[y,k]=(0,n.useState)(null);(0,n.useRef)(null),(0,n.useRef)(null),(0,n.useRef)(null);let b=(0,n.useRef)(null),C=N?[g+1]:[g+1,g+2],S=l.flatMap(e=>e.content).filter(e=>{var t;let s=null===(t=e.pagenum)||void 0===t?void 0:t.toString().split(";").map(e=>Number(e.trim())).filter(e=>!isNaN(e));return(null==s?void 0:s.some(e=>C.includes(e)))&&e.nguphap});(0,n.useEffect)(()=>{let e=()=>{window.innerWidth<1200||o?w(!0):w(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let D=(0,n.useRef)([]),Z=(0,n.useRef)(),E=(0,n.useRef)();(0,n.useEffect)(()=>{D.current=S.map((e,t)=>e.nguphap?e.nguphap.map((e,s)=>{var a,r;return null!==(r=null===(a=D.current[t])||void 0===a?void 0:a[s])&&void 0!==r?r:n.createRef()}):[])},[S]);let[z,L]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=()=>L(window.scrollY>300);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let T=l.flatMap(e=>e.content).filter(e=>{var t;let s=null===(t=e.pagenum)||void 0===t?void 0:t.toString().split(";").map(e=>Number(e.trim())).filter(e=>!isNaN(e));return(null==s?void 0:s.some(e=>C.includes(e)))&&e.mp3link}),I=l.flatMap(e=>e.content).filter(e=>{var t;let s=null===(t=e.pagenum)||void 0===t?void 0:t.toString().split(";").map(e=>Number(e.trim())).filter(e=>!isNaN(e));return(null==s?void 0:s.some(e=>C.includes(e)))&&e.tumoi});return(0,a.jsxs)("div",{ref:Z,className:"container d-flex flex-column justify-content-center align-items-center my-4",children:[(0,a.jsxs)("div",{style:{position:"fixed",top:"50%",right:"10px",display:"flex",flexDirection:"column",gap:"6px",zIndex:9999,transform:"translateY(-50%)"},children:[S.flatMap((e,t)=>e.nguphap.map((e,s)=>(0,a.jsxs)(i.Z,{size:"sm",variant:"outline-success",onClick:()=>{var e,a;return null===(a=D.current[t][s])||void 0===a?void 0:null===(e=a.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"start"})},children:["✏ Ngữ ph\xe1p ",t+1,".",s+1]},"".concat(t,"-").concat(s)))),(0,a.jsx)(i.Z,{size:"sm",variant:"outline-success",onClick:()=>d(),children:"Mục lục"},"muclucRefButton")]}),z&&(0,a.jsx)(i.Z,{variant:"primary",className:"btn-back-to-top",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:(0,a.jsx)("i",{className:"fas fa-arrow-up"})}),(0,a.jsxs)("div",{className:"position-relative w-100 d-flex justify-content-center align-items-center",children:[(0,a.jsx)("button",{className:"btn z-1 btn-outline-primary position-absolute start-0 top-50 translate-middle-y",onClick:()=>{N?g>0&&v(g):g>0&&v(g-1)},disabled:0===g,children:"⬅"}),(0,a.jsxs)("div",{className:"book shadow-lg rounded overflow-hidden",children:[(0,a.jsx)("div",{className:"page border bg-white flip",children:t[g]&&(0,a.jsx)(m.default,{src:t[g],alt:"Page ".concat(g+1),width:600,height:850})}),!N&&(0,a.jsx)("div",{className:"page border bg-white flip",children:t[g+1]&&(0,a.jsx)(m.default,{src:t[g+1],alt:"Page ".concat(g+2),width:600,height:850,style:{width:N?"100%":"600px",height:N?"auto":"850px"}})})]}),(0,a.jsx)("button",{className:"btn z-1 btn-outline-primary position-absolute end-0 top-50 translate-middle-y",onClick:()=>{N?(console.log(g),g<t.length-1&&v(g+2),console.log(g+2)):g<t.length-2&&v(g+2)},disabled:g>=t.length-(N?1:2),children:"➡"})]}),(0,a.jsxs)("div",{className:"row border rounded mt-2 p-1 m-3 w-100",children:[T.length>0&&(0,a.jsx)("div",{className:"col",children:(0,a.jsx)("div",{className:"audio-controls mt-3 d-flex flex-wrap justify-content-center gap-2",children:T.map((e,t)=>(0,a.jsxs)("div",{className:"Playmp3Container mb-2 w-100",children:[(0,a.jsxs)("div",{className:"fs-5",children:["Hội thoại ",t+1,". ",e.name]}),(0,a.jsx)(h.Z,{mp3:e.mp3link,tieude:e.name}),(0,a.jsx)("hr",{})]},"".concat(e.number,"-").concat(t)))})}),I.length>0&&(0,a.jsx)("div",{className:"col-12",children:(0,a.jsx)("div",{className:"audio-controls mt-3 d-flex flex-wrap justify-content-center gap-2",children:(0,a.jsx)("div",{className:"scroll-tumoi-container w-100",ref:b,children:I.map((e,t)=>(0,a.jsx)("div",{className:"",children:(0,a.jsx)(x.Z,{tumoi:e.tumoi,isGianthe:!0,isShowpinyin:!1})},"".concat(e.number,"-").concat(t)))})})})]}),S.length>0&&(0,a.jsx)("div",{className:"audio-controls mt-3 d-flex flex-wrap justify-content-center gap-2",children:S.map((e,t)=>(0,a.jsxs)("div",{className:"Playmp3Container mb-2",children:[e.nguphap&&e.nguphap.map((s,n)=>{var r,i;return(0,a.jsx)("div",{ref:(null===(i=D.current)||void 0===i?void 0:null===(r=i[t])||void 0===r?void 0:r[n])||null,children:s&&(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:s}})},"".concat(e.number,"-").concat(t,"-").concat(n))}),(0,a.jsx)("hr",{})]},"".concat(e.number,"-").concat(t)))}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=parseInt(f,10)-1;!isNaN(s)&&(N||s%2==0||(s-=1),s>=0&&s<t.length&&v(s)),j("")},className:"mb-3 d-flex align-items-center gap-2",ref:E,children:[(0,a.jsx)("input",{type:"number",className:"form-control",placeholder:"Trang ".concat(N?g+1:g+2),value:f,onChange:e=>j(e.target.value),style:{width:"150px"}}),(0,a.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Go"})]})]})}s(16896),s(67631);var v=s(87138);function f(e){let{hsk:t}=e,[s,d]=(0,n.useState)(!0),[m,h]=(0,n.useState)(!1),[x,f]=(0,n.useState)(!1),[j,N]=(0,n.useState)([]),[w,y]=(0,n.useState)(1),[k,b]=(0,n.useState)(1),[C,S]=(0,n.useState)(!1),[D,Z]=(0,n.useState)(!1),[E,z]=(0,n.useState)(null),[L,T]=(0,n.useState)(!1),[I,H]=(0,n.useState)([]),[R,_]=(0,n.useState)([]),A=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=e=>{A.current&&!A.current.contains(e.target)&&S(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,n.useEffect)(()=>{let e=(0,l.GJ)(),s=(0,l.bg)();f(e),h(s),(async()=>{d(!0),u().fire({title:"Đang tải dữ liệu...",text:"Vui l\xf2ng chờ trong gi\xe2y l\xe1t",allowOutsideClick:!1,didOpen:()=>u().showLoading()});try{let e=(0,c.iH)(o.db,"/users/book/".concat(t)),s=await (0,c.U2)(e);if(s.exists()){let e=s.val();if(N(e.mucluc||""),z(e.thamchieu||null),e.thamchieu){let t=(0,c.iH)(o.db,"/users/book/".concat(e.thamchieu)),s=await (0,c.U2)(t);if(s.exists()){let e=s.val();H(e.mucluc||null)}}}u().close()}catch(e){console.error("Lỗi khi lấy dữ liệu:",e),u().fire({icon:"error",title:"Lỗi khi tải dữ liệu",text:e.message||"Đ\xe3 xảy ra lỗi kh\xf4ng x\xe1c định."})}finally{d(!1)}})()},[t]),(0,n.useEffect)(()=>{let e=()=>Z(window.scrollY>60);return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]);let M=Array.from({length:300},(e,s)=>{let a=String(s+1).padStart(4,"0");return"https://duongchung1999.github.io/hsk/".concat(t,"/").concat(t.toUpperCase(),"_page-").concat(a,".jpg")}),O=Array.from({length:300},(e,t)=>{let s=String(t+1).padStart(4,"0");return"https://duongchung1999.github.io/hsk/".concat(E||"","/").concat((E||"").toUpperCase(),"_page-").concat(s,".jpg")});return(0,n.useEffect)(()=>{let e=window.location.hash.replace("#","");e&&!isNaN(e)&&y(Number(e));let t=()=>{let e=window.location.hash.replace("#","");e&&!isNaN(e)&&y(Number(e))};return window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)},[]),(0,n.useEffect)(()=>{w&&window.history.replaceState(null,"","#".concat(w))},[w]),(0,n.useEffect)(()=>{j&&0!==j.length&&(console.log(w),_(j.flatMap(e=>e.content).filter(e=>{var t;let s=null===(t=e.pagenum)||void 0===t?void 0:t.toString().split(";").map(e=>Number(e.trim())).filter(e=>!isNaN(e));return(null==s?void 0:s.some(e=>w===e))&&e.pagethamchieu})))},[j,w]),(0,a.jsx)(r.Z,{body:(0,a.jsxs)("div",{style:{display:"flex",position:"relative"},children:[x&&(0,a.jsx)(v.default,{href:"/book/".concat(t,"/edit"),target:"_self",children:(0,a.jsx)(i.Z,{variant:"warning",children:"Edit"})}),console.log(R),console.log(L),R.length>0&&L&&(0,a.jsx)(p.Z,{show:L,onClose:()=>T(!1),children:(0,a.jsx)("div",{className:"w-100",children:R.map((e,t)=>(0,a.jsx)("div",{className:"w-100",children:(0,a.jsx)(g,{images:O,currentPage:k,onPageChange:b,mucluc:I,pageSingle:!0})},"".concat(e.number,"-").concat(t)))})}),(0,a.jsxs)("div",{ref:A,className:"sidebar d-md-block ".concat(C?"open":"closed"," ").concat(D?"scrolled":""),children:[(0,a.jsx)("button",{className:"toggle-btn",onClick:()=>S(!C),children:C?"⏪ Ẩn":"\uD83D\uDCD6 Mục lục"}),C&&(0,a.jsxs)("div",{className:"toc",children:[(0,a.jsx)("h3",{className:"toc-title fs-4 text-primary fw-bold",children:"\uD83D\uDCD1 Mục lục"}),j.map((e,t)=>(0,a.jsxs)("div",{className:"lesson",children:[(0,a.jsxs)("div",{className:"lesson-title fs-5 text-dark fw-semibold bg-light p-2 rounded-top",children:["B\xe0i ",t+1,". ",e.name]}),(0,a.jsx)("ul",{className:"item-list mb-0",children:e.content.map((e,t)=>{var s;return(0,a.jsxs)("li",{className:"item fs-6 text-secondary p-2 border-bottom ".concat(w===(null===(s=e.pagenum)||void 0===s?void 0:s.toString().split(";")[0])?"active":""),onClick:()=>{var t;return y(Number(null===(t=e.pagenum)||void 0===t?void 0:t.toString().split(";")[0]))},children:[t+1,". ",e.name," ",(0,a.jsxs)("span",{className:"text-muted",children:["(tr. ",e.pagenum,")"]})]},e.number)})})]},e.id))]})]}),(0,a.jsx)("div",{className:"d-lg-block d-none ".concat(C?"closed":"openmucluc"," ").concat(D?"scrolled":""),children:(0,a.jsx)(i.Z,{variant:"primary",onClick:()=>S(!C),children:"\uD83D\uDCD6"})}),(0,a.jsxs)("div",{style:{flex:1},children:[(0,a.jsx)(g,{images:M,currentPage:w,onPageChange:y,mucluc:j,showMucluc:()=>S(!C)}),(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,a.jsx)(i.Z,{variant:"primary",onClick:()=>S(!C),children:"\uD83D\uDCD6 Mục lục"}),E&&(0,a.jsx)(i.Z,{variant:"danger",onClick:()=>{R.length>0&&b(R[0].pagethamchieu),T(!0)},children:"Check Đ\xe1p \xc1n"})]})]})]}),isStudy:!0})}},57295:function(e,t,s){"use strict";var a=s(57437),n=s(2265),r=s(12808),i=s(89745),l=s(77761),c=s(38472),o=s(66648);s(60992);var d=s(23508);t.Z=e=>{let{tumoi:t,isGianthe:s,isShowpinyin:u=!0}=e,[m,h]=(0,n.useState)(!1),[x,p]=(0,n.useState)([]),g=(0,n.useRef)([]),[v,f]=(0,n.useState)(null),[j,N]=(0,n.useState)(!1),[w,y]=(0,n.useState)(),[k,b]=(0,n.useState)(),C=(0,n.useRef)(null),[S,D]=(0,n.useState)({}),[Z,E]=(0,n.useState)({}),[z,L]=(0,n.useState)({}),T=async e=>{try{p([]),f(e),N(!0),await I(e);let t="https://tiengtrungdongyang.com/huongdanviet/".concat(e.charCodeAt(0),".svg"),s=await H(t),a=await c.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!a.data.found)throw Error("Network response was not ok");let n=await c.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=word&page=1&limit=50"));if(!n.data.found)throw Error("Network response was not ok");y(a.data),b(n.data),h(s)}catch(e){console.error("Error fetching Hanzi data:",e)}},I=async e=>{try{let t=await fetch("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!t.ok)throw Error("Network response was not ok");let s=await t.json();if(s.found&&s.result.length>0){let e=JSON.parse(s.result[0].strokes);p(e.strokes)}}catch(e){console.error("Error fetching Hanzi data:",e)}},H=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch(e){return console.error("Lỗi khi kiểm tra đường dẫn:",e),!1}};(0,n.useEffect)(()=>{let e=e=>{C.current&&!C.current.contains(e.target)&&(f(null),N(!1))};return j&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[j]),(0,n.useEffect)(()=>{x.length>0&&setTimeout(()=>{g.current.forEach((e,t)=>{if(e){let s=e.getTotalLength();e.style.strokeDasharray=s,e.style.strokeDashoffset=s,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[x]);let R=e=>{D(t=>({...t,[e]:!t[e]}))},_=e=>{E(t=>({...t,[e]:!t[e]}))},A=e=>{L(t=>({...t,[e]:!t[e]}))};return(0,a.jsxs)("div",{className:"baihocgiaotiep-tumoi",children:[(0,a.jsx)("h2",{children:"Từ mới"}),(0,a.jsx)(l.Z,{showStrokeArea:j,activeCharacter:v,strokes:x,pathsRef:g,isShowImage:m,dataTranslate:k,dataWrite:w,strokeAreaRef:C}),(0,a.jsx)("ul",{children:t&&t.map((e,t)=>(0,a.jsxs)("li",{className:"tu-item fade-in",children:[(0,a.jsx)("div",{className:"d-flex flex-direction-column",children:(0,a.jsxs)("div",{className:"w-100",children:[(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"col-12 col-md-8",children:[(0,a.jsx)("div",{className:"my-1",children:(0,a.jsx)("strong",{className:"",children:(0,a.jsx)("span",{className:"",children:(0,a.jsxs)("span",{className:"",children:["Tiếng Trung:",!s&&e.tiengtrung.split("").map((e,t)=>(0,a.jsx)("span",{className:"chinese-char tiengtrungText text-danger",onClick:()=>T(e),children:e},t)),s&&e.gianthe&&e.gianthe.split("").map((e,t)=>(0,a.jsx)("span",{className:"chinese-char tiengtrungText text-danger",onClick:()=>T(e),children:e},t)),(0,a.jsx)(r.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,i.Z)(e.tiengtrung,t+10),children:"\uD83D\uDD0A"})]})})})}),e.hanviet&&(0,a.jsxs)("div",{className:"my-1",children:["H\xe1n Việt: ",(0,a.jsx)("strong",{children:e.hanviet})]}),(0,a.jsxs)("div",{className:"my-1",children:["Pinyin: ",(0,a.jsx)("strong",{children:e.pinyin})]})]}),(0,a.jsx)("div",{className:"col-12 col-md-4 image-container",children:(0,a.jsx)(o.default,{src:"https://th.bing.com/th?q=".concat(e.gianthe,"&w=450&h=450&c=7&rs=1&p=0&o=5&dpr=2&pid=1.7&mkt=en-WW&cc=VN&setlang=zh&adlt=moderate&t=1"),alt:"H\xecnh ảnh",width:150,height:150,className:"image-styled",style:{objectFit:"cover"}})})]}),(0,a.jsxs)("div",{className:"d-flex gap-2 mt-2",children:[e.means&&e.means.length>0&&(0,a.jsx)(r.Z,{variant:Z[t]?"secondary":"info",size:"sm",onClick:()=>_(t),children:Z[t]?"Ẩn nghĩa":"Hiện nghĩa"}),e.structs&&e.structs.length>0&&(0,a.jsx)(r.Z,{variant:z[t]?"secondary":"success",size:"sm",onClick:()=>A(t),children:z[t]?"Ẩn cấu tr\xfac":"Hiện cấu tr\xfac"})]}),e.means&&e.means.length>0&&Z[t]?(0,a.jsx)("div",{className:"mt-2 d-flex w-100 row g-2",children:e.means.map((t,s)=>(0,a.jsxs)("div",{className:"col-12 col-md-6 border rounded p-2  animation-item ",children:[(0,a.jsxs)("div",{className:"my-1",children:[(0,a.jsx)("strong",{className:"text-danger fs-5",children:t.mean}),(0,a.jsx)("div",{className:"text-muted small",children:t.explain})]}),t.examples&&t.examples.length>0&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("div",{className:"fw-semibold mb-1",children:"V\xed dụ:"}),t.examples.map((t,n)=>(0,a.jsxs)("div",{className:"border rounded p-2 m-2 animation-item ",children:[(0,a.jsxs)("div",{className:"my-1",children:[(0,a.jsx)("span",{className:"fs-5 text-primary",children:(0,d.LA)(t.e,e.gianthe)}),(0,a.jsx)(r.Z,{className:"btn-phatamthanh",variant:"outline-danger",onClick:()=>(0,i.Z)(t.e,n+20),children:"\uD83D\uDD0A"})]}),u&&(0,a.jsx)("div",{className:"text-muted",children:t.p}),(0,a.jsx)("div",{children:t.m})]},"m_".concat(s,"_").concat(n)))]})]},s))}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"row example-list mt-2 ".concat(S[t]?"show":"hide"),children:S[t]&&e.examples&&e.examples.map((s,n)=>(0,a.jsxs)("div",{className:"col-12 col-md-6 mt-3 border rounded pt-2 fade-in",children:[(0,a.jsxs)("div",{children:["V\xed dụ ",n+1]}),(0,a.jsxs)("div",{className:"my-1",children:["Tiếng Trung: ",(0,a.jsx)("span",{className:"fs-3 text-primary",children:(0,d.LA)(s.e,e.gianthe)}),(0,a.jsx)(r.Z,{className:"btn-phatamthanh",variant:"outline-danger",onClick:()=>(0,i.Z)(s.e,n+20),children:"\uD83D\uDD0A"})]}),u&&(0,a.jsxs)("div",{className:"my-1",children:["Pinyin: ",(0,a.jsx)("span",{className:"fs-4 text-muted",children:s.p})]}),(0,a.jsxs)("div",{className:"my-1",children:["Nghĩa: ",(0,a.jsx)("span",{className:"fs-4",children:s.m})]})]},"".concat(t,"_").concat(n)))}),e.examples&&(0,a.jsx)(r.Z,{variant:S[t]?"secondary":"info",size:"sm",className:"mt-2",onClick:()=>R(t),children:S[t]?"Ẩn v\xed dụ":"Hiện v\xed dụ"})]})]})}),(0,a.jsx)("hr",{}),e.structs&&e.structs.length>0&&z[t]&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("div",{className:"fw-bold fs-3 text-success",children:"Cấu tr\xfac"}),e.structs.map((t,s)=>(0,a.jsxs)("div",{className:"border rounded p-2 m-2 animation-item ",children:[(0,a.jsx)("div",{className:"fw-semibold fs-4 text-danger",children:t.struct}),(0,a.jsx)("div",{className:"text-muted small",children:t.explain}),t.examples&&t.examples.length>0&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("div",{className:"fw-semibold",children:"V\xed dụ:"}),t.examples.map((t,n)=>(0,a.jsxs)("div",{className:"border rounded p-2 m-2 animation-item ",children:[(0,a.jsxs)("div",{className:"my-1",children:[(0,a.jsx)("span",{className:"fs-5 text-primary",children:(0,d.LA)(t.e,e.gianthe)}),(0,a.jsx)(r.Z,{className:"btn-phatamthanh",variant:"outline-danger",onClick:()=>(0,i.Z)(t.e,n+30),children:"\uD83D\uDD0A"})]}),u&&(0,a.jsx)("div",{className:"text-muted",children:t.p}),(0,a.jsx)("div",{children:t.m})]},"s_".concat(s,"_").concat(n)))]})]},s))]})]},t))})]})}},87497:function(e,t,s){"use strict";var a=s(57437),n=s(2265),r=s(12808),i=s(66648),l=s(89745),c=s(93444);s(28786),t.Z=e=>{let{activeCharacter:t,imageUrl:s}=e,[o,d]=(0,n.useState)(s),u=()=>{d("".concat(s,"?t=").concat(new Date().getTime()))};return(0,a.jsxs)("div",{className:"col-md-6 col-12",children:[(0,a.jsxs)("div",{className:"HanziImgContainer ",children:[(0,a.jsxs)("h2",{children:["Viết chữ: ",t]}),(0,a.jsx)(r.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,l.Z)(t,-2),children:"\uD83D\uDD0A"})]}),(0,a.jsxs)("div",{className:"HanziImgContainer_Image mt-3",children:[(0,a.jsx)("div",{className:"HanziImgContainer_ImageSrc",children:(0,a.jsx)(i.default,{className:"image-hanzi",src:o,width:450,height:450,alt:"Hanzi Character"})}),(0,a.jsx)(r.Z,{variant:"primary",onClick:()=>u(),className:"submitButton",style:{position:"absolute",top:10,right:10,padding:"5px 10px",fontSize:"14px",zIndex:10},children:(0,a.jsx)("i",{class:"fa-solid fa-repeat"})}),(0,a.jsx)(c.Z,{})]})]})}},69937:function(e,t,s){"use strict";var a=s(57437);s(2265);var n=s(12808);s(66648);var r=s(89745),i=s(93444);t.Z=e=>{let{activeCharacter:t,strokes:s,pathsRef:l}=e,c=()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e};return(0,a.jsxs)("div",{className:"col-md-6 col-12",children:[(0,a.jsxs)("div",{className:"HanziImgContainer ",children:[(0,a.jsxs)("h2",{children:["Viết chữ: ",t]}),(0,a.jsx)(n.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,r.Z)(t,-2),children:"\uD83D\uDD0A"})]}),(0,a.jsxs)("div",{className:"HanziImgContainer_Image mt-3",children:[(0,a.jsx)("div",{className:"HanziImgContainer_ImageSrc",children:(0,a.jsxs)("div",{className:"HanziImgContainer_ImageSvg",children:[(0,a.jsx)("svg",{className:"HanziImgContainer_Svg450 strokeGuide",viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("g",{transform:"translate(0, 890) scale(1, -1)",children:s.map((e,t)=>(0,a.jsx)("path",{d:e,fill:"none",stroke:"black",strokeOpacity:"0.2",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"},t))})}),(0,a.jsx)("svg",{className:"HanziImgContainer_Svg450 strokeAnimation",viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",style:{color:"#333"},children:(0,a.jsx)("g",{transform:"translate(0, 890) scale(1, -1)",children:s.map((e,t)=>(0,a.jsx)("path",{ref:e=>l.current[t]=e,d:e,fill:"none",stroke:c(),strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"miter",style:{strokeDasharray:"0",strokeDashoffset:"0",color:"#333",backgroundColor:"#555"}},t))})})]})}),(0,a.jsx)(i.Z,{})]})]})}},77761:function(e,t,s){"use strict";var a=s(57437);s(2265);var n=s(87497),r=s(69937),i=s(31243);s(93444),t.Z=e=>{let{isGianthe:t,showStrokeArea:s,activeCharacter:l,strokes:c,pathsRef:o,isShowImage:d,dataTranslate:u,dataWrite:m,strokeAreaRef:h}=e;if(!s||!l)return null;let x="https://tiengtrungdongyang.com/huongdanviet/".concat(l.charCodeAt(0),".svg");return(0,a.jsxs)("div",{className:"strokeAreaOverlay",children:[console.log(l),(0,a.jsx)("div",{className:"strokeArea",ref:h,children:(0,a.jsxs)("div",{className:"row",children:[d?(0,a.jsx)(n.Z,{activeCharacter:l,imageUrl:x}):c&&(0,a.jsx)(r.Z,{activeCharacter:l,strokes:c,pathsRef:o}),(0,a.jsx)("div",{className:"col-md-6 col-12",children:(0,a.jsx)("div",{className:"view-nghiacuatu",children:u&&(0,a.jsx)(i.Z,{word:l,dataWrite:m,dataTranslate:u,isGianthe:t})})})]})})]})}},32608:function(e,t,s){"use strict";var a=s(57437),n=s(2265),r=s(12808);s(9339),t.Z=(0,n.forwardRef)((e,t)=>{let{mp3:s,tieude:i,mp3gianthelist:c,mp3tiengtrunglist:o,mp3pinyinlist:d,mp3nghialist:u,mp3timelinelist:m,isShowPinyin:h,isGianthe:x,isPlayBgMusic:p}=e,g=(0,n.useRef)(null),v=(0,n.useRef)(null),[f,j]=(0,n.useState)(!1),[N,w]=(0,n.useState)(0),[y,k]=(0,n.useState)(0),[b,C]=(0,n.useState)(1),[S,D]=(0,n.useState)(-1),[Z,E]=(0,n.useState)(!1),z=e=>e?"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat(Math.floor(e%60).toString().padStart(2,"0")):"00:00",L=e=>{let t=parseFloat(e.target.value);C(t),g.current&&(g.current.playbackRate=t)},T=()=>g.current?z(g.current.currentTime):"00:00";return(0,n.useImperativeHandle)(t,()=>({getCurrentTime:T})),(0,n.useEffect)(()=>{if("1"==p)return v.current=new Audio("https://tiengtrungdongyang.com/mp3/bg/".concat(Math.floor(9*Math.random())+1,".mp3")),v.current.volume=.15,()=>{v.current&&(v.current.pause(),v.current.currentTime=0,v.current=null)}},[s]),(0,a.jsx)("div",{children:s&&(0,a.jsxs)("div",{className:"d-flex align-items-center bg-dark text-white p-3 m-2 rounded",children:[(0,a.jsx)(r.Z,{variant:f?"warning":"success",onClick:()=>{g.current&&(f?(g.current.pause(),"1"==p&&setTimeout(()=>{v.current.pause()},1e3)):"1"==p?(v.current.play(),setTimeout(()=>{g.current.play()},1e3)):g.current.play(),j(!f))},className:"me-2",children:f?"⏸":"▶"}),(0,a.jsx)("input",{type:"range",min:"0",max:y||100,value:N,onChange:e=>{if(g.current){let t=parseFloat(e.target.value);g.current.currentTime=t,"1"==p&&(v.current.currentTime=t),w(t)}},className:"form-range w-50 me-2"}),(0,a.jsxs)("span",{className:"me-2",children:[z(N)," / ",z(y)]}),(0,a.jsxs)("select",{value:l(b),onChange:e=>L(e),className:"form-select form-select-sm me-2",style:{width:"auto"},children:[(0,a.jsx)("option",{value:"0.5",children:"0.5x"}),(0,a.jsx)("option",{value:"0.75",children:"0.75x"}),(0,a.jsx)("option",{value:"1.0",children:"1.0x"}),(0,a.jsx)("option",{value:"1.25",children:"1.25x"}),(0,a.jsx)("option",{value:"1.5",children:"1.5x"}),(0,a.jsx)("option",{value:"1.75",children:"1.75x"}),(0,a.jsx)("option",{value:"2.0",children:"2.0x"})]}),(0,a.jsx)(r.Z,{variant:"outline-primary",href:s,download:"".concat(i||"audio",".mp3"),className:"ms-3",children:(0,a.jsx)("i",{className:"fa-solid fa-circle-down"})}),(0,a.jsx)("audio",{ref:g,src:s,onTimeUpdate:()=>{g.current&&w(g.current.currentTime)},onLoadedMetadata:()=>{g.current&&k(g.current.duration)},onEnded:()=>{j(!1),v.current&&setTimeout(()=>{v.current.pause(),v.current.currentTime=0},1e3)}})]})})});let i=["0.5","0.75","1.0","1.25","1.5","1.75","2.0"],l=e=>i.reduce((t,s)=>Math.abs(parseFloat(s)-e)<Math.abs(parseFloat(t)-e)?s:t)},93444:function(e,t,s){"use strict";var a=s(57437),n=s(2265);class r extends n.Component{render(){return(0,a.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},viewBox:"0 0 500 500",preserveAspectRatio:"none",children:[(0,a.jsx)("rect",{x:"0",y:"0",width:"500",height:"500",fill:"none",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"250",y1:"0",x2:"250",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"0",y1:"250",x2:"500",y2:"250",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"0",y1:"0",x2:"500",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,a.jsx)("line",{x1:"500",y1:"0",x2:"0",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"})]})}}t.Z=r},27593:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(57437);function n(e){let{show:t,children:s,onClose:n}=e;return t?(0,a.jsx)("div",{className:"overlay-container d-flex align-items-center justify-content-center",onClick:()=>{n()},children:(0,a.jsxs)("div",{className:"overlay-content position-relative bg-white rounded p-3 shadow",onClick:e=>{e.stopPropagation()},children:[(0,a.jsx)("button",{className:"btn-close position-absolute top-0 end-0 m-2",onClick:n}),(0,a.jsx)("div",{className:"overlay-scroll",children:s})]})}):null}s(24075)},67631:function(){},60992:function(){},16896:function(){},28786:function(){},9339:function(){},24075:function(){}},function(e){e.O(0,[2866,431,9513,7539,5527,8223,4358,7481,9208,9461,8765,4974,3539,8472,609,6901,6802,2408,2971,7023,1744],function(){return e(e.s=3488)}),_N_E=e.O()}]);