(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1818],{3488:function(e,t,n){Promise.resolve().then(n.bind(n,68176))},68176:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var a=n(57437),s=n(2265),i=n(66802);n(19768);var A=n(23508),r=n(60516),l=n(65606);n(64379);var c=n(66648);function o(e){let{images:t}=e,[n,i]=(0,s.useState)(0),[A,r]=(0,s.useState)(""),[l,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=()=>{window.innerWidth<992?o(!0):o(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.jsxs)("div",{className:"container d-flex flex-column justify-content-center align-items-center my-4",children:[(0,a.jsxs)("div",{className:"position-relative w-100 d-flex justify-content-center align-items-center",children:[(0,a.jsx)("button",{className:"btn btn-outline-primary position-absolute start-0 top-50 translate-middle-y",onClick:()=>{l?n>0&&i(n-1):n>0&&i(n-2)},disabled:0===n,children:"⬅"}),(0,a.jsxs)("div",{className:"book shadow-lg rounded overflow-hidden",children:[(0,a.jsx)("div",{className:"page border bg-white flip",children:t[n]&&(0,a.jsx)(c.default,{src:t[n],alt:"Page ".concat(n+1),width:600,height:850,className:"img-fluid"})}),!l&&(0,a.jsx)("div",{className:"page border bg-white flip",children:t[n+1]&&(0,a.jsx)(c.default,{src:t[n+1],alt:"Page ".concat(n+2),width:600,height:850,className:"img-fluid"})})]}),(0,a.jsx)("button",{className:"btn btn-outline-primary position-absolute end-0 top-50 translate-middle-y",onClick:()=>{l?n<t.length-1&&i(n+1):n<t.length-2&&i(n+2)},disabled:n>=t.length-(l?1:2),children:"➡"})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let n=parseInt(A,10)-1;!isNaN(n)&&(l||n%2==0||(n-=1),n>=0&&n<t.length&&i(n)),r("")},className:"mb-3 d-flex align-items-center gap-2",children:[(0,a.jsx)("input",{type:"number",className:"form-control",placeholder:"Trang ".concat(n+2),value:A,onChange:e=>r(e.target.value),style:{width:"150px"}}),(0,a.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Go"})]})]})}function d(e){let{hsk:t}=e,[n,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(!1),[h,g]=(0,s.useState)(!1),[m,p]=(0,s.useState)([]),[f,x]=(0,s.useState)(1),[j,b]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,A.GJ)(),n=(0,A.bg)();g(e),u(n),e||(window.location.href="/book/".concat(t)),(async()=>{c(!0);try{let e=(0,r.iH)(l.db,"/users/book/".concat(t)),n=await (0,r.U2)(e);if(n.exists()){let e=n.val();if(!e)return;p(e.mucluc||"")}}catch(e){console.error("Lỗi khi lấy dữ liệu:",e)}finally{c(!1)}})()},[]);let v=Array.from({length:300},(e,n)=>{let a=String(n+1).padStart(4,"0");return"https://duongchung1999.github.io/hsk/".concat(t,"/").concat(t.toUpperCase(),"_page-").concat(a,".jpg")});return(0,a.jsx)(i.Z,{body:(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsxs)("div",{className:"sidebar ".concat(j?"open":"closed"),children:[(0,a.jsx)("button",{className:"toggle-btn",onClick:()=>b(!j),children:j?"⏪ Ẩn":"\uD83D\uDCD6 Mục lục"}),j&&(0,a.jsxs)("div",{className:"toc",children:[(0,a.jsx)("h3",{className:"toc-title",children:"\uD83D\uDCD1 Mục lục"}),m.map(e=>(0,a.jsxs)("div",{className:"lesson",children:[(0,a.jsx)("div",{className:"lesson-title",children:e.name}),(0,a.jsx)("ul",{className:"item-list",children:e.content.map(e=>(0,a.jsxs)("li",{className:"item ".concat(f===e.pagenum?"active":""),onClick:()=>x(e.pagenum),children:[e.name," ",(0,a.jsxs)("span",{children:["(tr. ",e.pagenum,")"]})]},e.number))})]},e.id))]})]}),(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(o,{images:v,currentPage:f,onPageChange:x})})]}),isStudy:!0})}n(16896)},19768:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(57437),s=n(2265),i={src:"/_next/static/media/Loading.3170e5c7.gif",height:480,width:475,blurWidth:0,blurHeight:0},A=n(66648);class r extends s.Component{render(){return(0,a.jsx)("div",{className:"loadingData",children:(0,a.jsxs)("div",{className:"loadingData-container",children:[(0,a.jsx)(A.default,{src:i,alt:"Loading...",width:100,height:100}),(0,a.jsx)("h2",{children:"Website đang tải dữ liệu, xin vui l\xf2ng chờ trong gi\xe2y l\xe1t"})]})})}}},23508:function(e,t,n){"use strict";n.d(t,{FF:function(){return g},GJ:function(){return j},Gv:function(){return h},LA:function(){return u},PA:function(){return m},Pw:function(){return f},V2:function(){return p},bg:function(){return b},o0:function(){return o},sq:function(){return v},xb:function(){return d},yI:function(){return x}});var a=n(57437),s=n(9782),i=n(31213),A=n(2265),r=n(45749),l=n(66648),c=n(38472);let o=e=>{if(!e)return"";try{let t=new Date(e);return(0,s.WU)(t,"h:mm a, dd 'Th\xe1ng' MM, yyyy",{locale:i.vi})}catch(t){return console.error("Invalid date format:",e),e}};function d(e){return(0,a.jsxs)("div",{className:"itemCard-container-dashboardView",children:[(0,a.jsxs)("div",{className:"itemCard-UserName itemcard-UserName-sticky",children:[(0,a.jsxs)("div",{className:"itemCard-UserName-1",children:[(0,a.jsx)(l.default,{src:e.imgUser?e.imgUser:r.Z,alt:"img",width:30,height:30}),(0,a.jsxs)("div",{className:"itemCard-UserName-container",children:[(0,a.jsx)("h4",{className:"username-card",children:e.username}),(0,a.jsx)("p",{style:{margin:"0"},children:o(e.dateTime)})]})]}),(()=>{let t=localStorage.getItem("name");return e.username==t?(0,a.jsx)("div",{className:"itemCard-UserName-1",children:(0,a.jsx)("button",{className:"btn btn-options",onClick:e.removeClick,style:{padding:"0",margin:"0"},children:(0,a.jsx)("i",{className:"fa-solid fa-trash"})})}):null})()]}),(0,a.jsx)("div",{className:"itemCard-baiDich",children:e.baidich})]})}let u=(e,t)=>e?e.split(RegExp("(".concat(t,")"),"gi")).map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,a.jsx)("span",{style:{color:"red"},children:e},n):e.split("\n").map((e,t,n)=>t===n.length-1?e:(0,a.jsxs)(A.Fragment,{children:[e,(0,a.jsx)("br",{})]},t))):null,h=(e,t)=>{if(!e||!t||0===t.length)return null;let n=RegExp("(".concat(t.join("|"),")"),"gi");return e.split(n).map((e,n)=>t.some(t=>t.toLowerCase()===e.toLowerCase())?(0,a.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:e},n):e.split("\n").map((e,t,n)=>t===n.length-1?e:(0,a.jsxs)(A.Fragment,{children:[e,(0,a.jsx)("br",{})]},t)))},g=async e=>{try{let t=await c.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=vi&tl=en&q=".concat(encodeURIComponent(e)));if(t.data)return t.data.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},m=async e=>{try{let t=await c.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(e)));if(t.data)return t.data.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},p=async e=>{try{let t=await c.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-TW&tl=vi&q=".concat(encodeURIComponent(e)));if(t.data)return t.data;return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},f=e=>e&&e.includes("hocdichchuhan.github.io")?e.replace("hocdichchuhan.github.io","tiengtrungdongyang.com"):e,x=async e=>{let t=encodeURIComponent(e),n=await c.Z.get("https://api.hanzii.net/api/search/vi/".concat(t,"?type=word&page=1&limit=2"));return n.data.found?n.data:null},j=()=>{let e=v();return!!e&&"sDHYFpe6CMazPbsZ0mzSyY8d5Ev1"==e},b=()=>!!v(),v=()=>{let e=JSON.parse(localStorage.getItem("userLogin"));return null==e?void 0:e.uid}},16896:function(){},45749:function(e,t){"use strict";t.Z={src:"/_next/static/media/user.f64324c2.jpg",height:200,width:200,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAG0E//EABUQAQEAAAAAAAAAAAAAAAAAABMk/9oACAEBAAEFAlo//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwF//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPwF//8QAGBAAAgMAAAAAAAAAAAAAAAAAABIxQWH/2gAIAQEABj8CRqjT/8QAGBAAAgMAAAAAAAAAAAAAAAAAESEAMbH/2gAIAQEAAT8hGkETU//aAAwDAQACAAMAAAAQ+//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABgQAAIDAAAAAAAAAAAAAAAAAAARQZGh/9oACAEBAAE/ELbi5YP/2Q==",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[2866,343,4358,7481,9208,9461,8765,4974,3539,8472,609,6901,6802,2971,7023,1744],function(){return e(e.s=3488)}),_N_E=e.O()}]);