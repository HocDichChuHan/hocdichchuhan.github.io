(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2880],{74250:function(t,e,n){Promise.resolve().then(n.bind(n,30457))},30457:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return v}});var a=n(57437),i=n(2265),c=n(66802),s=n(12808),r=n(64379),l=n.n(r),o=n(65606);n(58833),n(10494),n(91795);var u=n(19768);n(87138),n(66648),n(31243);var h=n(23508);n(84109),n(58971),n(2609),n(48342);var d=n(47571);function v(){var t;let[e,n]=(0,i.useState)(!0),[r,v]=(0,i.useState)(),[g,m]=(0,i.useState)(),[p,x]=(0,i.useState)(!1),[f,y]=(0,i.useState)(!1),[j,w]=(0,i.useState)(Date.now());(0,i.useEffect)(()=>{let t=setInterval(()=>{w(Date.now())},5e3);return()=>clearInterval(t)},[]),(0,i.useEffect)(()=>{N();let t=(0,h.GJ)(),e=(0,h.bg)();y(t),x(e)},[]);let N=async()=>{try{n(!0);var t=JSON.parse(localStorage.getItem("allData"));t||await C(),t=await JSON.parse(localStorage.getItem("allData"));let e=await t.find(t=>"cachvietchu"===t.key),a=await e.value.butthuan;m(a),n(!1)}catch(t){n(!1),console.error("Error getting dichthuat data: ",t)}};r&&(t=r.split("="))[1]&&t[1].split("&")[0];let C=async()=>{try{let t=(await (0,o.UD)("/users")).map(t=>{if("account"===t.key&&t.value){let e={};for(let n in t.value)if(t.value.hasOwnProperty(n)){let{username:a,password:i,...c}=t.value[n];e[n]=c}return{...t,value:e}}return t});await localStorage.setItem("allData",JSON.stringify(t))}catch(t){console.error("Error fetching data:",t)}},b=(t,e,n)=>{let a=[...g];a[t][e]=n,m(a)},k=(t,e,n,a)=>{let i=[...g];i[t].vidu[e][n]=a,m(i)},S=t=>{l().fire({title:"Bạn c\xf3 chắc chắn?",text:"Quy tắc n\xe0y sẽ bị x\xf3a!",icon:"warning",showCancelButton:!0,confirmButtonText:"X\xf3a",cancelButtonText:"Hủy"}).then(e=>{e.isConfirmed&&m(g.filter((e,n)=>n!==t))})},D=t=>{let e=[...g];e[t].vidu.push({tiengtrung:"新",hanviet:"",pinyin:""}),m(e)},Z=(t,e)=>{l().fire({title:"Bạn c\xf3 chắc chắn?",text:"V\xed dụ n\xe0y sẽ bị x\xf3a!",icon:"warning",showCancelButton:!0,confirmButtonText:"X\xf3a",cancelButtonText:"Hủy"}).then(n=>{if(n.isConfirmed){let n=[...g];n[t].vidu.splice(e,1),m(n)}})},I=async()=>{try{await (0,o.Pf)("/users/cachvietchu/butthuan",g),l().fire("Th\xe0nh c\xf4ng","Đ\xe3 cập nhật dữ liệu!","success")}catch(t){console.error("Lỗi cập nhật dữ liệu:",t),l().fire("Lỗi","Cập nhật thất bại!","error")}},T=async(t,e,n)=>{let a=await (0,h.yI)(t);if(!a)return;let i=a.result[0].cn_vi,c=a.result[0].pinyin,s=[...g];s[e].vidu[n].hanviet=i,s[e].vidu[n].pinyin=c,m(s)};return e?(0,a.jsx)(u.Z,{}):(0,a.jsx)(c.Z,{body:(0,a.jsxs)("div",{className:"container",children:[f&&(0,a.jsx)(s.Z,{className:"btn-phatamthanh",variant:"warning",onClick:()=>I(),children:"Update"}),g?(0,a.jsxs)("div",{className:"butthuanContainer",children:[g.map((t,e)=>(0,a.jsxs)("div",{className:"butthuan-item",children:[(0,a.jsxs)("h2",{children:["Quy tắc ",e+1,":",(0,a.jsx)("input",{type:"text",value:t.tieude,onChange:t=>b(e,"tieude",t.target.value),className:"form-control"})]}),(0,a.jsx)(s.Z,{variant:"danger",onClick:()=>S(e),children:"X\xf3a Quy Tắc"}),(0,a.jsxs)("div",{className:"row",children:[t.vidu.map((t,n)=>(0,a.jsx)("div",{className:"col-6 col-md-3",children:(0,a.jsxs)("div",{className:"image-container butthuanImg",style:{flexDirection:"column"},children:[(0,a.jsx)(s.Z,{variant:"warning",size:"sm",onClick:()=>Z(e,n),children:"X\xf3a V\xed Dụ"}),(0,a.jsx)(d.Z,{src:"https://tiengtrungdongyang.com/huongdanviet/".concat(t.tiengtrung.charCodeAt(0),".svg"),alt:"H\xecnh ảnh"},t.tiengtrung),(0,a.jsx)("input",{type:"text",value:t.tiengtrung,onChange:t=>k(e,n,"tiengtrung",t.target.value),placeholder:"中文",className:"form-control"}),(0,a.jsx)("input",{type:"text",value:t.hanviet,placeholder:"H\xe1n Việt",onChange:t=>k(e,n,"hanviet",t.target.value),className:"form-control"}),(0,a.jsx)("input",{type:"text",placeholder:"pinyin",value:t.pinyin,onChange:t=>k(e,n,"pinyin",t.target.value),className:"form-control"}),(0,a.jsx)(s.Z,{variant:"warning",size:"sm",onClick:()=>T(t.tiengtrung,e,n),children:"Get pinyin"})]})},n)),(0,a.jsx)("div",{className:"col-6 col-md-3",children:(0,a.jsx)(s.Z,{variant:"success",onClick:()=>D(e),children:"Th\xeam V\xed Dụ"})})]})]},e)),(0,a.jsx)(s.Z,{variant:"info",onClick:()=>{m([...g,{tieude:"Quy tắc mới",vidu:[{tiengtrung:"例",hanviet:"V\xed dụ",pinyin:"l\xec"}]}])},children:"Th\xeam Quy Tắc"})]}):null,g?(0,a.jsx)("div",{className:"butthuanContainer",children:g.map((t,e)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{children:["Quy tắc ",e+1,": ",t.tieude]}),(0,a.jsx)("div",{className:"row",children:t.vidu.map((t,e)=>(0,a.jsx)("div",{className:"col-6 col-md-3",children:(0,a.jsxs)("div",{className:"image-container butthuanImg",style:{flexDirection:"column"},children:[(0,a.jsx)(d.Z,{src:"https://tiengtrungdongyang.com/huongdanviet/".concat(t.tiengtrung.charCodeAt(0),".svg"),alt:"H\xecnh ảnh"}),(0,a.jsxs)("p",{style:{marginTop:"10px",color:"red"},children:[t.hanviet," (",t.pinyin,")"]})]})},e))})]},e))}):null]})})}},47571:function(t,e,n){"use strict";var a=n(57437),i=n(2265),c=n(66648),s=n(93444);n(68991),e.Z=t=>{let{src:e,alt:n}=t,[r,l]=(0,i.useState)("".concat(e,"?timestamp=").concat(Date.now()));return(0,a.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,a.jsx)("button",{onClick:()=>{l("".concat(e,"?timestamp=").concat(Date.now()))},style:{position:"absolute",top:"5px",right:"5px",border:"none",borderRadius:"50%",width:"30px",height:"30px",cursor:"pointer",fontSize:"16px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"1001"},className:"submitButton",children:(0,a.jsx)("i",{class:"fa-solid fa-repeat"})}),(0,a.jsx)(c.default,{src:r,alt:n,width:600,height:600,layout:"intrinsic",className:"image-styled",style:{objectFit:"contain"}}),(0,a.jsx)(s.Z,{})]})}},34231:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var a=n(57437),i=n(2265);function c(t){let{value:e,onChange:n,className:c="",placeholder:s="",onKeyDown:r}=t,l=(0,i.useRef)(null),o=()=>{let t=l.current;t&&(t.style.height="auto",t.style.height=t.scrollHeight+"px")};return(0,i.useEffect)(()=>{o()},[e]),(0,i.useEffect)(()=>{o()},[]),(0,a.jsx)("textarea",{ref:l,className:"form-control ".concat(c),value:e,onChange:n,placeholder:s,rows:1,style:{overflow:"hidden",resize:"none"},onKeyDown:r})}},68991:function(){}},function(t){t.O(0,[2866,1953,9513,5922,4358,7481,9208,9461,8765,4974,3539,8472,609,6901,6802,2408,4547,1682,658,3255,2609,2971,7023,1744],function(){return t(t.s=74250)}),_N_E=t.O()}]);