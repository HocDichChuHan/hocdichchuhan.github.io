(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4673],{38466:function(e,t,a){Promise.resolve().then(a.bind(a,92499))},92499:function(e,t,a){"use strict";a.r(t);var i=a(57437),l=a(2265),r=a(12808),n=a(66802),s=a(65634),c=a(65606);a(19768);var o=a(87138),u=a(23508);class h extends l.Component{componentDidMount(){let e=(0,u.GJ)(),t=(0,u.bg)();this.setState({flagLogin:t,flagAdmin:e}),this.getDichThuat()}componentWillUnmount(){clearInterval(this.intervalId)}isLogin(){localStorage.getItem("name")&&this.setState({flagLogin:!0})}isAdmin(){return"duong171099"==localStorage.getItem("user")&&(this.setState({flagAdmin:!0}),!0)}render(){return(0,i.jsx)(n.Z,{body:(0,i.jsxs)("div",{children:[this.renderAddButton(),(0,i.jsx)("div",{className:"dichthuat-container row",children:this.showDichThuat()})]})})}constructor(e){super(e),this.getDichThuat=async()=>{try{this.setState({loading:!0});var e=JSON.parse(localStorage.getItem("allData"));e||await this.getAllData();let t=(e=await JSON.parse(localStorage.getItem("allData"))).find(e=>"dichthuat"===e.key),a=Object.entries(t.value).map(e=>{let[t,a]=e;return{key:t,value:a}}),i=a.map(async e=>{let a=e.key;return{key:a,youtubeLinkToGetImg:t.value[a].link,webLink:t.value[a].webLink,tieudeTiengTrung:t.value[a].tieudeTiengTrung,tieude:t.value[a].tieude,author:t.value[a].author,imgAuthor:t.value[a].imgAuthor,id:t.value[a].id}}),l=await Promise.all(i),r={},n={},s={},c={},o={},u={},h={};l.forEach(e=>{r[e.key]=e.webLink,n[e.key]=e.tieudeTiengTrung,s[e.key]=e.author,c[e.key]=e.youtubeLinkToGetImg,o[e.key]=e.imgAuthor,u[e.key]=e.id,h[e.key]=e.tieude}),this.setState({dichthuats:a,webLinks:r,tieudeTiengTrungs:n,authors:s,imgAuthors:o,youtubeLinkToGetImgs:c,ids:u,tieudes:h,loading:!1})}catch(e){console.error("Error getting dichthuat data: ",e),this.setState({loading:!1})}},this.getAllData=async()=>{try{let e=(await (0,c.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let t={};for(let a in e.value)if(e.value.hasOwnProperty(a)){let{username:i,password:l,...r}=e.value[a];t[a]=r}return{...e,value:t}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},this.to_slug=e=>e=(e="@"+(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi,"a")).replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi,"e")).replace(/i|í|ì|ỉ|ĩ|ị/gi,"i")).replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi,"o")).replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi,"u")).replace(/ý|ỳ|ỷ|ỹ|ỵ/gi,"y")).replace(/đ/gi,"d")).replace(/\`|\~|\!|\@|\#|\||\$|\%|\^|\&|\*|\(|\)|\+|\=|\,|\.|\/|\?|\>|\<|\'|\"|\:|\;|_/gi,"")).replace(/ /gi,"-")).replace(/\-\-\-\-\-/gi,"-")).replace(/\-\-\-\-/gi,"-")).replace(/\-\-\-/gi,"-")).replace(/\-\-/gi,"-"))+"@").replace(/\@\-|\-\@|\@/gi,""),this.setDichThuatName=e=>{localStorage.setItem("dichthuat",e)},this.showDichThuat=()=>{let{tieudes:e,dichthuats:t,youtubeLinkToGetImgs:a,webLinks:l,tieudeTiengTrungs:r,authors:n,imgAuthors:c,ids:o}=this.state;return e&&n&&t.length>0?t.map((t,u)=>{let h=l[t.key],d=e[t.key],g=r[t.key],m=n[t.key],p=c[t.key];a[t.key];let k=o[t.key];return(0,i.jsx)(s.Z,{cardClick:()=>this.setDichThuatName(t.key),webLink:h,tieudeTiengTrung:g,author:m,imgAuthor:p,link:"/dichthuat/dichthuatDetails/".concat(this.to_slug(t.key)),title:d||null,titleDescription:"Description",img:k?"https://img.youtube.com/vi/".concat(k,"/sddefault.jpg"):null,alt:"IMG Link"},u)}):null},this.getYoutubeId=e=>{var t=e.split("=");return t[1]?t[1].split("&")[0]:"null"},this.renderAddButton=()=>this.state.flagAdmin?(0,i.jsx)(o.default,{href:"/dichthuat/dichthuatHandle",children:(0,i.jsxs)(r.Z,{variant:"info",children:["Edit",(0,i.jsx)("i",{className:"fa-solid fa-calendar-plus"})]})}):null,this.state={dichthuats:[],youtubeLinkToGetImgs:{},webLinks:{},tieudeTiengTrungs:{},tieudes:{},authors:{},imgAuthors:{},ids:{},loading:!0,flagLogin:!1,flagAdmin:!1}}}t.default=h},65634:function(e,t,a){"use strict";var i=a(57437),l=a(87138),r=a(2265),n=a(66648);let s=r.memo(e=>(0,i.jsx)("div",{className:"col-4",style:{marginTop:"20px"},children:(0,i.jsxs)("div",{className:"itemCard-container",onClick:e.cardClick,onMouseEnter:e.cardClick,children:[(0,i.jsx)(l.default,{className:"itemCard-title",href:e.link,target:"_self",onClick:e.cardClick,children:(0,i.jsx)(n.default,{src:e.img||"https://www.lifedna.com.tw/upload-files/motto/pic/1291771141.jpg?v=2016",alt:"Item Image",width:500,height:500})}),(0,i.jsxs)("div",{className:"itemCard-content",children:[(0,i.jsx)("h3",{className:"itemCard-content-title",children:e.title}),(0,i.jsx)("div",{className:"itemCard-content-description",children:(0,i.jsx)("span",{children:e.tieudeTiengTrung})}),(0,i.jsx)("div",{className:"itemCard-content-author",children:(0,i.jsxs)("div",{className:"itemCard-content-author-container",children:[(0,i.jsx)(n.default,{src:e.imgAuthor||"https://yt3.googleusercontent.com/ytc/AIdro_nevnvE7nYPdcdQLMZgoxJsx1g62U2soHKg3PAG3rQE0g=s160-c-k-c0x00ffffff-no-rj",alt:"Author Image",width:30,height:30}),(0,i.jsx)("a",{href:e.webLink,target:"_blank",children:(0,i.jsx)("h4",{children:e.author})})]})})]})]})}));s.displayName="ItemCard",t.Z=s}},function(e){e.O(0,[2866,9513,5527,4358,7481,9208,9461,8765,4974,3539,8472,609,6901,6802,8551,2971,7023,1744],function(){return e(e.s=38466)}),_N_E=e.O()}]);