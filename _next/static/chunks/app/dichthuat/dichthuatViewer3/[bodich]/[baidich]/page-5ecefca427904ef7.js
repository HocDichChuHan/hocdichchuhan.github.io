(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[492],{89:function(e,t,n){Promise.resolve().then(n.bind(n,4382))},35:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(6800),i=n.n(a),c=n(2265),o=n(7437);let s=["as","disabled"];function r({tagName:e,disabled:t,href:n,target:a,rel:i,role:c,onClick:o,tabIndex:s=0,type:r}){e||(e=null!=n||null!=a||null!=i?"a":"button");let l={tagName:e};if("button"===e)return[{type:r||"button",disabled:t},l];let u=a=>{var i;if(!t&&("a"!==e||(i=n)&&"#"!==i.trim())||a.preventDefault(),t){a.stopPropagation();return}null==o||o(a)};return"a"===e&&(n||(n="#"),t&&(n=void 0)),[{role:null!=c?c:"button",disabled:void 0,tabIndex:t?void 0:s,href:n,target:"a"===e?a:void 0,"aria-disabled":t||void 0,rel:"a"===e?i:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},l]}c.forwardRef((e,t)=>{let{as:n,disabled:a}=e,i=function(e,t){if(null==e)return{};var n,a,i={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),[c,{tagName:l}]=r(Object.assign({tagName:n,disabled:a},i));return(0,o.jsx)(l,Object.assign({},i,c,{ref:t}))}).displayName="Button";let l=c.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:u,Provider:d}=l,h=c.forwardRef((e,t)=>{let{as:n,bsPrefix:a,variant:s="primary",size:u,active:d=!1,disabled:h=!1,className:m,...y}=e,g=function(e,t){let{prefixes:n}=(0,c.useContext)(l);return e||n.btn||"btn"}(a,0),[f,{tagName:k}]=r({tagName:n,disabled:h,...y});return(0,o.jsx)(k,{...f,...y,ref:t,disabled:h,className:i()(m,g,d&&"active",s&&"".concat(g,"-").concat(s),u&&"".concat(g,"-").concat(u),y.href&&h&&"disabled")})});h.displayName="Button";var m=h},4382:function(e,t,n){"use strict";n.d(t,{default:function(){return m}});var a=n(7437),i=n(2265),c=n(8708),o=n(35),s=n(4379),r=n.n(s),l=n(5606),u=n(8833),d=n(1795),h=n(9768);function m(e){let{bodich:t,baidich:n}=e,[s,m]=(0,i.useState)({dichthuat:null,youtubeLink:null,webLink:null,tieude:null,tieudeTiengTrung:null,author:null,imgAuthor:null,id:null,error:null,nav:!1,tuMois:{},tuMoiNghias:{},tuMoiNghiaGets:{},tuMoiPinyins:{},tumoiViduGets:{},tuMoiVidus:{},tuMoiViduDichs:{},tuMoiViduPinyins:{},hanviets:{},baiDich:null}),[y,g]=(0,i.useState)(!0),[f,k]=(0,i.useState)(!1),[v,x]=(0,i.useState)({}),[b,p]=(0,i.useState)({}),[j,w]=(0,i.useState)(!1),[N,O]=(0,i.useState)(!1);(0,i.useEffect)(()=>{D(),P(),S()},[]);let P=()=>{localStorage.getItem("name")&&w(!0)},S=()=>{"duong171099"==localStorage.getItem("user")&&O(!0)},C=async()=>{g(!0);let e=localStorage.getItem("user"),t=localStorage.getItem("name"),a=localStorage.getItem("userImage"),i="/users/dashboard/".concat(e,"/").concat(n),{tieude:c,baiDich:o,youtubeLink:u,webLink:d,tieudeTiengTrung:h,author:y,imgAuthor:f,embedLink:k}=s,v=new Date().toISOString();try{let e=I(u);await Promise.all([(0,l.Pf)("".concat(i,"/username"),t),(0,l.Pf)("".concat(i,"/weblink"),u),(0,l.Pf)("".concat(i,"/tieudeTiengTrung"),h),(0,l.Pf)("".concat(i,"/tieude"),c),(0,l.Pf)("".concat(i,"/link"),k),(0,l.Pf)("".concat(i,"/author"),y),(0,l.Pf)("".concat(i,"/imgAuthor"),f),(0,l.Pf)("".concat(i,"/baidich"),o),(0,l.Pf)("".concat(i,"/dateTime"),v),(0,l.Pf)("".concat(i,"/id"),e),(0,l.Pf)("".concat(i,"/userImage"),a)]),await r().fire({position:"center",icon:"success",title:"Đăng b\xe0i th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500}),m(e=>({...e,nav:!0}))}catch(t){console.error("Lỗi tạo b\xe0i mới:",t);let e={message:"Lỗi tạo b\xe0i mới: "+t.message};r().fire(t.message,"","info"),m(t=>({...t,error:e}))}finally{g(!1)}},D=async()=>{g(!0);let e=localStorage.getItem("user"),a="/users/dichthuat/".concat(t),i="/users/dichthuat/".concat(t,"/listBaihoc/").concat(n),c="".concat(i,"/").concat(e,"/baidich"),o="".concat(i,"/").concat(e,"/tumoi"),[s,r,u,d,h,y,f,k,v]=await Promise.all([(0,l.UD)(o),(0,l.eO)("".concat(i,"/tieude")),(0,l.eO)("".concat(i,"/link")),(0,l.eO)("".concat(i,"/weblink")),(0,l.eO)("".concat(i,"/tieudeTiengTrung")),(0,l.eO)("".concat(a,"/author")),(0,l.eO)("".concat(a,"/imgAuthor")),(0,l.eO)(c),(0,l.eO)("".concat(i,"/noidung"))]),x=u?"https://www.youtube.com/embed/".concat(I(u)):null,b={},p={},j={},w={},N={},O={},P={},S={};s&&await Promise.all(s.map(async e=>{b[e.key]=await (0,l.UD)("/".concat(o,"/").concat(e.key,"/nghia")),j[e.key]=await (0,l.eO)("/".concat(o,"/").concat(e.key,"/pinyin")),S[e.key]=await (0,l.eO)("/".concat(o,"/").concat(e.key,"/hanviet")),b[e.key]&&await Promise.all(b[e.key].map(async t=>{p[t.key]=await (0,l.eO)("/".concat(o,"/").concat(e.key,"/nghia/").concat(t.key,"/nghia")),w[t.key]=await (0,l.UD)("/".concat(o,"/").concat(e.key,"/nghia/").concat(t.key,"/vidu")),w[t.key]&&await Promise.all(w[t.key].map(async n=>{O[n.key]=await (0,l.eO)("/".concat(o,"/").concat(e.key,"/nghia/").concat(t.key,"/vidu/").concat(n.key,"/nghia")),N[n.key]=await (0,l.eO)("/".concat(o,"/").concat(e.key,"/nghia/").concat(t.key,"/vidu/").concat(n.key,"/vidu")),P[n.key]=await (0,l.eO)("/".concat(o,"/").concat(e.key,"/nghia/").concat(t.key,"/vidu/").concat(n.key,"/pinyin"))}))}))})),m(t=>({...t,webLink:d,tieudeTiengTrung:h,tieude:r,author:y,imgAuthor:f,youtubeLink:u,noiDungBaiDich:v,user:e,tuMoiNghias:p,tuMoiNghiaGets:b,tuMoiPinyins:j,tuMoiViduPinyins:P,tumoiViduGets:w,tuMoiVidus:N,tuMoiViduDichs:O,tuMois:s,baiDich:k,embedLink:x,hanviets:S})),g(!1)},T=async()=>{console.log(123),g(!0);let{baiDich:e}=s,a=localStorage.getItem("user"),i="/users/dichthuat/".concat(t,"/listBaihoc/").concat(n,"/").concat(a,"/baidich");try{await (0,l.Pf)(i,e),await r().fire({position:"center",icon:"success",title:"Tạo b\xe0i mới th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(e){console.error("Lỗi tạo b\xe0i mới:",e),r().fire("Lỗi tạo b\xe0i mới: "+e.message,"","info")}finally{g(!1)}},Z=(e,t)=>e.split(RegExp("(".concat(t,")"),"gi")).map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,a.jsx)("span",{style:{color:"red"},children:e},n):e),I=e=>{var t=e.split("=");return t[1]?t[1].split("&")[0]:"null"},L=e=>{m(t=>({...t,baiDich:e.target.value}))},B=()=>{k(!f)},M=e=>{p({...b,[e]:!b[e]})},A=(e,t)=>{x({...v,[e+"-"+t]:!0})},_=(e,t)=>{x({...v,[e+"-"+t]:!1})},{tieude:E,baiDich:V,webLink:H,tieudeTiengTrung:R,author:U,imgAuthor:G,embedLink:K,noiDungBaiDich:q}=s;return(0,a.jsx)(c.Z,{body:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"dichthuat-container row",children:[(0,a.jsx)("div",{className:"col-5",children:(0,a.jsx)("div",{children:(0,a.jsx)(u.Z,{videoLink:K||null,webLink:H||null,tieudeTiengTrung:R||null,author:U||null,imgAuthor:G||null,title:E||null})})}),q&&(0,a.jsxs)("div",{className:"noiDungBaiDich col-3",children:[console.log(q),(0,a.jsx)("pre",{children:q||""})]}),(0,a.jsx)("div",{className:"col",children:(0,a.jsx)("div",{className:"card border-primary",children:(0,a.jsxs)("div",{className:"card-body oldTextcss",children:[(0,a.jsxs)("div",{className:"",style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[(0,a.jsx)("h4",{className:"card-title",children:"Phần Dịch"}),(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{className:j?"button-css":"button-css disable",disabled:!j,variant:"info",onClick:T,children:"Lưu b\xe0i dịch"}),(0,a.jsx)(o.Z,{className:j?"button-css":"button-css disable",disabled:!j,variant:"danger",onClick:C,children:"Đăng b\xe0i"})]})]}),(0,a.jsx)("textarea",{value:V||"",onChange:e=>L(e),placeholder:"Nhập b\xe0i dịch của bạn"})]})})})]}),(0,a.jsxs)("div",{className:"tumoi-area",children:[(0,a.jsxs)("div",{className:"tumoi-area-header",children:[(0,a.jsx)("h2",{className:"card-title",children:"Từ mới"}),f?(0,a.jsx)(o.Z,{variant:"danger",onClick:B,children:"Hủy"}):(0,a.jsx)(o.Z,{variant:"info",onClick:B,children:"Th\xeam từ mới"})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col",children:(0,a.jsxs)("div",{className:"tumoi-container",children:[(0,a.jsx)("div",{className:"tumoi-header"}),(()=>{let{tuMois:e,tuMoiNghias:t,tuMoiNghiaGets:n,tuMoiPinyins:i,tumoiViduGets:c,tuMoiVidus:r,tuMoiViduDichs:l,tuMoiViduPinyins:u,hanviets:d}=s;return e&&e.length>0?e.map((e,s)=>{let h=n[e.key],m=i[e.key],y=d[e.key],g=b[e.key];return(0,a.jsx)("div",{className:"tumoi-item",children:(0,a.jsxs)("div",{className:"tumoi-display",children:[(0,a.jsxs)("div",{className:"tumoi-display-header",children:[(0,a.jsxs)("h4",{children:[s+1,", ",e.key,"  【",y,"】"]}),(0,a.jsx)(o.Z,{variant:g?"danger":"warning",onClick:()=>M(e.key),children:g?"Ẩn bớt nghĩa của từ":"Hiển thị nghĩa của từ"})]}),g&&h&&h.map((n,i)=>{let s=c[n.key],d=t[n.key],h=v[e.key+"-"+n.key];return(0,a.jsxs)("div",{className:"tumoi-nghia",children:[(0,a.jsxs)("h5",{children:[e.key,"/ ",m]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("h4",{className:"tumoi-nghia-shower",children:["Nghĩa ",i+1,": ",d]}),s&&s.map((t,n)=>{let i=r[t.key],c=l[t.key],o=u[t.key];return(console.log(i),h||0===n)?(0,a.jsxs)("div",{className:"tumoi-vidu",children:[(0,a.jsxs)("h5",{children:["V\xed dụ ",n+1]}),(0,a.jsx)("p",{children:Z(i,e.key)}),(0,a.jsx)("p",{children:o}),(0,a.jsx)("p",{children:c})]},n):null}),h?(0,a.jsx)(o.Z,{variant:"warning",onClick:()=>_(e.key,n.key),children:"Ẩn bớt v\xed dụ"}):(0,a.jsx)(o.Z,{variant:"info",onClick:()=>A(e.key,n.key),children:"Hiển thị th\xeam v\xed dụ"})]},i)})]})},s)}):null})()]})}),f?(0,a.jsx)(d.Z,{}):null]})]}),y?(0,a.jsx)(h.Z,{}):null]})})}},6800:function(e,t){var n;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=c(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=c(t,n));return t}(n)))}return e}function c(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0!==(n=(function(){return i}).apply(t,[]))&&(e.exports=n)}()}},function(e){e.O(0,[7481,9461,630,6648,8472,8708,8151,2971,7023,1744],function(){return e(e.s=89)}),_N_E=e.O()}]);