(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[492],{70089:function(e,t,i){Promise.resolve().then(i.bind(i,44382))},44382:function(e,t,i){"use strict";i.d(t,{default:function(){return m}});var a=i(57437),n=i(2265),s=i(98708),l=i(12808),c=i(64379),o=i.n(c),r=i(65606),d=i(58833),h=i(91795),u=i(19768);function m(e){let{bodich:t,baidich:i}=e,[c,m]=(0,n.useState)({dichthuat:null,youtubeLink:null,webLink:null,tieude:null,tieudeTiengTrung:null,author:null,imgAuthor:null,id:null,error:null,nav:!1,tuMois:{},tuMoiNghias:{},tuMoiNghiaGets:{},tuMoiPinyins:{},tumoiViduGets:{},tuMoiVidus:{},tuMoiViduDichs:{},tuMoiViduPinyins:{},hanviets:{},baiDich:null}),[g,y]=(0,n.useState)(!0),[x,v]=(0,n.useState)(!1),[b,k]=(0,n.useState)({}),[p,j]=(0,n.useState)({}),[f,N]=(0,n.useState)(!1),[S,w]=(0,n.useState)(!1);(0,n.useEffect)(()=>{O(),D(),L()},[]);let D=()=>{localStorage.getItem("name")&&N(!0)},L=()=>{"duong171099"==localStorage.getItem("user")&&w(!0)},C=async()=>{y(!0);let e=localStorage.getItem("user"),t=localStorage.getItem("name"),a=localStorage.getItem("userImage"),n="/users/dashboard/".concat(e,"/").concat(i),{tieude:s,baiDich:l,youtubeLink:d,webLink:h,tieudeTiengTrung:u,author:g,imgAuthor:x,embedLink:v}=c,b=new Date().toISOString();try{let e=T(d);await Promise.all([(0,r.Pf)("".concat(n,"/username"),t),(0,r.Pf)("".concat(n,"/weblink"),d),(0,r.Pf)("".concat(n,"/tieudeTiengTrung"),u),(0,r.Pf)("".concat(n,"/tieude"),s),(0,r.Pf)("".concat(n,"/link"),v),(0,r.Pf)("".concat(n,"/author"),g),(0,r.Pf)("".concat(n,"/imgAuthor"),x),(0,r.Pf)("".concat(n,"/baidich"),l),(0,r.Pf)("".concat(n,"/dateTime"),b),(0,r.Pf)("".concat(n,"/id"),e),(0,r.Pf)("".concat(n,"/userImage"),a)]),await o().fire({position:"center",icon:"success",title:"Đăng b\xe0i th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500}),m(e=>({...e,nav:!0}))}catch(t){console.error("Lỗi tạo b\xe0i mới:",t);let e={message:"Lỗi tạo b\xe0i mới: "+t.message};o().fire(t.message,"","info"),m(t=>({...t,error:e}))}finally{y(!1)}},O=async()=>{y(!0);let e=localStorage.getItem("user"),a="/users/dichthuat/".concat(t),n="/users/dichthuat/".concat(t,"/listBaihoc/").concat(i),s="".concat(n,"/").concat(e,"/baidich"),l="".concat(n,"/").concat(e,"/tumoi"),[c,o,d,h,u,g,x,v,b]=await Promise.all([(0,r.UD)(l),(0,r.eO)("".concat(n,"/tieude")),(0,r.eO)("".concat(n,"/link")),(0,r.eO)("".concat(n,"/weblink")),(0,r.eO)("".concat(n,"/tieudeTiengTrung")),(0,r.eO)("".concat(a,"/author")),(0,r.eO)("".concat(a,"/imgAuthor")),(0,r.eO)(s),(0,r.eO)("".concat(n,"/noidung"))]),k=d?"https://www.youtube.com/embed/".concat(T(d)):null,p={},j={},f={},N={},S={},w={},D={},L={};c&&await Promise.all(c.map(async e=>{p[e.key]=await (0,r.UD)("/".concat(l,"/").concat(e.key,"/nghia")),f[e.key]=await (0,r.eO)("/".concat(l,"/").concat(e.key,"/pinyin")),L[e.key]=await (0,r.eO)("/".concat(l,"/").concat(e.key,"/hanviet")),p[e.key]&&await Promise.all(p[e.key].map(async t=>{j[t.key]=await (0,r.eO)("/".concat(l,"/").concat(e.key,"/nghia/").concat(t.key,"/nghia")),N[t.key]=await (0,r.UD)("/".concat(l,"/").concat(e.key,"/nghia/").concat(t.key,"/vidu")),N[t.key]&&await Promise.all(N[t.key].map(async i=>{w[i.key]=await (0,r.eO)("/".concat(l,"/").concat(e.key,"/nghia/").concat(t.key,"/vidu/").concat(i.key,"/nghia")),S[i.key]=await (0,r.eO)("/".concat(l,"/").concat(e.key,"/nghia/").concat(t.key,"/vidu/").concat(i.key,"/vidu")),D[i.key]=await (0,r.eO)("/".concat(l,"/").concat(e.key,"/nghia/").concat(t.key,"/vidu/").concat(i.key,"/pinyin"))}))}))})),m(t=>({...t,webLink:h,tieudeTiengTrung:u,tieude:o,author:g,imgAuthor:x,youtubeLink:d,noiDungBaiDich:b,user:e,tuMoiNghias:j,tuMoiNghiaGets:p,tuMoiPinyins:f,tuMoiViduPinyins:D,tumoiViduGets:N,tuMoiVidus:S,tuMoiViduDichs:w,tuMois:c,baiDich:v,embedLink:k,hanviets:L})),y(!1)},P=async()=>{console.log(123),y(!0);let{baiDich:e}=c,a=localStorage.getItem("user"),n="/users/dichthuat/".concat(t,"/listBaihoc/").concat(i,"/").concat(a,"/baidich");try{await (0,r.Pf)(n,e),await o().fire({position:"center",icon:"success",title:"Tạo b\xe0i mới th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(e){console.error("Lỗi tạo b\xe0i mới:",e),o().fire("Lỗi tạo b\xe0i mới: "+e.message,"","info")}finally{y(!1)}},M=(e,t)=>e.split(RegExp("(".concat(t,")"),"gi")).map((e,i)=>e.toLowerCase()===t.toLowerCase()?(0,a.jsx)("span",{style:{color:"red"},children:e},i):e),T=e=>{var t=e.split("=");return t[1]?t[1].split("&")[0]:"null"},I=e=>{m(t=>({...t,baiDich:e.target.value}))},V=()=>{v(!x)},Z=e=>{j({...p,[e]:!p[e]})},A=(e,t)=>{k({...b,[e+"-"+t]:!0})},B=(e,t)=>{k({...b,[e+"-"+t]:!1})},{tieude:E,baiDich:U,webLink:_,tieudeTiengTrung:H,author:G,imgAuthor:W,embedLink:Y,noiDungBaiDich:F}=c;return(0,a.jsx)(s.Z,{body:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"dichthuat-container row",children:[(0,a.jsx)("div",{className:"col-5",children:(0,a.jsx)("div",{children:(0,a.jsx)(d.Z,{videoLink:Y||null,webLink:_||null,tieudeTiengTrung:H||null,author:G||null,imgAuthor:W||null,title:E||null})})}),F&&(0,a.jsxs)("div",{className:"noiDungBaiDich col-3",children:[console.log(F),(0,a.jsx)("pre",{children:F||""})]}),(0,a.jsx)("div",{className:"col",children:(0,a.jsx)("div",{className:"card border-primary",children:(0,a.jsxs)("div",{className:"card-body oldTextcss",children:[(0,a.jsxs)("div",{className:"",style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[(0,a.jsx)("h4",{className:"card-title",children:"Phần Dịch"}),(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(l.Z,{className:f?"button-css":"button-css disable",disabled:!f,variant:"info",onClick:P,children:"Lưu b\xe0i dịch"}),(0,a.jsx)(l.Z,{className:f?"button-css":"button-css disable",disabled:!f,variant:"danger",onClick:C,children:"Đăng b\xe0i"})]})]}),(0,a.jsx)("textarea",{value:U||"",onChange:e=>I(e),placeholder:"Nhập b\xe0i dịch của bạn"})]})})})]}),(0,a.jsxs)("div",{className:"tumoi-area",children:[(0,a.jsxs)("div",{className:"tumoi-area-header",children:[(0,a.jsx)("h2",{className:"card-title",children:"Từ mới"}),x?(0,a.jsx)(l.Z,{variant:"danger",onClick:V,children:"Hủy"}):(0,a.jsx)(l.Z,{variant:"info",onClick:V,children:"Th\xeam từ mới"})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col",children:(0,a.jsxs)("div",{className:"tumoi-container",children:[(0,a.jsx)("div",{className:"tumoi-header"}),(()=>{let{tuMois:e,tuMoiNghias:t,tuMoiNghiaGets:i,tuMoiPinyins:n,tumoiViduGets:s,tuMoiVidus:o,tuMoiViduDichs:r,tuMoiViduPinyins:d,hanviets:h}=c;return e&&e.length>0?e.map((e,c)=>{let u=i[e.key],m=n[e.key],g=h[e.key],y=p[e.key];return(0,a.jsx)("div",{className:"tumoi-item",children:(0,a.jsxs)("div",{className:"tumoi-display",children:[(0,a.jsxs)("div",{className:"tumoi-display-header",children:[(0,a.jsxs)("h4",{children:[c+1,", ",e.key,"  【",g,"】"]}),(0,a.jsx)(l.Z,{variant:y?"danger":"warning",onClick:()=>Z(e.key),children:y?"Ẩn bớt nghĩa của từ":"Hiển thị nghĩa của từ"})]}),y&&u&&u.map((i,n)=>{let c=s[i.key],h=t[i.key],u=b[e.key+"-"+i.key];return(0,a.jsxs)("div",{className:"tumoi-nghia",children:[(0,a.jsxs)("h5",{children:[e.key,"/ ",m]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("h4",{className:"tumoi-nghia-shower",children:["Nghĩa ",n+1,": ",h]}),c&&c.map((t,i)=>{let n=o[t.key],s=r[t.key],l=d[t.key];return(console.log(n),u||0===i)?(0,a.jsxs)("div",{className:"tumoi-vidu",children:[(0,a.jsxs)("h5",{children:["V\xed dụ ",i+1]}),(0,a.jsx)("p",{children:M(n,e.key)}),(0,a.jsx)("p",{children:l}),(0,a.jsx)("p",{children:s})]},i):null}),u?(0,a.jsx)(l.Z,{variant:"warning",onClick:()=>B(e.key,i.key),children:"Ẩn bớt v\xed dụ"}):(0,a.jsx)(l.Z,{variant:"info",onClick:()=>A(e.key,i.key),children:"Hiển thị th\xeam v\xed dụ"})]},n)})]})},c)}):null})()]})}),x?(0,a.jsx)(h.Z,{}):null]})]}),g?(0,a.jsx)(u.Z,{}):null]})})}},98708:function(e,t,i){"use strict";i.d(t,{Z:function(){return y}});var a=i(57437),n=i(2265),s=i(16463),l=i(64379),c=i.n(l),o=i(87138),r=i(95202);class d extends n.Component{componentDidMount(){let e=localStorage.getItem("name"),t=localStorage.getItem("user");this.setState({userName:e,user:t}),this.isAdmin(),this.isLogin(),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}isLogin(){localStorage.getItem("name")&&this.setState({flagLogin:!0})}isAdmin(){"duong171099"==localStorage.getItem("user")&&this.setState({flagAdmin:!0})}componentDidUpdate(e,t){this.state.logout&&!t.logout&&(0,s.redirect)("/login")}render(){let{isDropdownOpen:e,logout:t,userName:i,user:n}=this.state,{isNavbarVisible:s}=this.state;return(0,a.jsxs)("nav",{className:"sb-topnav navbar navbar-expand navbar-dark bg-dark ".concat(s?"":"navbar-hidden"),children:[(0,a.jsxs)("div",{className:"logo-tieude",style:{display:"flex",flexDirection:"row"},children:[(0,a.jsx)(o.default,{href:"/hsk",className:"navbar-brand header-logo",children:(0,a.jsx)("span",{className:"ml-2 header-logo-span",children:(0,a.jsx)("h1",{children:"DTips Hanzi"})})}),(0,a.jsx)(h,{toggleMenuSideVisibility:this.toggleMenuSideVisibility})]}),(0,a.jsxs)("ul",{className:"menuSide-column",children:[(0,a.jsx)(u,{path:"/hsk",itemName:"Gi\xe1o Tr\xecnh HSK",icon:(0,a.jsx)("i",{className:"nav-icon fa-solid  fa-newspaper"})}),(0,a.jsx)(u,{path:"/luanngu/hocnhi",itemName:"Gi\xe1o Tr\xecnh Luận Ngữ",icon:(0,a.jsx)("i",{className:"nav-icon fa-solid fa-book"})}),(0,a.jsx)(u,{path:"/thamkhao",itemName:"T\xe0i Liệu Tham Khảo",icon:(0,a.jsx)("i",{className:"nav-icon fa-solid fa-pen-to-square"})})]}),(0,a.jsx)("ul",{className:"navbar-nav ms-md-0 me-3 me-lg-4",children:(0,a.jsx)(r.Z,{isStudy:this.props.isStudy})})]})}constructor(e){super(e),this.handleScroll=()=>{let{lastScrollY:e}=this.state,t=window.scrollY,{isNavbarVisible:i}=this.state;t>e?this.setState({isNavbarVisible:!1}):this.setState({isNavbarVisible:!0}),this.setState({lastScrollY:t})},this.toggleDropdown=()=>{this.setState(e=>({isDropdownOpen:!e.isDropdownOpen}))},this.toggleMenuSideVisibility=()=>{this.props.toggleMenuSide()},this.loginFunction=()=>{this.setState({logout:!0})},this.LogoutFunction=()=>{localStorage.clear(),c().fire({position:"center",icon:"success",title:"Logout Success",showConfirmButton:!1,timer:1500}),this.setState({logout:!0})},this.state={isDropdownOpen:!1,logout:!1,flagLogin:!1,flagAdmin:!1,userName:null,user:null,isNavbarVisible:!0,lastScrollY:0}}}let h=e=>{let{toggleMenuSideVisibility:t}=e;return(0,a.jsx)("button",{className:"btn btn-link btn-sm order-lg-0 me-4 me-lg-0",id:"sidebarToggle",onClick:t,children:(0,a.jsx)("i",{className:"fas fa-bars"})})};function u(e){return(0,a.jsx)("li",{children:(0,a.jsx)(o.default,{href:e.path,legacyBehavior:!0,children:(0,a.jsxs)("a",{className:"nav-link1",children:[e.icon,(0,a.jsx)("div",{className:"isShowitemName",children:e.itemName})]})})})}var m=i(65606);class g extends n.Component{componentDidMount(){this.getAllData()}render(){return(0,a.jsxs)("div",{className:"sb-nav-fixed",children:[(0,a.jsx)(d,{toggleMenuSide:this.toggleMenuSideVisibility,flagLogin:this.props.flagLogin,flagAdmin:this.props.flagAdmin,isStudy:this.props.isStudy}),(0,a.jsx)("div",{className:"UserContainer d-md-inline-block",children:(0,a.jsx)("div",{className:"UserContainer-block",children:(0,a.jsx)("div",{className:"table-container col",id:"table-container",style:{backgroundColor:"rgb(243, 243, 243)"},children:(0,a.jsx)("div",{className:"table-container-header",children:this.props.body})})})})]})}constructor(e){super(e),this.toggleMenuSideVisibility=()=>{this.setState(e=>({isMenuSideVisible:!e.isMenuSideVisible}))},this.getData=async()=>{localStorage.getItem("user"),localStorage.getItem("name"),localStorage.getItem("allData")},this.getAllData=async()=>{try{let e=(await (0,m.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let t={};for(let i in e.value)if(e.value.hasOwnProperty(i)){let{username:a,password:n,...s}=e.value[i];t[i]=s}return{...e,value:t}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},this.state={isMenuSideVisible:!0}}}var y=g},19768:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var a=i(57437),n=i(2265),s={src:"/_next/static/media/Loading.3170e5c7.gif",height:480,width:475,blurWidth:0,blurHeight:0},l=i(66648);class c extends n.Component{render(){return(0,a.jsx)("div",{className:"loadingData",children:(0,a.jsxs)("div",{className:"loadingData-container",children:[(0,a.jsx)(l.default,{src:s,alt:"Loading...",width:100,height:100}),(0,a.jsx)("h2",{children:"Website đang tải dữ liệu, xin vui l\xf2ng chờ trong gi\xe2y l\xe1t"})]})})}}}},function(e){e.O(0,[4358,7481,9208,9461,5973,3539,8472,6901,4547,2971,7023,1744],function(){return e(e.s=70089)}),_N_E=e.O()}]);