(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3903],{8123:function(e,t,i){Promise.resolve().then(i.bind(i,5419))},5419:function(e,t,i){"use strict";i.d(t,{default:function(){return g}});var n=i(7437),a=i(2265),l=i(8708),c=i(5634),r=i(2808),u=i(5606),s=i(4379),o=i.n(s),h=i(2258),d=i(495);function g(e){let{slug:t}=e,[i,s]=(0,a.useState)({baidich:null,dichthuat:null,youtubeLink:null,webLink:null,tieudeTiengTrung:null,tieudeBaihoc:null,author:null,imgAuthor:null,id:null,youtubeId:null,error:null,nav:!1,noiDungBaiDich:null,amHanViet:null,amPinyin:null,textCheck:null});(0,a.useEffect)(()=>{g()},[]);let g=async e=>{try{let[t,i,n]=await Promise.all([(0,u.eO)("/users/dichthuat/".concat(e,"/author")),(0,u.eO)("/users/dichthuat/".concat(e,"/imgAuthor")),(0,u.eO)("/users/dichthuat/".concat(e,"/weblink"))]);s(e=>({...e,author:t,imgAuthor:i,webLink:n}))}catch(e){console.error("Error fetching existing values:",e)}},m=(e,t)=>{if(s(i=>({...i,[t]:e.target.value})),"youtubeLink"===t){let t=f(e.target.value);s(e=>({...e,youtubeId:t}))}if("baidich"===t){let t=(0,d.Z)(e.target.value);s(e=>({...e,tieudeBaihoc:t}))}},f=e=>{let t=e.split("=");return t[1]?t[1].split("&")[0]:"null"},p=async()=>{let{noiDungBaiDich:e,amPinyin:n,amHanViet:a,baidich:l,tieudeBaihoc:c,youtubeLink:r,webLink:h,tieudeTiengTrung:d,author:g,imgAuthor:m,id:f}=i,p="/users/dichthuat/".concat(t,"/listBaihoc/").concat(f);var v=e.match(/[^.!?。？！]+[.!?。？！]*/g),j=a.match(/[^.!?。？！]+[.!?。？！]*/g),k=n.match(/[^.!?。？！]+[.!?。？！]*/g);try{if(!x()||await b(f))return;let e=v.map((e,t)=>{let i="".concat(p,"/noidung/").concat(t+1,"/tiengTrung");return(0,u.Pf)(i,e)}),t=j.map((e,t)=>{let i="".concat(p,"/noidung/").concat(t+1,"/hanviet");return(0,u.Pf)(i,e)}),i=k.map((e,t)=>{let i="".concat(p,"/noidung/").concat(t+1,"/pinyin");return(0,u.Pf)(i,e)});await Promise.all([...e,...t,...i,(0,u.Pf)("".concat(p,"/link"),r),(0,u.Pf)("".concat(p,"/tieudeTiengTrung"),d),(0,u.Pf)("".concat(p,"/tieude"),l)]),await o().fire({position:"center",icon:"success",title:"Tạo b\xe0i mới th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500}),s(e=>({...e,nav:!0}))}catch(e){console.error("Lỗi tạo b\xe0i mới:",e),o().fire("Lỗi tạo b\xe0i mới: ".concat(e.message),"","info"),s(t=>({...t,error:{message:"Lỗi tạo b\xe0i mới: ".concat(e.message)}}))}},b=async e=>{let i="/users/dichthuat/".concat(t,"/listBaihoc/").concat(e);return!!await j(i)&&(o().fire('id "'.concat(e,'" đ\xe3 tồn tại, vui l\xf2ng tạo b\xe0i dịch kh\xe1c'),"","info"),s(t=>({...t,error:{message:'id "'.concat(e,'" đ\xe3 tồn tại, vui l\xf2ng tạo b\xe0i dịch kh\xe1c')}})),!0)},x=()=>{let{baidich:e,youtubeLink:t,tieudeTiengTrung:n,id:a}=i;if(e&&n&&t&&a){if(v(t))return!0;{let e={message:'Đường link YouTube kh\xf4ng hợp lệ "'.concat(t,'"')};return o().fire(e.message,"","info"),s(t=>({...t,error:e})),!1}}{let e={message:"Vui l\xf2ng điền đầy đủ th\xf4ng tin v\xe0 thử lại"};return o().fire(e.message,"","info"),s(t=>({...t,error:e})),!1}},v=e=>/^(https?:\/\/)?(www\.youtube\.com|youtu\.be)\/.+$/.test(e),j=async e=>{try{let t=await (0,u.F3)(e);if(null!==t)return t}catch(e){throw e}},k=e=>{s(t=>({...t,noiDungBaiDich:e.target.value}))},y=e=>{s(t=>({...t,amHanViet:e.target.value}))},C=e=>{s(t=>({...t,amPinyin:e.target.value}))},{noiDungBaiDich:N,amHanViet:w,amPinyin:T}=i;return(0,n.jsx)(l.Z,{body:(0,n.jsxs)("div",{children:[i.error&&(0,n.jsxs)("div",{className:"dichthuat-showError",children:['Lỗi: "',i.error.message,'"']}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-6",children:[(0,n.jsx)(h.Z,{title:"ID",name:"id",placeHolder:"Nhập id b\xe0i mới",onChangeHandle:e=>m(e,"id")}),(0,n.jsx)(h.Z,{title:"Ti\xeau đề b\xe0i dịch mới",name:"baidich",placeHolder:"Nhập ti\xeau đề b\xe0i dịch mới",onChangeHandle:e=>m(e,"baidich")}),(0,n.jsx)(h.Z,{title:"Ti\xeau đề tiếng Trung của b\xe0i dịch mới",name:"tieudeTiengTrung",placeHolder:"Nhập ti\xeau đề tiếng Trung của bộ dịch thuật mới",onChangeHandle:e=>m(e,"tieudeTiengTrung")}),(0,n.jsx)(h.Z,{title:"Đường link youtube của b\xe0i dịch mới",name:"youtubeLink",placeHolder:"Nhập đường link của một b\xe0i học trong bộ dịch",onChangeHandle:e=>m(e,"youtubeLink")}),(0,n.jsxs)("div",{className:"form-group dichthuat-formInput",children:[(0,n.jsx)("label",{children:"Phần tiếng trung"}),(0,n.jsx)("textarea",{value:N||"",onChange:e=>k(e),placeholder:"Nhập b\xe0i dịch của bạn"})]}),(0,n.jsxs)("div",{className:"form-group dichthuat-formInput",children:[(0,n.jsx)("label",{children:"\xc2m H\xe1n Việt"}),(0,n.jsx)("textarea",{value:w||"",onChange:e=>y(e),placeholder:"Nhập b\xe0i dịch của bạn"})]}),(0,n.jsxs)("div",{className:"form-group dichthuat-formInput",children:[(0,n.jsx)("label",{children:"\xc2m Pinyin"}),(0,n.jsx)("textarea",{value:T||"",onChange:e=>C(e),placeholder:"Nhập b\xe0i dịch của bạn"})]})]}),(0,n.jsx)(c.Z,{webLink:i.webLink?i.webLink:null,tieudeTiengTrung:i.tieudeTiengTrung?i.tieudeTiengTrung:null,author:i.author?i.author:null,imgAuthor:i.imgAuthor?i.imgAuthor:null,link:"#",title:i.baidich?i.baidich:null,img:i.youtubeId?"https://img.youtube.com/vi/".concat(i.youtubeId,"/sddefault.jpg"):null,alt:"IMG Link"}),(0,n.jsxs)("div",{className:"col-2",children:[(0,n.jsxs)(r.Z,{variant:"info",onClick:p,children:["Add",(0,n.jsx)("i",{className:"fa-solid fa-calendar-plus"})]}),(0,n.jsxs)(r.Z,{variant:"danger",onClick:()=>{let{noiDungBaiDich:e}=i;for(var t=e.split(/([.!?。？！])\s*/),n="",a=0;a<t.length;a+=2)n+=t[a].trim()+(t[a+1]||""),a<t.length-2&&(n+="\n");return s(e=>({...e,textCheck:n})),console.log(n),n},children:["Check",(0,n.jsx)("i",{className:"fa-solid fa-calendar-plus"})]}),(0,n.jsx)("div",{children:i.textCheck||null})]})]})})]})})}},2258:function(e,t,i){"use strict";var n=i(7437);i(2265),t.Z=function(e){return(0,n.jsxs)("div",{className:"form-group dichthuat-formInput",children:[(0,n.jsx)("label",{htmlFor:"",children:e.title}),(0,n.jsx)("input",{type:"text",className:"form-control",name:e.name,id:"","aria-describedby":"helpId",placeholder:e.placeHolder,onChange:e.onChangeHandle,value:e.value,defaultValue:e.defaultValue})]})}},5634:function(e,t,i){"use strict";var n=i(7437),a=i(7138),l=i(2265),c=i(6648);let r=l.memo(e=>(0,n.jsx)("div",{className:"col-4",style:{marginTop:"20px"},children:(0,n.jsxs)("div",{className:"itemCard-container",onClick:e.cardClick,onMouseEnter:e.cardClick,children:[(0,n.jsx)(a.default,{className:"itemCard-title",href:e.link,target:"_self",onClick:e.cardClick,children:(0,n.jsx)(c.default,{src:e.img||"https://www.lifedna.com.tw/upload-files/motto/pic/1291771141.jpg?v=2016",alt:"Item Image",width:500,height:500})}),(0,n.jsxs)("div",{className:"itemCard-content",children:[(0,n.jsx)("h3",{className:"itemCard-content-title",children:e.title}),(0,n.jsx)("div",{className:"itemCard-content-description",children:(0,n.jsx)("span",{children:e.tieudeTiengTrung})}),(0,n.jsx)("div",{className:"itemCard-content-author",children:(0,n.jsxs)("div",{className:"itemCard-content-author-container",children:[(0,n.jsx)(c.default,{src:e.imgAuthor||"https://yt3.googleusercontent.com/ytc/AIdro_nevnvE7nYPdcdQLMZgoxJsx1g62U2soHKg3PAG3rQE0g=s160-c-k-c0x00ffffff-no-rj",alt:"Author Image",width:30,height:30}),(0,n.jsx)("a",{href:e.webLink,target:"_blank",children:(0,n.jsx)("h4",{children:e.author})})]})})]})]})}));r.displayName="ItemCard",t.Z=r},495:function(e,t){"use strict";t.Z=function(e){return e=(e="@"+(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi,"a")).replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi,"e")).replace(/i|í|ì|ỉ|ĩ|ị/gi,"i")).replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi,"o")).replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi,"u")).replace(/ý|ỳ|ỷ|ỹ|ỵ/gi,"y")).replace(/đ/gi,"d")).replace(/\`|\~|\!|\@|\#|\||\$|\%|\^|\&|\*|\(|\)|\+|\=|\,|\.|\/|\?|\>|\<|\'|\"|\:|\;|_/gi,"")).replace(/ /gi,"-")).replace(/\-\-\-\-\-/gi,"-")).replace(/\-\-\-\-/gi,"-")).replace(/\-\-\-/gi,"-")).replace(/\-\-/gi,"-"))+"@").replace(/\@\-|\-\@|\@/gi,"")}}},function(e){e.O(0,[4358,7481,9208,9461,5617,7138,7143,6901,8708,2971,7023,1744],function(){return e(e.s=8123)}),_N_E=e.O()}]);