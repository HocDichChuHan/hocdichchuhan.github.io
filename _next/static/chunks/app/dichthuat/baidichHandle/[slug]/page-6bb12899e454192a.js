(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[903],{2587:function(e,i,t){Promise.resolve().then(t.bind(t,5419))},5419:function(e,i,t){"use strict";t.d(i,{default:function(){return g}});var n=t(7437),a=t(2265),c=t(8708),l=t(5634),r=t(35),u=t(5606),o=t(4379),s=t.n(o),h=t(2258),d=t(495);function g(e){let{slug:i}=e,[t,o]=(0,a.useState)({baidich:null,dichthuat:null,youtubeLink:null,webLink:null,tieudeTiengTrung:null,tieudeBaihoc:null,author:null,imgAuthor:null,id:null,error:null,nav:!1,noiDungBaiDich:null});(0,a.useEffect)(()=>{g()},[]);let g=async e=>{try{let[i,t,n]=await Promise.all([(0,u.eO)("/users/dichthuat/".concat(e,"/author")),(0,u.eO)("/users/dichthuat/".concat(e,"/imgAuthor")),(0,u.eO)("/users/dichthuat/".concat(e,"/weblink"))]);o(e=>({...e,author:i,imgAuthor:t,webLink:n}))}catch(e){console.error("Error fetching existing values:",e)}},m=(e,i)=>{if(o(t=>({...t,[i]:e.target.value})),"youtubeLink"===i){let i=b(e.target.value);o(e=>({...e,id:i}))}if("baidich"===i){let i=(0,d.Z)(e.target.value);o(e=>({...e,tieudeBaihoc:i}))}},b=e=>{let i=e.split("=");return i[1]?i[1].split("&")[0]:"null"},f=async()=>{let{noiDungBaiDich:e,baidich:n,tieudeBaihoc:a,youtubeLink:c,webLink:l,tieudeTiengTrung:r,author:h,imgAuthor:d,id:g}=t,m="/users/dichthuat/".concat(i,"/listBaihoc/").concat(a);try{if(!x()||await p(a))return;await Promise.all([(0,u.Pf)("".concat(m,"/link"),c),(0,u.Pf)("".concat(m,"/tieudeTiengTrung"),r),(0,u.Pf)("".concat(m,"/tieude"),n),(0,u.Pf)("".concat(m,"/noidung"),e)]),await s().fire({position:"center",icon:"success",title:"Tạo b\xe0i mới th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500}),o(e=>({...e,nav:!0}))}catch(e){console.error("Lỗi tạo b\xe0i mới:",e),s().fire("Lỗi tạo b\xe0i mới: ".concat(e.message),"","info"),o(i=>({...i,error:{message:"Lỗi tạo b\xe0i mới: ".concat(e.message)}}))}},p=async e=>{let n="/users/dichthuat/".concat(i,"/listBaihoc/").concat(e);return!!await v(n)&&(s().fire('T\xean b\xe0i dịch thuật "'.concat(t.baidich,'" đ\xe3 tồn tại, vui l\xf2ng tạo b\xe0i dịch kh\xe1c'),"","info"),o(e=>({...e,error:{message:'T\xean b\xe0i dịch thuật "'.concat(t.baidich,'" đ\xe3 tồn tại, vui l\xf2ng tạo b\xe0i dịch kh\xe1c')}})),!0)},x=()=>{let{baidich:e,youtubeLink:i,tieudeTiengTrung:n}=t;if(e&&n&&i){if(k(e)){if(w(i))return!0;{let e={message:'Đường link YouTube kh\xf4ng hợp lệ "'.concat(i,'"')};return s().fire(e.message,"","info"),o(i=>({...i,error:e})),!1}}{let i={message:'T\xean b\xe0i dịch "'.concat(e,"\" kh\xf4ng được chứa c\xe1c k\xfd tự: '.', '#', '$', '[', hoặc ']'")};return s().fire(i.message,"","info"),o(e=>({...e,error:i})),!1}}{let e={message:"Vui l\xf2ng điền đầy đủ th\xf4ng tin v\xe0 thử lại"};return s().fire(e.message,"","info"),o(i=>({...i,error:e})),!1}},w=e=>/^(https?:\/\/)?(www\.youtube\.com|youtu\.be)\/.+$/.test(e),k=e=>!/[.#$[\]]/.test(e),v=async e=>{try{let i=await (0,u.F3)(e);if(null!==i)return i}catch(e){throw e}},T=e=>{o(i=>({...i,noiDungBaiDich:e.target.value}))},{noiDungBaiDich:y}=t;return(0,n.jsx)(c.Z,{body:(0,n.jsxs)("div",{children:[t.error&&(0,n.jsxs)("div",{className:"dichthuat-showError",children:['Lỗi: "',t.error.message,'"']}),(0,n.jsxs)("div",{className:"dichthuat-container row row-cols-6 row-cols-xxxxxl-5 row-cols-xxxxl-4 row-cols-xl-3 row-cols-lg-2 gy-6 gx-xxl-2 gx-xl-3 gx-lg-2",children:[(0,n.jsx)(h.Z,{title:"Ti\xeau đề b\xe0i dịch mới",name:"baidich",placeHolder:"Nhập ti\xeau đề b\xe0i dịch mới",onChangeHandle:e=>m(e,"baidich")}),(0,n.jsx)(h.Z,{title:"Ti\xeau đề tiếng Trung của b\xe0i dịch mới",name:"tieudeTiengTrung",placeHolder:"Nhập ti\xeau đề tiếng Trung của bộ dịch thuật mới",onChangeHandle:e=>m(e,"tieudeTiengTrung")}),(0,n.jsx)(h.Z,{title:"Đường link youtube của b\xe0i dịch mới",name:"youtubeLink",placeHolder:"Nhập đường link của một b\xe0i học trong bộ dịch",onChangeHandle:e=>m(e,"youtubeLink")}),(0,n.jsxs)("div",{className:"form-group dichthuat-formInput",children:[(0,n.jsx)("label",{children:"Nội dung b\xe0i dịch"}),(0,n.jsx)("textarea",{value:y||"",onChange:e=>T(e),placeholder:"Nhập b\xe0i dịch của bạn"})]})]}),(0,n.jsxs)("div",{className:"dichthuatAdd-View ",children:[(0,n.jsx)(l.Z,{webLink:t.webLink?t.webLink:null,tieudeTiengTrung:t.tieudeTiengTrung?t.tieudeTiengTrung:null,author:t.author?t.author:null,imgAuthor:t.imgAuthor?t.imgAuthor:null,link:"#",title:t.baidich?t.baidich:null,img:t.id?"https://img.youtube.com/vi/".concat(t.id,"/sddefault.jpg"):null,alt:"IMG Link"}),(0,n.jsx)("div",{className:"col-2 dichthuatAdd-button",children:(0,n.jsxs)(r.Z,{variant:"info",onClick:f,children:["Add",(0,n.jsx)("i",{className:"fa-solid fa-calendar-plus"})]})})]})]})})}},2258:function(e,i,t){"use strict";var n=t(7437);t(2265),i.Z=function(e){return(0,n.jsxs)("div",{className:"form-group dichthuat-formInput",children:[(0,n.jsx)("label",{htmlFor:"",children:e.title}),(0,n.jsx)("input",{type:"text",className:"form-control",name:e.name,id:"","aria-describedby":"helpId",placeholder:e.placeHolder,onChange:e.onChangeHandle,value:e.value})]})}},495:function(e,i){"use strict";i.Z=function(e){return e=(e="@"+(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi,"a")).replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi,"e")).replace(/i|í|ì|ỉ|ĩ|ị/gi,"i")).replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi,"o")).replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi,"u")).replace(/ý|ỳ|ỷ|ỹ|ỵ/gi,"y")).replace(/đ/gi,"d")).replace(/\`|\~|\!|\@|\#|\||\$|\%|\^|\&|\*|\(|\)|\+|\=|\,|\.|\/|\?|\>|\<|\'|\"|\:|\;|_/gi,"")).replace(/ /gi,"-")).replace(/\-\-\-\-\-/gi,"-")).replace(/\-\-\-\-/gi,"-")).replace(/\-\-\-/gi,"-")).replace(/\-\-/gi,"-"))+"@").replace(/\@\-|\-\@|\@/gi,"")}}},function(e){e.O(0,[461,481,291,648,885,708,634,971,23,744],function(){return e(e.s=2587)}),_N_E=e.O()}]);