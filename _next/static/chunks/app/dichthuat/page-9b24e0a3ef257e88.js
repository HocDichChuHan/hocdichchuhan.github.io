(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4673],{7378:function(e,t,i){Promise.resolve().then(i.bind(i,2499))},2499:function(e,t,i){"use strict";i.r(t);var a=i(7437),n=i(2265),r=i(2808),l=i(8708),s=i(5634),c=i(5606);i(9768);var o=i(7138);class u extends n.Component{componentDidMount(){this.isLogin(),this.isAdmin(),this.getDichThuat()}componentWillUnmount(){clearInterval(this.intervalId)}isLogin(){localStorage.getItem("name")&&this.setState({flagLogin:!0})}isAdmin(){return"duong171099"==localStorage.getItem("user")&&(this.setState({flagAdmin:!0}),!0)}render(){return(0,a.jsx)(l.Z,{body:(0,a.jsxs)("div",{children:[this.renderAddButton(),(0,a.jsx)("div",{className:"dichthuat-container row",children:this.showDichThuat()})]})})}constructor(e){super(e),this.getDichThuat=async()=>{try{this.setState({loading:!0});var e=JSON.parse(localStorage.getItem("allData"));e||await this.getAllData();let t=(e=await JSON.parse(localStorage.getItem("allData"))).find(e=>"dichthuat"===e.key),i=Object.entries(t.value).map(e=>{let[t,i]=e;return{key:t,value:i}}),a=i.map(async e=>{let i=e.key;return{key:i,youtubeLinkToGetImg:t.value[i].link,webLink:t.value[i].webLink,tieudeTiengTrung:t.value[i].tieudeTiengTrung,tieude:t.value[i].tieude,author:t.value[i].author,imgAuthor:t.value[i].imgAuthor,id:t.value[i].id}}),n=await Promise.all(a),r={},l={},s={},c={},o={},u={},d={};n.forEach(e=>{r[e.key]=e.webLink,l[e.key]=e.tieudeTiengTrung,s[e.key]=e.author,c[e.key]=e.youtubeLinkToGetImg,o[e.key]=e.imgAuthor,u[e.key]=e.id,d[e.key]=e.tieude}),this.setState({dichthuats:i,webLinks:r,tieudeTiengTrungs:l,authors:s,imgAuthors:o,youtubeLinkToGetImgs:c,ids:u,tieudes:d,loading:!1})}catch(e){console.error("Error getting dichthuat data: ",e),this.setState({loading:!1})}},this.getAllData=async()=>{try{let e=(await (0,c.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let t={};for(let i in e.value)if(e.value.hasOwnProperty(i)){let{username:a,password:n,...r}=e.value[i];t[i]=r}return{...e,value:t}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},this.to_slug=e=>e=(e="@"+(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi,"a")).replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi,"e")).replace(/i|í|ì|ỉ|ĩ|ị/gi,"i")).replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi,"o")).replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi,"u")).replace(/ý|ỳ|ỷ|ỹ|ỵ/gi,"y")).replace(/đ/gi,"d")).replace(/\`|\~|\!|\@|\#|\||\$|\%|\^|\&|\*|\(|\)|\+|\=|\,|\.|\/|\?|\>|\<|\'|\"|\:|\;|_/gi,"")).replace(/ /gi,"-")).replace(/\-\-\-\-\-/gi,"-")).replace(/\-\-\-\-/gi,"-")).replace(/\-\-\-/gi,"-")).replace(/\-\-/gi,"-"))+"@").replace(/\@\-|\-\@|\@/gi,""),this.setDichThuatName=e=>{localStorage.setItem("dichthuat",e)},this.showDichThuat=()=>{let{tieudes:e,dichthuats:t,youtubeLinkToGetImgs:i,webLinks:n,tieudeTiengTrungs:r,authors:l,imgAuthors:c,ids:o}=this.state;return e&&l&&t.length>0?t.map((t,u)=>{let d=n[t.key],h=e[t.key],g=r[t.key],m=l[t.key],p=c[t.key];i[t.key];let f=o[t.key];return(0,a.jsx)(s.Z,{cardClick:()=>this.setDichThuatName(t.key),webLink:d,tieudeTiengTrung:g,author:m,imgAuthor:p,link:"/dichthuat/dichthuatDetails/".concat(this.to_slug(t.key)),title:h||null,titleDescription:"Description",img:f?"https://img.youtube.com/vi/".concat(f,"/sddefault.jpg"):null,alt:"IMG Link"},u)}):null},this.getYoutubeId=e=>{var t=e.split("=");return t[1]?t[1].split("&")[0]:"null"},this.renderAddButton=()=>this.state.flagAdmin?(0,a.jsx)(o.default,{href:"/dichthuat/dichthuatHandle",children:(0,a.jsxs)(r.Z,{variant:"info",children:["Edit",(0,a.jsx)("i",{className:"fa-solid fa-calendar-plus"})]})}):null,this.state={dichthuats:[],youtubeLinkToGetImgs:{},webLinks:{},tieudeTiengTrungs:{},tieudes:{},authors:{},imgAuthors:{},ids:{},loading:!0,flagLogin:!1,flagAdmin:!1}}}t.default=u},5634:function(e,t,i){"use strict";var a=i(7437),n=i(7138),r=i(2265),l=i(6648);let s=r.memo(e=>(0,a.jsx)("div",{className:"col-4",style:{marginTop:"20px"},children:(0,a.jsxs)("div",{className:"itemCard-container",onClick:e.cardClick,onMouseEnter:e.cardClick,children:[(0,a.jsx)(n.default,{className:"itemCard-title",href:e.link,target:"_self",onClick:e.cardClick,children:(0,a.jsx)(l.default,{src:e.img||"https://www.lifedna.com.tw/upload-files/motto/pic/1291771141.jpg?v=2016",alt:"Item Image",width:500,height:500})}),(0,a.jsxs)("div",{className:"itemCard-content",children:[(0,a.jsx)("h3",{className:"itemCard-content-title",children:e.title}),(0,a.jsx)("div",{className:"itemCard-content-description",children:(0,a.jsx)("span",{children:e.tieudeTiengTrung})}),(0,a.jsx)("div",{className:"itemCard-content-author",children:(0,a.jsxs)("div",{className:"itemCard-content-author-container",children:[(0,a.jsx)(l.default,{src:e.imgAuthor||"https://yt3.googleusercontent.com/ytc/AIdro_nevnvE7nYPdcdQLMZgoxJsx1g62U2soHKg3PAG3rQE0g=s160-c-k-c0x00ffffff-no-rj",alt:"Author Image",width:30,height:30}),(0,a.jsx)("a",{href:e.webLink,target:"_blank",children:(0,a.jsx)("h4",{children:e.author})})]})})]})]})}));s.displayName="ItemCard",t.Z=s},9768:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var a=i(7437),n=i(2265),r={src:"/_next/static/media/Loading.3170e5c7.gif",height:480,width:475,blurWidth:0,blurHeight:0},l=i(6648);class s extends n.Component{render(){return(0,a.jsx)("div",{className:"loadingData",children:(0,a.jsxs)("div",{className:"loadingData-container",children:[(0,a.jsx)(l.default,{src:r,alt:"Loading...",width:100,height:100}),(0,a.jsx)("h2",{children:"Website đang tải dữ liệu, xin vui l\xf2ng chờ trong gi\xe2y l\xe1t"})]})})}}}},function(e){e.O(0,[4358,7481,9208,9461,5617,7138,7143,6901,8708,2971,7023,1744],function(){return e(e.s=7378)}),_N_E=e.O()}]);