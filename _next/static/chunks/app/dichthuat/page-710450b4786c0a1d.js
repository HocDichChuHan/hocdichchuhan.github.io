(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[673],{8466:function(t,e,i){Promise.resolve().then(i.bind(i,2499))},2499:function(t,e,i){"use strict";i.r(e);var a=i(7437),s=i(2265),n=i(35),u=i(8708),r=i(5634),c=i(5606),h=i(9768),o=i(7138);class l extends s.Component{componentDidMount(){this.getDichThuat(),this.isLogin()}isLogin(){localStorage.getItem("name")&&this.setState({flagLogin:!0})}isAdmin(){return"duong171099"==localStorage.getItem("user")}render(){return(0,a.jsx)(u.Z,{body:(0,a.jsxs)("div",{children:[this.renderAddButton(),(0,a.jsx)("div",{className:"dichthuat-container row",children:this.showDichThuat()}),this.state.loading?(0,a.jsx)(h.Z,{}):null]})})}constructor(t){super(t),this.getDichThuat=async()=>{try{this.setState({loading:!0});let t=await (0,c.UD)("/users/dichthuat"),e=t.map(async t=>{let e=t.key;return{key:e,youtubeLinkToGetImg:await (0,c.eO)("/users/dichthuat/".concat(e,"/link")),webLink:await (0,c.eO)("/users/dichthuat/".concat(e,"/webLink")),tieudeTiengTrung:await (0,c.eO)("/users/dichthuat/".concat(e,"/tieudeTiengTrung")),tieude:await (0,c.eO)("/users/dichthuat/".concat(e,"/tieude")),author:await (0,c.eO)("/users/dichthuat/".concat(e,"/author")),imgAuthor:await (0,c.eO)("/users/dichthuat/".concat(e,"/imgAuthor")),id:await (0,c.eO)("/users/dichthuat/".concat(e,"/id"))}}),i=await Promise.all(e),a={},s={},n={},u={},r={},h={},o={};i.forEach(t=>{a[t.key]=t.webLink,s[t.key]=t.tieudeTiengTrung,n[t.key]=t.author,u[t.key]=t.youtubeLinkToGetImg,r[t.key]=t.imgAuthor,h[t.key]=t.id,o[t.key]=t.tieude}),this.setState({dichthuats:t,webLinks:a,tieudeTiengTrungs:s,authors:n,imgAuthors:r,youtubeLinkToGetImgs:u,ids:h,tieudes:o,loading:!1})}catch(t){console.error("Error getting dichthuat data: ",t),this.setState({loading:!1})}},this.to_slug=t=>t=(t="@"+(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.toLowerCase()).replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi,"a")).replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi,"e")).replace(/i|í|ì|ỉ|ĩ|ị/gi,"i")).replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi,"o")).replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi,"u")).replace(/ý|ỳ|ỷ|ỹ|ỵ/gi,"y")).replace(/đ/gi,"d")).replace(/\`|\~|\!|\@|\#|\||\$|\%|\^|\&|\*|\(|\)|\+|\=|\,|\.|\/|\?|\>|\<|\'|\"|\:|\;|_/gi,"")).replace(/ /gi,"-")).replace(/\-\-\-\-\-/gi,"-")).replace(/\-\-\-\-/gi,"-")).replace(/\-\-\-/gi,"-")).replace(/\-\-/gi,"-"))+"@").replace(/\@\-|\-\@|\@/gi,""),this.setDichThuatName=t=>{console.log("setDichthuatName"),localStorage.setItem("dichthuat",t)},this.showDichThuat=()=>{let{tieudes:t,dichthuats:e,youtubeLinkToGetImgs:i,webLinks:s,tieudeTiengTrungs:n,authors:u,imgAuthors:c,ids:h}=this.state;return(console.log(this.state),t&&u&&e.length>0)?(console.log(123),console.log(e),e.map((e,o)=>{let l=s[e.key],d=t[e.key],g=n[e.key],k=u[e.key],m=c[e.key];i[e.key];let p=h[e.key];return(0,a.jsx)(r.Z,{cardClick:()=>this.setDichThuatName(e.key),webLink:l,tieudeTiengTrung:g,author:k,imgAuthor:m,link:"/dichthuat/dichthuatDetails/".concat(this.to_slug(e.key)),title:d||null,titleDescription:"Description",img:p?"https://img.youtube.com/vi/".concat(p,"/sddefault.jpg"):null,alt:"IMG Link"},o)})):null},this.getYoutubeId=t=>{var e=t.split("=");return e[1]?e[1].split("&")[0]:"null"},this.renderAddButton=()=>this.state.flagLogin?(0,a.jsx)(o.default,{href:"/dichthuat/dichthuatHandle",children:(0,a.jsxs)(n.Z,{variant:"info",children:["Edit",(0,a.jsx)("i",{className:"fa-solid fa-calendar-plus"})]})}):null,this.state={dichthuats:[],youtubeLinkToGetImgs:{},webLinks:{},tieudeTiengTrungs:{},tieudes:{},authors:{},imgAuthors:{},ids:{},loading:!0,flagLogin:!1}}}e.default=l},9768:function(t,e,i){"use strict";i.d(e,{Z:function(){return r}});var a=i(7437),s=i(2265);i(4779);var n={src:"/_next/static/media/Loading.3170e5c7.gif",height:480,width:475,blurWidth:0,blurHeight:0},u=i(6648);class r extends s.Component{render(){return(0,a.jsx)("div",{className:"loadingData",children:(0,a.jsxs)("div",{className:"loadingData-container",children:[(0,a.jsx)(u.default,{src:n,alt:"Loading...",width:100,height:100}),(0,a.jsx)("h2",{children:"Website đang tải dữ liệu, xin vui l\xf2ng chờ trong gi\xe2y l\xe1t"})]})})}}},4779:function(){}},function(t){t.O(0,[237,777,296,461,481,291,648,885,708,634,971,23,744],function(){return t(t.s=8466)}),_N_E=t.O()}]);