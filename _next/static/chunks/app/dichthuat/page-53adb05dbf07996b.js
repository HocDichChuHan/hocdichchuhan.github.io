(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4673],{27378:function(e,t,i){Promise.resolve().then(i.bind(i,92499))},92499:function(e,t,i){"use strict";i.r(t);var a=i(57437),n=i(2265),l=i(12808),r=i(98708),s=i(65634),u=i(65606);i(19768);var o=i(87138);class h extends n.Component{componentDidMount(){this.isLogin(),this.isAdmin(),this.getDichThuat()}componentWillUnmount(){clearInterval(this.intervalId)}isLogin(){localStorage.getItem("name")&&this.setState({flagLogin:!0})}isAdmin(){return"duong171099"==localStorage.getItem("user")&&(this.setState({flagAdmin:!0}),!0)}render(){return(0,a.jsx)(r.Z,{body:(0,a.jsxs)("div",{children:[this.renderAddButton(),(0,a.jsx)("div",{className:"dichthuat-container row",children:this.showDichThuat()})]})})}constructor(e){super(e),this.getDichThuat=async()=>{try{this.setState({loading:!0});var e=JSON.parse(localStorage.getItem("allData"));e||await this.getAllData();let t=(e=await JSON.parse(localStorage.getItem("allData"))).find(e=>"dichthuat"===e.key),i=Object.entries(t.value).map(e=>{let[t,i]=e;return{key:t,value:i}}),a=i.map(async e=>{let i=e.key;return{key:i,youtubeLinkToGetImg:t.value[i].link,webLink:t.value[i].webLink,tieudeTiengTrung:t.value[i].tieudeTiengTrung,tieude:t.value[i].tieude,author:t.value[i].author,imgAuthor:t.value[i].imgAuthor,id:t.value[i].id}}),n=await Promise.all(a),l={},r={},s={},u={},o={},h={},c={};n.forEach(e=>{l[e.key]=e.webLink,r[e.key]=e.tieudeTiengTrung,s[e.key]=e.author,u[e.key]=e.youtubeLinkToGetImg,o[e.key]=e.imgAuthor,h[e.key]=e.id,c[e.key]=e.tieude}),this.setState({dichthuats:i,webLinks:l,tieudeTiengTrungs:r,authors:s,imgAuthors:o,youtubeLinkToGetImgs:u,ids:h,tieudes:c,loading:!1})}catch(e){console.error("Error getting dichthuat data: ",e),this.setState({loading:!1})}},this.getAllData=async()=>{try{let e=(await (0,u.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let t={};for(let i in e.value)if(e.value.hasOwnProperty(i)){let{username:a,password:n,...l}=e.value[i];t[i]=l}return{...e,value:t}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},this.to_slug=e=>e=(e="@"+(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi,"a")).replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi,"e")).replace(/i|í|ì|ỉ|ĩ|ị/gi,"i")).replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi,"o")).replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi,"u")).replace(/ý|ỳ|ỷ|ỹ|ỵ/gi,"y")).replace(/đ/gi,"d")).replace(/\`|\~|\!|\@|\#|\||\$|\%|\^|\&|\*|\(|\)|\+|\=|\,|\.|\/|\?|\>|\<|\'|\"|\:|\;|_/gi,"")).replace(/ /gi,"-")).replace(/\-\-\-\-\-/gi,"-")).replace(/\-\-\-\-/gi,"-")).replace(/\-\-\-/gi,"-")).replace(/\-\-/gi,"-"))+"@").replace(/\@\-|\-\@|\@/gi,""),this.setDichThuatName=e=>{localStorage.setItem("dichthuat",e)},this.showDichThuat=()=>{let{tieudes:e,dichthuats:t,youtubeLinkToGetImgs:i,webLinks:n,tieudeTiengTrungs:l,authors:r,imgAuthors:u,ids:o}=this.state;return e&&r&&t.length>0?t.map((t,h)=>{let c=n[t.key],g=e[t.key],d=l[t.key],m=r[t.key],p=u[t.key];i[t.key];let k=o[t.key];return(0,a.jsx)(s.Z,{cardClick:()=>this.setDichThuatName(t.key),webLink:c,tieudeTiengTrung:d,author:m,imgAuthor:p,link:"/dichthuat/dichthuatDetails/".concat(this.to_slug(t.key)),title:g||null,titleDescription:"Description",img:k?"https://img.youtube.com/vi/".concat(k,"/sddefault.jpg"):null,alt:"IMG Link"},h)}):null},this.getYoutubeId=e=>{var t=e.split("=");return t[1]?t[1].split("&")[0]:"null"},this.renderAddButton=()=>this.state.flagAdmin?(0,a.jsx)(o.default,{href:"/dichthuat/dichthuatHandle",children:(0,a.jsxs)(l.Z,{variant:"info",children:["Edit",(0,a.jsx)("i",{className:"fa-solid fa-calendar-plus"})]})}):null,this.state={dichthuats:[],youtubeLinkToGetImgs:{},webLinks:{},tieudeTiengTrungs:{},tieudes:{},authors:{},imgAuthors:{},ids:{},loading:!0,flagLogin:!1,flagAdmin:!1}}}t.default=h},19768:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var a=i(57437),n=i(2265),l={src:"/_next/static/media/Loading.3170e5c7.gif",height:480,width:475,blurWidth:0,blurHeight:0},r=i(66648);class s extends n.Component{render(){return(0,a.jsx)("div",{className:"loadingData",children:(0,a.jsxs)("div",{className:"loadingData-container",children:[(0,a.jsx)(r.default,{src:l,alt:"Loading...",width:100,height:100}),(0,a.jsx)("h2",{children:"Website đang tải dữ liệu, xin vui l\xf2ng chờ trong gi\xe2y l\xe1t"})]})})}}}},function(e){e.O(0,[4358,7481,9208,9461,8765,4974,3539,6901,1098,2971,7023,1744],function(){return e(e.s=27378)}),_N_E=e.O()}]);