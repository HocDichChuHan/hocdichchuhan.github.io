(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4260],{5138:function(e,t,n){Promise.resolve().then(n.bind(n,7634))},7634:function(e,t,n){"use strict";n.d(t,{default:function(){return m}});var i=n(7437),a=n(2265),s=n(8708),r=n(2808),l=n(4379),c=n.n(l),o=n(516),h=n(5606),u=n(9768);n(7138),n(6648),n(1243);var g=n(3508);n(7593),n(6793),n(1539),n(3492),n(1467),n(9460),n(8996),n(8433);var d=n(2474),p=n(8342);function m(e){let{hsk:t}=e,[n,l]=(0,a.useState)(!0),[m,x]=(0,a.useState)(),[y,b]=(0,a.useState)(),[v,f]=(0,a.useState)(),[j,C]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),[w,Z]=(0,a.useState)(!1),[S,E]=(0,a.useState)(!1),[T,I]=(0,a.useState)([]),[A,O]=(0,a.useState)([]),[V,G]=(0,a.useState)([]),[H,D]=(0,a.useState)([]),[_,P]=(0,a.useState)(!1),[L,M]=(0,a.useState)(null),[B,J]=(0,a.useState)("doc");(0,a.useEffect)(()=>{U();let e=(0,g.GJ)(),t=(0,g.bg)();k(e),C(t);let n=localStorage.getItem("isGianthe");null!==n&&P(JSON.parse(n))},[]),(0,a.useEffect)(()=>{W(),X(),z(),q()},[y]),(0,a.useEffect)(()=>{let e=localStorage.getItem("userLogin");e&&M(JSON.parse(e))},[]);let K=async()=>{try{let e=(0,o.iH)(h.db,"user/kiemtra/".concat(t,"/tumoi")),n=(0,o.iH)(h.db,"user/kiemtra/".concat(t,"/listen")),i=(0,o.iH)(h.db,"user/kiemtra/".concat(t,"/speak")),a=(0,o.iH)(h.db,"user/kiemtra/".concat(t,"/cauhoi"));await (0,o.t8)(e,T),await (0,o.t8)(n,A),await (0,o.t8)(i,V),await (0,o.t8)(a,H),console.log("Đ\xe3 lưu allTuMoi th\xe0nh c\xf4ng!"),c().fire({icon:"success",title:"Đ\xe3 lưu th\xe0nh c\xf4ng!",timer:1500,toast:!1,position:"center",showConfirmButton:!1})}catch(e){c().fire({icon:"info",title:"Lỗi khi lưu allTuMoi: ".concat(e),timer:1500,toast:!1,position:"center",showConfirmButton:!1}),console.error("Lỗi khi lưu allTuMoi:",e)}},U=async()=>{try{l(!0),console.log(t);let e=(0,o.iH)(h.db,"user/kiemtra/".concat(t)),n=await (0,o.U2)(e);if(!n.exists())return console.log("Kh\xf4ng c\xf3 dữ liệu tại đường dẫn n\xe0y."),null;{let e=n.val();return console.log("Dữ liệu lấy được:",e),b(e),e}}catch(e){return console.error("Error getting data:",e),null}finally{l(!1)}},W=async()=>{if(v){let e=Object.keys(v).filter(e=>parseInt(e.replace("b",""))),t=[];e.forEach(e=>{let n=v[e];Array.isArray(null==n?void 0:n.hoithoai)&&n.hoithoai.forEach(n=>{Array.isArray(null==n?void 0:n.tumoi)&&n.tumoi.forEach(n=>{t.push({...n,bai:e})})})});let n={};t.forEach(e=>{n[e.tiengtrung]||(n[e.tiengtrung]=e)});let i=Object.values(n);i.sort((e,t)=>e.pinyin.localeCompare(t.pinyin)),I([...i].filter(e=>e.bai).sort((e,t)=>{let n=parseInt(e.bai.slice(1)),i=parseInt(t.bai.slice(1));return n!==i?n-i:e.gianthe.length-t.gianthe.length}))}else y&&I(y.tumoi)},X=async()=>{if(v){let e=Object.keys(v).filter(e=>parseInt(e.replace("b",""))),t=[];e.forEach(e=>{let n=v[e];Array.isArray(null==n?void 0:n.listen)&&n.listen.forEach(n=>{t.push({...n,bai:e})})});let n={};t.forEach(e=>{n[e.tiengtrung]||(n[e.tiengtrung]=e)});let i=Object.values(n);i.sort((e,t)=>e.pinyin.localeCompare(t.pinyin)),O([...i].filter(e=>e.bai).sort((e,t)=>{let n=parseInt(e.bai.slice(1)),i=parseInt(t.bai.slice(1));return n!==i?n-i:e.gianthe.length-t.gianthe.length}))}else y&&O(y.listen)},z=async()=>{if(v){let e=Object.keys(v).filter(e=>parseInt(e.replace("b",""))),t=[];e.forEach(e=>{let n=v[e];Array.isArray(null==n?void 0:n.speak)&&n.speak.forEach(n=>{t.push({...n,bai:e})})});let n={};t.forEach(e=>{n[e.tiengtrung]||(n[e.tiengtrung]=e)});let i=Object.values(n);i.sort((e,t)=>e.pinyin.localeCompare(t.pinyin)),G([...i].filter(e=>e.bai).sort((e,t)=>{let n=parseInt(e.bai.slice(1)),i=parseInt(t.bai.slice(1));return n!==i?n-i:e.gianthe.length-t.gianthe.length}))}else y&&G(y.speak)},q=async()=>{if(v){let e=Object.keys(v).filter(e=>parseInt(e.replace("b",""))),t=[];e.forEach(e=>{let n=v[e];Array.isArray(null==n?void 0:n.cauhoi)&&n.cauhoi.forEach(n=>{t.push({...n,bai:e})})});let n={};t.forEach(e=>{n[e.tiengtrung]||(n[e.tiengtrung]=e)});let i=Object.values(n);i.sort((e,t)=>e.pinyin.localeCompare(t.pinyin)),D([...i].filter(e=>e.bai).sort((e,t)=>{let n=parseInt(e.bai.slice(1)),i=parseInt(t.bai.slice(1));return n!==i?n-i:e.gianthe.length-t.gianthe.length}))}else y&&D(y.cauhoi)},F=()=>{if(T)return(0,i.jsxs)("div",{className:"baihocgiaotiep-tumoi",children:[(0,i.jsx)("h2",{children:"Từ mới"}),(0,i.jsx)("ul",{children:T&&T.map((e,t)=>(0,i.jsxs)("li",{className:"border rounded p-3 mb-3 shadow-sm bg-white",children:[(0,i.jsxs)("h2",{children:["Từ thứ ",t+1,"  B\xe0i ",e.bai]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Z,{variant:"success",onClick:()=>Y(t),children:"Get Voice"}),(0,i.jsx)("input",{type:"text",className:"tiengtrungText fs-3",value:e.gianthe?e.gianthe:"",placeholder:"中文简体",onChange:e=>Q(t,"gianthe",e.target.value)}),(0,i.jsx)("input",{type:"text",className:"tiengtrungText fs-3",value:e.tiengtrung,placeholder:"中文",onChange:e=>Q(t,"tiengtrung",e.target.value)}),(0,i.jsx)("input",{type:"text",className:"pinyinText",placeholder:"pinyin",value:e.pinyin,onChange:e=>Q(t,"pinyin",e.target.value)}),(0,i.jsx)("input",{type:"text",className:"nghiaText",placeholder:"nghĩa",value:e.nghia,onChange:e=>Q(t,"nghia",e.target.value)}),(0,i.jsx)(r.Z,{variant:"success",onClick:()=>getVoiceTumoiTiengViet(t),children:"Get Voice Dịch"}),(0,i.jsx)(r.Z,{variant:"warning",onClick:()=>getPinyinTuMoi(e.gianthe,t),children:"GetPinyin"})]}),(0,i.jsx)("div",{children:(0,i.jsx)(r.Z,{variant:"danger",onClick:()=>R(t),children:"X\xf3a từ mới n\xe0y"})})]},t))}),(0,i.jsx)(r.Z,{variant:"info",onClick:()=>addTumoi(),children:"Th\xeam Từ Mới"})]})},Q=(e,t,n)=>{I(i=>{let a=[...i];return a[e]={...a[e],[t]:n},a})},R=e=>{I(t=>{let n=[...t];return n.splice(e,1),n})},Y=async e=>{let t=await (0,d.Z)("CN");I(n=>{let i=[...n];return i[e]={...i[e],gianthe:t},i})};return n?(0,i.jsx)(u.Z,{}):(0,i.jsx)(s.Z,{body:(0,i.jsxs)("div",{className:"ktBTContainer",children:[(0,i.jsx)("div",{className:"MatchingGameContaniner",children:(0,i.jsxs)("div",{className:"flex gap-2 mb-4 ",children:[(0,i.jsx)("button",{onClick:()=>J("doc"),className:"btn ".concat("doc"===B?"btn-primary":"btn-outline-secondary"),children:"阅读 - Đọc"}),(0,i.jsx)("button",{onClick:()=>J("viet"),className:"btn ".concat("viet"===B?"btn-primary":"btn-outline-secondary"),children:"写字 - Viết"}),(0,i.jsx)("button",{onClick:()=>J("nghe"),className:"btn ".concat("nghe"===B?"btn-primary":"btn-outline-secondary"),children:"听力 - Nghe"}),(0,i.jsx)("button",{onClick:()=>J("noi"),className:"btn ".concat("noi"===B?"btn-primary":"btn-outline-secondary"),children:"说话 - N\xf3i"}),(0,i.jsx)("button",{onClick:()=>J("cauhoi"),className:"btn ".concat("cauhoi"===B?"btn-primary":"btn-outline-secondary"),children:"问答 - Vấn Đ\xe1p"})]})}),(0,i.jsx)(r.Z,{className:"p-3 m-3",variant:"primary",onClick:()=>K(),children:"Save"}),(0,i.jsxs)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-number",children:["Kiểm Tra ",t.toUpperCase()," "]}),(0,i.jsx)("div",{children:(()=>{switch(B){case"nghe":return(0,i.jsx)(p.Z,{cauhoi:A,setCauhoi:O,dichnghia:!0});case"doc":return F();case"noi":return(0,i.jsx)(p.Z,{cauhoi:V,setCauhoi:G,dichnghia:!0});case"cauhoi":return(0,i.jsx)(p.Z,{cauhoi:H,setCauhoi:D});default:return null}})()})]})})}},8342:function(e,t,n){"use strict";var i=n(7437);n(2265);var a=n(2808),s=n(9745),r=n(3508),l=n(2474);t.Z=e=>{let{cauhoi:t=[],setCauhoi:n,fetSelectedword:c,dichnghia:o=!1}=e,h=async(e,i,a)=>{let s=[...t];s[e][i]=a,n(s)},u=async(e,i,a)=>{let s=await (0,l.Z)(a),r=[...t];r[e][i]=s,n(r)},g=()=>{n([...t,{tiengtrung:"",pinyin:"",nghia:""}])},d=e=>{n(t.filter((t,n)=>n!==e))},p=async(e,t)=>{try{var i;let a=await (0,r.PA)(e),s=await (0,r.V2)(a);if(console.log(s.sentences),!s||!s.sentences||0===s.sentences.length)return;let l=(null===(i=s.sentences[s.sentences.length-1])||void 0===i?void 0:i.src_translit)||"",c=s.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");n(e=>{let n=[...e];return n[t]={...n[t],pinyin:l,nghia:c,tiengtrung:a},n})}catch(e){console.error("Lỗi khi lấy Pinyin:",e)}};return(0,i.jsxs)("div",{className:"cauhoi-container",children:[(0,i.jsx)("h2",{children:"Chỉnh Sửa C\xe2u Hỏi"}),(0,i.jsx)("ul",{children:t&&t.map((e,t)=>(0,i.jsxs)("li",{className:"cauhoi-item",children:[(0,i.jsxs)("h2",{children:[t+1,": ",e.bai?"B\xe0i ".concat(e.bai):null]}),(0,i.jsx)(a.Z,{variant:"success",onClick:()=>u(t,"gianthe","CN"),children:"GetVoice C\xe2u Hỏi"}),(0,i.jsx)("input",{type:"text",className:"form-control",value:e.gianthe,onChange:e=>h(t,"gianthe",e.target.value),placeholder:"简体中文 "}),(0,i.jsx)("input",{type:"text",className:"form-control",value:e.tiengtrung,onChange:e=>h(t,"tiengtrung",e.target.value),placeholder:"Nhập c\xe2u hỏi tiếng Trung"}),(0,i.jsx)("input",{type:"text",className:"form-control",value:e.pinyin,onChange:e=>h(t,"pinyin",e.target.value),placeholder:"Nhập phi\xean \xe2m"}),(0,i.jsx)("div",{className:"chinese-word",children:e.tiengtrung.split("").map((e,t)=>(0,i.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>c(e),children:e},t))}),!o&&(0,i.jsx)("input",{type:"text",className:"form-control",value:e.nghia,onChange:e=>h(t,"nghia",e.target.value),placeholder:"Nhập nghĩa"}),o&&(0,i.jsx)("input",{type:"text",className:"form-control",value:e.dichnghia,onChange:e=>h(t,"dichnghia",e.target.value),placeholder:"Nhập nghĩa"}),(0,i.jsx)(a.Z,{variant:"success",onClick:()=>u(t,"nghia","VN"),children:"GetVoice Nghĩa"}),(0,i.jsx)(a.Z,{variant:"warning",onClick:()=>p(e.gianthe,t),children:"GetPinyin"}),(0,i.jsx)(a.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,s.Z)(e.gianthe,t+10),children:"\uD83D\uDD0A"}),(0,i.jsx)(a.Z,{variant:"danger",size:"sm",onClick:()=>d(t),children:"❌ X\xf3a"}),(0,i.jsx)("hr",{})]},t))}),(0,i.jsx)(a.Z,{variant:"success",onClick:()=>g(),children:"➕ Th\xeam C\xe2u Hỏi"})]})}},9768:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(7437),a=n(2265),s={src:"/_next/static/media/Loading.3170e5c7.gif",height:480,width:475,blurWidth:0,blurHeight:0},r=n(6648);class l extends a.Component{render(){return(0,i.jsx)("div",{className:"loadingData",children:(0,i.jsxs)("div",{className:"loadingData-container",children:[(0,i.jsx)(r.default,{src:s,alt:"Loading...",width:100,height:100}),(0,i.jsx)("h2",{children:"Website đang tải dữ liệu, xin vui l\xf2ng chờ trong gi\xe2y l\xe1t"})]})})}}},7593:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(7437);function a(e){let{show:t,children:n,onClose:a}=e;return t?(0,i.jsx)("div",{className:"overlay-container d-flex align-items-center justify-content-center",onClick:()=>{a()},children:(0,i.jsxs)("div",{className:"overlay-content position-relative bg-white rounded p-3 shadow",onClick:e=>{e.stopPropagation()},children:[(0,i.jsx)("button",{className:"btn-close position-absolute top-0 end-0 m-2",onClick:a}),(0,i.jsx)("div",{className:"overlay-scroll",children:n})]})}):null}n(4075)},4075:function(){}},function(e){e.O(0,[5527,4358,7481,9208,9461,5973,7143,8472,609,6666,6901,8708,6602,9907,2971,7023,1744],function(){return e(e.s=5138)}),_N_E=e.O()}]);