(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9855],{3836:function(e,n,t){Promise.resolve().then(t.bind(t,815))},815:function(e,n,t){"use strict";t.d(n,{default:function(){return r}});var i=t(7437),a=t(2265),s=t(8708);t(4379),t(516),t(5606);var c=t(9768);t(7138),t(6648),t(1243);var l=t(3508);function r(e){var n;let{hsk:t}=e,[r,o]=(0,a.useState)(!0),[u,d]=(0,a.useState)(),[h,m]=(0,a.useState)(),[p,g]=(0,a.useState)(),[v,x]=(0,a.useState)(!1),[f,j]=(0,a.useState)(!1),[y,N]=(0,a.useState)(!1),[b,D]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=(0,l.GJ)(),n=(0,l.bg)();j(e),x(n)},[]),(u&&(n=u.split("="))[1]&&n[1].split("&")[0],r)?(0,i.jsx)(c.Z,{}):(0,i.jsx)(s.Z,{body:(0,i.jsx)("div",{className:"ktBTContainer"})})}t(7593),t(6793),t(5527),t(3492),t(1467),t(9460),t(8996)},9745:function(e,n){"use strict";let t=null,i=-1,a=!1;n.Z=(e,n)=>{if(speechSynthesis.speaking&&i!==n&&speechSynthesis.cancel(),i===n){speechSynthesis.speaking&&a?(speechSynthesis.pause(),console.log("pause"),a=!1):(speechSynthesis.resume(),console.log("resume"),a=!0);return}a=!0,(t=new SpeechSynthesisUtterance(e)).lang="zh-CN",t.rate=.7,speechSynthesis.speak(t),i=n,t.onend=()=>{i=-1}}},8996:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var i=t(7437),a=t(2265),s=t(9745),c=t(516),l=t(5606),r=t(2808),o=t(3137),u=t(3830),d=t(8433),h=t(4379),m=t.n(h);function p(e){let{dsCau:n,isGianthe:t,pathBaitap:h,hsk:p,id:g,onNext:v,isShowNghia:x=!0}=e,[f,j]=(0,a.useState)(null),[y,N]=(0,a.useState)({}),[b,D]=(0,a.useState)(!1),[C,Z]=(0,a.useState)(!1),w=(e,n)=>{m().fire({icon:e,title:n,position:"center",showConfirmButton:!1,timer:1500,timerProgressBar:!0})};(0,a.useEffect)(()=>{let e=localStorage.getItem("userLogin");if(e){let t=JSON.parse(e);j(t),n.forEach(async(e,n)=>{let i="".concat(h,"/cauhoi/").concat(t.uid,"/").concat(n),a=await (0,c.U2)((0,c.iH)(l.db,i));a.exists()&&N(e=>({...e,[n]:{userInput:a.val().userInput||"",nghia:a.val().nghiacuanguoidung||""}}))})}},[n,h]);let S=(e,n,t)=>{N(i=>({...i,[e]:{...i[e],[n]:t}}))},k=async()=>{if(f){for(let s=0;s<n.length;s++){var e,t,i,a;let r=n[s],o=(null===(t=y[s])||void 0===t?void 0:null===(e=t.userInput)||void 0===e?void 0:e.trim())||"",u=(null===(a=y[s])||void 0===a?void 0:null===(i=a.nghia)||void 0===i?void 0:i.trim())||"",d="".concat(h,"/cauhoi/").concat(f.uid,"/").concat(s);await (0,c.t8)((0,c.iH)(l.db,d),{userInput:o,nghia:r.nghia,hanviet:r.gianthe,nghiacuanguoidung:u,time:Date.now()})}w("success","Đ\xe3 lưu to\xe0n bộ b\xe0i l\xe0m!")}},E=async()=>{if(!f)return;console.log(123);let e="".concat(h,"/cauhoi/").concat(f.uid),t="user/baitap/".concat(f.uid,"/").concat(p,"_").concat(g),i=Date.now();try{let a=await (0,c.U2)((0,c.iH)(l.db,e));if(a.exists()){let e=a.val(),s=n.map((n,t)=>{var a,s;return{tiengtrung:n.tiengtrung,gianthe:n.gianthe,pinyin:n.pinyin,nghia:n.nghia,cautraloi:(null===(a=e[t])||void 0===a?void 0:a.userInput)||"",nghiacuanguoidung:(null===(s=e[t])||void 0===s?void 0:s.nghiacuanguoidung)||"",time:i}});await (0,c.t8)((0,c.iH)(l.db,t),{hsk:p,id:g,timeSubmit:i,cauTraLoi:s}),w("success","Đ\xe3 gửi b\xe0i tập th\xe0nh c\xf4ng!"),v()}else w("warning","Chưa c\xf3 dữ liệu để gửi!")}catch(e){console.error("Lỗi:",e),w("error","Lỗi khi gửi b\xe0i tập!")}};return(0,i.jsxs)("div",{className:"container py-4",children:[(0,i.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,i.jsxs)("div",{className:"btn-group",children:[(0,i.jsx)(r.Z,{variant:"outline-primary",onClick:()=>D(!b),children:b?"Ẩn Pinyin":"Hiện Pinyin"}),x&&(0,i.jsx)(r.Z,{variant:"outline-danger",onClick:()=>Z(!C),children:C?"Ẩn Nghĩa":"Hiện Nghĩa"})]}),(0,i.jsx)(r.Z,{variant:"success",onClick:E,children:"\uD83D\uDCE4 Gửi B\xe0i Tập"})]}),n.map((e,n)=>{var a,c;return(0,i.jsx)(o.Z,{className:"mb-4 shadow-sm",children:(0,i.jsxs)(o.Z.Body,{children:[(0,i.jsxs)("div",{className:"d-flex",children:[(0,i.jsxs)("h5",{className:"mb-3 text-primary fw-bold fs-3",children:["\uD83D\uDCDD C\xe2u ",n+1,": ",t?e.gianthe:e.tiengtrung]}),(0,i.jsx)(r.Z,{variant:"outline-secondary",onClick:()=>(0,s.Z)(e.gianthe),children:"\uD83D\uDD0A"})]}),b&&(0,i.jsxs)("div",{className:"text-muted mb-2",children:["\uD83D\uDCDA Pinyin: ",e.pinyin]}),C&&(0,i.jsxs)("div",{className:"mb-3",children:["\uD83D\uDCA1 Nghĩa: ",e.nghia]}),(0,i.jsxs)(u.Z.Group,{className:"mb-2",children:[(0,i.jsx)(u.Z.Label,{children:"Nhập c\xe2u trả lời của bạn:"}),(0,i.jsx)(d.Z,{value:(null===(a=y[n])||void 0===a?void 0:a.userInput)||"",className:"form-control fs-3",placeholder:"你的回答",onChange:e=>S(n,"userInput",e.target.value)})]}),(0,i.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,i.jsx)(u.Z.Label,{children:"Nhập nghĩa của c\xe2u trả lời:"}),(0,i.jsx)(d.Z,{value:(null===(c=y[n])||void 0===c?void 0:c.nghia)||"",className:"form-control fs-5",placeholder:"Nhập nghĩa của c\xe2u trả lời",onChange:e=>S(n,"nghia",e.target.value)})]})]})},n)}),(0,i.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[(0,i.jsx)(r.Z,{variant:"outline-secondary",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"⬆️ Về đầu"}),(0,i.jsx)(r.Z,{variant:"primary",onClick:()=>k(),children:"\uD83D\uDCBE Lưu tạm thời"}),(0,i.jsx)(r.Z,{variant:"success",onClick:()=>E(),children:"\uD83D\uDCE4 Gửi B\xe0i Tập"})]})]})}},7593:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var i=t(7437);function a(e){let{show:n,children:t,onClose:a}=e;return n?(0,i.jsx)("div",{className:"overlay-container d-flex align-items-center justify-content-center",onClick:()=>{a()},children:(0,i.jsxs)("div",{className:"overlay-content position-relative bg-white rounded p-3 shadow",onClick:e=>{e.stopPropagation()},children:[(0,i.jsx)("button",{className:"btn-close position-absolute top-0 end-0 m-2",onClick:a}),(0,i.jsx)("div",{className:"overlay-scroll",children:t})]})}):null}t(4075)},1243:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var i=t(7437),a=t(2265),s=t(2808),c=t(8472),l=t(9745);function r(e){let{word:n,dataWrite:t,dataTranslate:r}=e,[o,u]=(0,a.useState)({}),d=r.result,h=t.result[0],m=(e,n)=>e.split(RegExp("(".concat(n,")"),"gi")).map((e,t)=>e.toLowerCase()===n.toLowerCase()?(0,i.jsx)("span",{style:{color:"red"},children:e},t):e),p=async e=>{try{let n=await c.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(e)));if(n.data)return n.data.sentences[0].trans;return e}catch(n){return console.error("Lỗi khi gọi API:",n),e}},g=async(e,n)=>{let t=await p(e);u(e=>({...e,[n]:t}))};return((0,a.useEffect)(()=>{var e,n;d&&(null===(n=d[0])||void 0===n?void 0:null===(e=n.content[0])||void 0===e?void 0:e.means)&&d[0].content[0].means.forEach((e,n)=>{e.examples&&e.examples.forEach((e,t)=>{let i="".concat(n,"-").concat(t);g(e.e,i)})})},[d]),t&&r)?(0,i.jsx)("div",{className:"tumoi-item",children:(0,i.jsxs)("div",{className:"tumoi-display",children:[(0,i.jsx)("div",{className:"tumoi-display-header",children:(0,i.jsxs)("h4",{children:[n," 【",d[0].cn_vi,"】(",d[0].pinyin,") Bộ thủ: (",h.sets,") H\xecnh th\xe1i: (",h.hinhthai,")"]})}),d[0].content[0].means.map((e,t)=>{let a=e.examples?e.examples:null,c=e.mean;return(0,i.jsxs)("div",{className:"tumoi-nghia",children:[(0,i.jsxs)("h4",{className:"tumoi-nghia-shower",children:["Nghĩa ",t+1,": ",c]}),a&&a.map((e,a)=>{let c=e.e,r=e.m,u=e.p,d=o["".concat(t,"-").concat(a)]||c;return(0,i.jsxs)("div",{className:"tumoi-vidu",children:[(0,i.jsxs)("h5",{children:["V\xed dụ ",a+1]}),(0,i.jsx)("span",{children:m(d,n)}),(0,i.jsx)(s.Z,{className:"btn-phatamthanh",style:{maxWidth:"50px",maxHeight:"50px"},variant:"danger",onClick:()=>(0,l.Z)(c,a),children:"\uD83D\uDD0A"}),(0,i.jsx)("p",{children:u}),(0,i.jsx)("p",{children:r})]},a)}),(0,i.jsx)("hr",{})]},t)})]})}):null}},4075:function(){}},function(e){e.O(0,[5527,4358,7481,9208,9461,5973,7143,8472,609,6666,6901,7468,5499,2971,7023,1744],function(){return e(e.s=3836)}),_N_E=e.O()}]);