(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9855],{63836:function(e,n,t){Promise.resolve().then(t.bind(t,40815))},40815:function(e,n,t){"use strict";t.d(n,{default:function(){return r}});var i=t(57437),s=t(2265),a=t(98708);t(64379),t(60516),t(65606);var c=t(19768);t(87138),t(66648),t(31243);var l=t(23508);function r(e){var n;let{hsk:t}=e,[r,o]=(0,s.useState)(!0),[u,h]=(0,s.useState)(),[d,m]=(0,s.useState)(),[p,g]=(0,s.useState)(),[v,x]=(0,s.useState)(!1),[f,j]=(0,s.useState)(!1),[y,N]=(0,s.useState)(!1),[b,C]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=(0,l.GJ)(),n=(0,l.bg)();j(e),x(n)},[]),(u&&(n=u.split("="))[1]&&n[1].split("&")[0],r)?(0,i.jsx)(c.Z,{}):(0,i.jsx)(a.Z,{body:(0,i.jsx)("div",{className:"ktBTContainer"})})}t(27593),t(16793),t(25527),t(3492),t(31467),t(9460),t(28996)},89745:function(e,n,t){"use strict";t.d(n,{M:function(){return c}});let i=null,s=-1,a=!1,c=async e=>{console.log(e);for(let n=0;n<e.length;n++)await l(e[n],n),await r(1e3)},l=(e,n)=>new Promise(n=>{speechSynthesis.speaking&&speechSynthesis.cancel();let t=new SpeechSynthesisUtterance(e);t.lang="zh-CN",t.rate=.7,t.onend=()=>{n()},speechSynthesis.speak(t)}),r=e=>new Promise(n=>setTimeout(n,e));n.Z=(e,n)=>{if(speechSynthesis.speaking&&s!==n&&speechSynthesis.cancel(),s===n){speechSynthesis.speaking&&a?(speechSynthesis.pause(),console.log("pause"),a=!1):(speechSynthesis.resume(),console.log("resume"),a=!0);return}a=!0,(i=new SpeechSynthesisUtterance(e)).lang="zh-CN",i.rate=.7,speechSynthesis.speak(i),s=n,i.onend=()=>{s=-1}}},28996:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var i=t(57437),s=t(2265),a=t(89745),c=t(60516),l=t(65606),r=t(12808),o=t(73137),u=t(23830),h=t(34231),d=t(64379),m=t.n(d);function p(e){let{dsCau:n,isGianthe:t,pathBaitap:d,hsk:p,id:g,onNext:v,isShowNghia:x=!0}=e,[f,j]=(0,s.useState)(null),[y,N]=(0,s.useState)({}),[b,C]=(0,s.useState)(!1),[D,w]=(0,s.useState)(!1),S=(e,n)=>{m().fire({icon:e,title:n,position:"center",showConfirmButton:!1,timer:1500,timerProgressBar:!0})};(0,s.useEffect)(()=>{let e=localStorage.getItem("userLogin");if(e){let t=JSON.parse(e);j(t),n.forEach(async(e,n)=>{let i="".concat(d,"/cauhoi/").concat(t.uid,"/").concat(n),s=await (0,c.U2)((0,c.iH)(l.db,i));s.exists()&&N(e=>({...e,[n]:{userInput:s.val().userInput||"",nghia:s.val().nghiacuanguoidung||""}}))})}},[n,d]);let Z=(e,n,t)=>{N(i=>({...i,[e]:{...i[e],[n]:t}}))},k=async()=>{if(f){for(let a=0;a<n.length;a++){var e,t,i,s;let r=n[a],o=(null===(t=y[a])||void 0===t?void 0:null===(e=t.userInput)||void 0===e?void 0:e.trim())||"",u=(null===(s=y[a])||void 0===s?void 0:null===(i=s.nghia)||void 0===i?void 0:i.trim())||"",h="".concat(d,"/cauhoi/").concat(f.uid,"/").concat(a);await (0,c.t8)((0,c.iH)(l.db,h),{userInput:o,nghia:r.nghia,hanviet:r.gianthe,nghiacuanguoidung:u,time:Date.now()})}S("success","Đ\xe3 lưu to\xe0n bộ b\xe0i l\xe0m!")}},E=async()=>{if(!f)return;console.log(123);let e="".concat(d,"/cauhoi/").concat(f.uid),t="user/baitap/".concat(f.uid,"/").concat(p,"_").concat(g),i=Date.now();try{let s=await (0,c.U2)((0,c.iH)(l.db,e));if(s.exists()){let e=s.val(),a=n.map((n,t)=>{var s,a;return{tiengtrung:n.tiengtrung,gianthe:n.gianthe,pinyin:n.pinyin,nghia:n.nghia,cautraloi:(null===(s=e[t])||void 0===s?void 0:s.userInput)||"",nghiacuanguoidung:(null===(a=e[t])||void 0===a?void 0:a.nghiacuanguoidung)||"",time:i}});await (0,c.t8)((0,c.iH)(l.db,t),{hsk:p,id:g,timeSubmit:i,cauTraLoi:a}),S("success","Đ\xe3 gửi b\xe0i tập th\xe0nh c\xf4ng!"),v()}else S("warning","Chưa c\xf3 dữ liệu để gửi!")}catch(e){console.error("Lỗi:",e),S("error","Lỗi khi gửi b\xe0i tập!")}};return(0,i.jsxs)("div",{className:"container py-4",children:[(0,i.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,i.jsxs)("div",{className:"btn-group",children:[(0,i.jsx)(r.Z,{variant:"outline-primary",onClick:()=>C(!b),children:b?"Ẩn Pinyin":"Hiện Pinyin"}),x&&(0,i.jsx)(r.Z,{variant:"outline-danger",onClick:()=>w(!D),children:D?"Ẩn Nghĩa":"Hiện Nghĩa"})]}),(0,i.jsx)(r.Z,{variant:"success",onClick:E,children:"\uD83D\uDCE4 Gửi B\xe0i Tập"})]}),n.map((e,n)=>{var s,c;return(0,i.jsx)(o.Z,{className:"mb-4 shadow-sm",children:(0,i.jsxs)(o.Z.Body,{children:[(0,i.jsxs)("div",{className:"d-flex",children:[(0,i.jsxs)("h5",{className:"mb-3 text-primary fw-bold fs-3",children:["\uD83D\uDCDD C\xe2u ",n+1,": ",t?e.gianthe:e.tiengtrung]}),(0,i.jsx)(r.Z,{variant:"outline-secondary",onClick:()=>(0,a.Z)(e.gianthe),children:"\uD83D\uDD0A"})]}),b&&(0,i.jsxs)("div",{className:"text-muted mb-2",children:["\uD83D\uDCDA Pinyin: ",e.pinyin]}),D&&(0,i.jsxs)("div",{className:"mb-3",children:["\uD83D\uDCA1 Nghĩa: ",e.nghia]}),(0,i.jsxs)(u.Z.Group,{className:"mb-2",children:[(0,i.jsx)(u.Z.Label,{children:"Nhập c\xe2u trả lời của bạn:"}),(0,i.jsx)(h.Z,{value:(null===(s=y[n])||void 0===s?void 0:s.userInput)||"",className:"form-control fs-3",placeholder:"你的回答",onChange:e=>Z(n,"userInput",e.target.value)})]}),(0,i.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,i.jsx)(u.Z.Label,{children:"Nhập nghĩa của c\xe2u trả lời:"}),(0,i.jsx)(h.Z,{value:(null===(c=y[n])||void 0===c?void 0:c.nghia)||"",className:"form-control fs-5",placeholder:"Nhập nghĩa của c\xe2u trả lời",onChange:e=>Z(n,"nghia",e.target.value)})]})]})},n)}),(0,i.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[(0,i.jsx)(r.Z,{variant:"outline-secondary",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"⬆️ Về đầu"}),(0,i.jsx)(r.Z,{variant:"primary",onClick:()=>k(),children:"\uD83D\uDCBE Lưu tạm thời"}),(0,i.jsx)(r.Z,{variant:"success",onClick:()=>E(),children:"\uD83D\uDCE4 Gửi B\xe0i Tập"})]})]})}},27593:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var i=t(57437);function s(e){let{show:n,children:t,onClose:s}=e;return n?(0,i.jsx)("div",{className:"overlay-container d-flex align-items-center justify-content-center",onClick:()=>{s()},children:(0,i.jsxs)("div",{className:"overlay-content position-relative bg-white rounded p-3 shadow",onClick:e=>{e.stopPropagation()},children:[(0,i.jsx)("button",{className:"btn-close position-absolute top-0 end-0 m-2",onClick:s}),(0,i.jsx)("div",{className:"overlay-scroll",children:t})]})}):null}t(24075)},31243:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var i=t(57437),s=t(2265),a=t(12808),c=t(38472),l=t(89745);function r(e){let{word:n,dataWrite:t,dataTranslate:r,isGianthe:o}=e,[u,h]=(0,s.useState)({}),d=r.result,m=t.result[0];(0,s.useEffect)(()=>{},[o]);let p=(e,n)=>e.split(RegExp("(".concat(n,")"),"gi")).map((e,t)=>e.toLowerCase()===n.toLowerCase()?(0,i.jsx)("span",{style:{color:"red"},children:e},t):e),g=async e=>{try{let n=await c.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(e)));if(n.data)return n.data.sentences[0].trans;return e}catch(n){return console.error("Lỗi khi gọi API:",n),e}},v=async(e,n)=>{var t="";console.log(o),t=o?e:await g(e),h(e=>({...e,[n]:t}))};return((0,s.useEffect)(()=>{var e;d&&(null===(e=d[0])||void 0===e?void 0:e.content)&&d[0].content.forEach((e,n)=>{(null==e?void 0:e.means)&&e.means.forEach((e,t)=>{e.examples&&e.examples.forEach((e,i)=>{let s="".concat(n,"-").concat(t,"-").concat(i);v(e.e,s)})})})},[d,o]),t&&r)?(0,i.jsx)("div",{className:"tumoi-item",children:(0,i.jsx)("div",{className:"tumoi-display",children:d.map((e,t)=>(0,i.jsxs)("div",{className:"tumoi-result-item",children:[(0,i.jsxs)("div",{className:"tumoi-display-header",children:[console.log(e),(0,i.jsxs)("h4",{children:[e.word," 【",e.cn_vi,"】(",e.pinyin,") Bộ thủ: (",m.sets,") H\xecnh th\xe1i: (",m.hinhthai,")"]})]}),e.content.map((e,s)=>e.means.map((e,c)=>{let r=e.examples?e.examples:null,o=e.mean,h="".concat(t,"-").concat(s,"-").concat(c);return(0,i.jsxs)("div",{className:"tumoi-nghia",children:[(0,i.jsxs)("h4",{className:"tumoi-nghia-shower",children:["Nghĩa ",c+1," (Phần ",s+1,", Từ ",t+1,"): ",o]}),r&&r.map((e,r)=>{let o=e.e,h=e.m,d=e.p,m=u["".concat(t,"-").concat(s,"-").concat(c,"-").concat(r)]||o;return(0,i.jsxs)("div",{className:"tumoi-vidu",children:[(0,i.jsxs)("h5",{children:["V\xed dụ ",r+1]}),(0,i.jsx)("span",{children:p(m,n)}),(0,i.jsx)(a.Z,{className:"btn-phatamthanh",style:{maxWidth:"50px",maxHeight:"50px"},variant:"danger",onClick:()=>(0,l.Z)(o,r),children:"\uD83D\uDD0A"}),(0,i.jsx)("p",{children:d}),(0,i.jsx)("p",{children:h})]},r)}),(0,i.jsx)("hr",{})]},h)}))]},t))})}):null}},24075:function(){}},function(e){e.O(0,[5527,4358,7481,9208,9461,8765,4974,3539,8472,609,6666,6901,7468,5499,2971,7023,1744],function(){return e(e.s=63836)}),_N_E=e.O()}]);