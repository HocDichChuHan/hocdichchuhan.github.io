(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1673,8971],{64931:function(e,t,i){Promise.resolve().then(i.bind(i,60186))},60186:function(e,t,i){"use strict";i.d(t,{default:function(){return y}});var n=i(57437),a=i(2265),s=i(66802),c=i(12808),r=i(64379),l=i.n(r),o=i(65606);i(58833),i(10494),i(91795);var h=i(19768);i(87138),i(66648),i(31243);var d=i(23508);i(84109),i(58971);var u=i(2609),g=i(48342),m=i(62474),p=e=>{let{game:t,setGame:i}=e,a=(e,n,a)=>{let s=[...t];s[e][n]=a,i(s)},s=e=>{i(t.filter((t,i)=>i!==e))},r=async e=>{let t=await (0,m.Z)("CN");console.log(t),i(i=>{let n=[...i];return n[e].gianthe=t,n})},l=async e=>{var n,a,s;let c=(null===(n=t[e])||void 0===n?void 0:n.gianthe)||"";if(!c)return;let r=await (0,d.PA)(c),l=await (0,d.V2)(r);if(console.log(l.sentences),!(null==l?void 0:null===(a=l.sentences)||void 0===a?void 0:a.length))return;let o=(null===(s=l.sentences[l.sentences.length-1])||void 0===s?void 0:s.src_translit)||"",h=l.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");i(t=>{let i=[...t];return i[e].tiengtrung=r,i[e].pinyin=o,i[e].dichnghia=h,i})};return(0,n.jsxs)("div",{className:"cauhoi-container",children:[(0,n.jsx)("ul",{children:t&&t.map((e,t)=>(0,n.jsxs)("li",{className:"cauhoi-item",children:[(0,n.jsx)(c.Z,{variant:"success",onClick:()=>r(t),style:{marginTop:"10px"},children:"Get Voice"}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.gianthe,onChange:e=>a(t,"gianthe",e.target.value),placeholder:"中文简体"}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.tiengtrung,onChange:e=>a(t,"tiengtrung",e.target.value),placeholder:"中文繁體"}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.pinyin,onChange:e=>a(t,"pinyin",e.target.value),placeholder:"Pinyin"}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.dichnghia,onChange:e=>a(t,"dichnghia",e.target.value),placeholder:"Nghĩa"}),(0,n.jsx)(c.Z,{variant:"warning",onClick:()=>l(t),children:"GetPinyin"}),(0,n.jsx)(c.Z,{variant:"danger",size:"sm",onClick:()=>s(t),children:"❌ X\xf3a"}),(0,n.jsx)("hr",{})]},t))}),(0,n.jsx)(c.Z,{variant:"success",onClick:()=>{i([...t,{gianthe:"",tiengtrung:"",dichnghia:"",pinyin:""}])},children:"➕ Th\xeam C\xe2u hỏi"})]})},x=i(85328),v=i(1725),j=i(27220);function y(e){var t;let{id:i,hsk:r}=e,[m,y]=(0,a.useState)(!0),[f,N]=(0,a.useState)(),[k,w]=(0,a.useState)(),[C,b]=(0,a.useState)(),[Z,D]=(0,a.useState)(i),[S,T]=(0,a.useState)(),[E,L]=(0,a.useState)(!1),[A,G]=(0,a.useState)(!1),[P,_]=(0,a.useState)(!1),[H,M]=(0,a.useState)([]),[V,R]=(0,a.useState)([]),[O,I]=(0,a.useState)(),[B,z]=(0,a.useState)([]),[U,J]=(0,a.useState)([]);(0,a.useEffect)(()=>{X();let e=(0,d.GJ)(),t=(0,d.bg)();G(e),L(t)},[]);let X=async()=>{try{y(!0),await K();let e=await JSON.parse(localStorage.getItem("allData")),t=await e.find(e=>"hsk"===e.key),n=await t.value[r][i],a=await t.value[r];if(console.log(n),n.nguphap&&M(n.nguphap),n.cauhoi&&I(n.cauhoi),n.listen&&z(n.listen),n.speak&&J(n.speak),n.nguphapimg&&R(n.nguphapimg),n.nguphap||W(),T(a),!t||!t.value){console.error("No valid data found for 'phatam'");return}w(t),b(n),y(!1)}catch(e){y(!1),b([]),console.error("Error getting dichthuat data: ",e)}},F=e=>{let{value:t}=e.target;D(t)};f&&(t=f.split("="))[1]&&t[1].split("&")[0];let K=async()=>{try{let e=(await (0,o.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let t={};for(let i in e.value)if(e.value.hasOwnProperty(i)){let{username:n,password:a,...s}=e.value[i];t[i]=s}return{...e,value:t}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},$=async()=>{let e="/users/hsk/".concat(r,"/").concat(Z),t="/users/hsk/".concat(r,"/").concat(Z,"/nguphap"),i="/users/hsk/".concat(r,"/").concat(Z,"/cauhoi"),n="/users/hsk/".concat(r,"/").concat(Z,"/nguphapimg"),a="/users/hsk/".concat(r,"/").concat(Z,"/listen"),s="/users/hsk/".concat(r,"/").concat(Z,"/speak");y(!0);try{await Promise.all([(0,o.Pf)(e,C),(0,o.Pf)(t,H),(0,o.Pf)(i,O),(0,o.Pf)(n,V),(0,o.Pf)(a,B),(0,o.Pf)(s,U)]),y(!1),await l().fire({position:"center",icon:"success",title:"Cập nhật th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(t){console.error("Lỗi tạo b\xe0i mới:",t);let e={message:"Lỗi tạo b\xe0i mới: "+t.message};l().fire(t.message,"","info"),setState(t=>({...t,error:e}))}finally{y(!1)}},W=()=>{M([...H,{key:"",tieude:"",noidung:"",cachdung:[{noidung:"",vidu:[{tiengtrung:"",nghia:"",pinyin:""}]}]}])};return m?(0,n.jsx)(h.Z,{}):(0,n.jsx)(s.Z,{body:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-12 col-md-2 d-none d-md-inline",children:(0,n.jsx)(v.Z,{MucLuc:S,hsk:r})}),(0,n.jsx)("div",{className:"col-12 col-md-7",children:(0,n.jsxs)("div",{className:"giaotiepContainer",children:[(0,n.jsx)(c.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>$(),children:"Update"}),(0,n.jsx)("input",{type:"text",className:"form-control",name:"keyword",id:"","aria-describedby":"helpId",placeholder:"Nhập từ kh\xf3a",onChange:e=>F(e),value:Z||""}),(C&&0!==Object.keys(C).length||b({tieude:"",tieudepinyin:"",tieudedich:"",gianthe:"",hoithoai:[{hthoai:[{tiengtrung:"",pinyin:""}],dichnghia:[""],tumoi:[{tiengtrung:"",pinyin:"",nghia:""}]}]}),(0,n.jsx)(u.Z,{baihoc:C,setBaihoc:b,id:Z,nguphaps:H,setNguphap:M,setGameListen:z,gameListen:B,setGameSpeak:J,gameSpeak:U})),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-12 col-md-6",children:[(0,n.jsx)("h2",{children:"Chỉnh Sửa Game Listen"}),(0,n.jsx)(p,{game:B,setGame:z})]}),(0,n.jsxs)("div",{className:"col-12 col-md-6",children:[(0,n.jsx)("h2",{children:"Chỉnh Sửa Game Speak"}),(0,n.jsx)(p,{game:U,setGame:J})]})]}),(0,n.jsx)(g.Z,{cauhoi:O,setCauhoi:I}),(0,n.jsx)(x.Z,{nguphap:V,setnguphap:R})]})}),(0,n.jsx)("div",{className:"col-12 col-md-3",children:(0,n.jsx)(j.Z,{hsk:r,id:i})})]})})}},2609:function(e,t,i){"use strict";var n=i(57437);i(2265);var a=i(12808),s=i(23508),c=i(50658);i(48342);var r=i(62474),l=i(34231);i(78728),i(63806),t.Z=e=>{let{baihoc:t,setBaihoc:i,nguphaps:o,setNguphap:h,setGameListen:d,gameListen:u,setGameSpeak:g,gameSpeak:m}=e;if(!t)return null;let p=async(e,t)=>{i(i=>({...i,[e]:t}))},x=async(e,t)=>{let n=await (0,r.Z)(t);i(t=>({...t,[e]:n}))},v=async(e,n)=>{let a=await (0,r.Z)("CN");console.log(a);let s=[...t.hoithoai];s[e].hthoai[n].gianthe=a,i(e=>({...e,hoithoai:s}))},j=async(e,n)=>{let a=await (0,r.Z)("VN"),s=[...t.hoithoai];s[e].hthoai[n].dichnghia=a,i(e=>({...e,hoithoai:s}))},y=async(e,n)=>{let a=await (0,r.Z)("CN"),s=[...t.hoithoai];s[e].tumoi[n].gianthe=a,i(e=>({...e,hoithoai:s}))},f=async(e,n)=>{let a=await (0,r.Z)("VN"),s=[...t.hoithoai];s[e].tumoi[n].nghia=a,i(e=>({...e,hoithoai:s}))},N=async(e,n,a,s)=>{let c=[...t.hoithoai];c[e].hthoai[n][a]=s,i(e=>({...e,hoithoai:c}))},k=async(e,n,a)=>{let s=[...t.hoithoai];s[e].hthoai[n][a]=!s[e].hthoai[n][a],i(e=>({...e,hoithoai:s}))},w=async(e,i)=>{let n=[...t.hoithoai],a=n[e].hthoai[i].tiengtrung,s=n[e].hthoai[i].gianthe,c=n[e].hthoai[i].pinyin;d([...u,{gianthe:s,tiengtrung:a,dichnghia:n[e].hthoai[i].dichnghia,pinyin:c}])},C=async(e,i)=>{let n=[...t.hoithoai],a=n[e].hthoai[i].tiengtrung,s=n[e].hthoai[i].gianthe,c=n[e].hthoai[i].pinyin;g([...m,{gianthe:s,tiengtrung:a,dichnghia:n[e].hthoai[i].dichnghia,pinyin:c}])},b=async(e,n,a,s)=>{let c=[...t.hoithoai];c[e].tumoi[n][a]=s,i(e=>({...e,hoithoai:c}))},Z=()=>{i(e=>({...e,hoithoai:[...e.hoithoai,{hthoai:[{tiengtrung:"",pinyin:""}],dichnghia:[""],tumoi:[{tiengtrung:"",pinyin:"",nghia:""}]}]}))},D=e=>{i(t=>({...t,hoithoai:t.hoithoai.filter((t,i)=>i!==e)}))},S=e=>{let n=[...t.hoithoai];n[e].hthoai.push({tiengtrung:"",pinyin:""}),i(e=>({...e,hoithoai:n}))},T=(e,n)=>{let a=[...t.hoithoai];a[e].hthoai=a[e].hthoai.filter((e,t)=>t!==n),i(e=>({...e,hoithoai:a}))},E=e=>{let n=[...t.hoithoai];n[e].tumoi||(n[e].tumoi=[]),n[e].tumoi.push({tiengtrung:"",pinyin:"",nghia:""}),i(e=>({...e,hoithoai:n}))},L=(e,n)=>{let a=[...t.hoithoai];a[e].tumoi=a[e].tumoi.filter((e,t)=>t!==n),i(e=>({...e,hoithoai:a}))},A=async e=>{var t;let n=await (0,s.PA)(e),a=await (0,s.V2)(n);if(console.log(a.sentences),!a||!a.sentences||0===a.sentences.length)return;let c=(null===(t=a.sentences[a.sentences.length-1])||void 0===t?void 0:t.src_translit)||"",r=a.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");i(e=>({...e,tieude:n,tieudepinyin:c,tieudedich:r}))},G=async(e,t,n)=>{var a;let c=await (0,s.PA)(e),r=await (0,s.V2)(c);if(console.log(r.sentences),!r||!r.sentences||0===r.sentences.length)return;let l=(null===(a=r.sentences[r.sentences.length-1])||void 0===a?void 0:a.src_translit)||"",o=r.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");i(e=>{let i=[...e.hoithoai];return i[t].hthoai[n].tiengtrung=c,i[t].hthoai[n].pinyin=l,i[t].hthoai[n].dichnghia=o,{...e,hoithoai:i}})},P=async(e,t,n)=>{let a="",c="",r="",l=!1;try{let t=await (0,s.yI)(e);a=t.result[0].cn_vi,c=t.result[0].pinyin,r=t.result[0].content[0].means[0].mean,l=!0}catch(e){console.log("dataHanviet: null")}let o=await (0,s.PA)(e);if(!l){var h;let e=await (0,s.V2)(o);if(console.log(e.sentences),!e||!e.sentences||0===e.sentences.length)return;c=(null===(h=e.sentences[e.sentences.length-1])||void 0===h?void 0:h.src_translit)||"",r=e.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ")}i(e=>{let i=[...e.hoithoai];return i[t].tumoi[n].tiengtrung=o,i[t].tumoi[n].pinyin=c,i[t].tumoi[n].hanviet=a,i[t].tumoi[n].nghia=r,{...e,hoithoai:i}})},_=async(e,t,n)=>{try{let a=await (0,s.yI)(e);console.log(a);let c=a.result[0].cn_vi;i(e=>{let i=[...e.hoithoai];return i[t].tumoi[n].hanviet=c,{...e,hoithoai:i}})}catch(e){console.log("dataHanviet: null");return}};return(0,n.jsxs)("div",{className:"baihocgiaotiep-container",children:[(0,n.jsx)("input",{type:"text",className:"baihocgiaotiep-title",value:t.gianthe,onChange:e=>p("gianthe",e.target.value)}),(0,n.jsx)("input",{type:"text",className:"baihocgiaotiep-title",value:t.tieude}),(0,n.jsx)(a.Z,{variant:"success",onClick:()=>x("gianthe","CN"),children:"GetVoice Ti\xeau Đề B\xe0i Học"}),(0,n.jsx)("input",{type:"text",className:"baihocgiaotiep-title",value:t.tieudedich,onChange:e=>p("tieudedich",e.target.value)}),(0,n.jsx)("input",{type:"text",className:"baihocgiaotiep-pinyin",value:t.tieudepinyin,onChange:e=>p("tieudepinyin",e.target.value)}),(0,n.jsx)("input",{type:"text",className:"baihocgiaotiep-pinyin",placeholder:"Link youtube",value:t.linkyt,onChange:e=>p("linkyt",e.target.value)}),(0,n.jsx)(a.Z,{variant:"success",onClick:()=>x("tieudedich","CN"),children:"GetVoice Ti\xeau Đề Nghĩa"}),(0,n.jsx)(a.Z,{variant:"warning",onClick:()=>A(t.gianthe),children:"GetPinyin"}),(0,n.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:t.hoithoai.map((e,t)=>(0,n.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,n.jsx)(a.Z,{variant:"danger",onClick:()=>D(t),children:"X\xf3a Hội Thoại N\xe0y"}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-12 col-md-6",children:[e.hthoai.map((e,i)=>(0,n.jsxs)("div",{children:[(0,n.jsx)(a.Z,{variant:"danger",onClick:()=>T(t,i),style:{marginTop:"10px"},children:"X\xf3a c\xe2u n\xe0y"}),(0,n.jsx)(a.Z,{variant:"success",onClick:()=>v(t,i),style:{marginTop:"10px"},children:"Get Voice"}),(0,n.jsx)(l.Z,{value:e.gianthe||"",placeholder:"中文简体",className:"fs-3 baihocgiaotiep-tiengtrung2 tiengtrungText",onChange:e=>N(t,i,"gianthe",e.target.value)}),(0,n.jsx)(l.Z,{value:e.tiengtrung,placeholder:"中文",className:"fs-3 baihocgiaotiep-tiengtrung2 tiengtrungText",onChange:e=>N(t,i,"tiengtrung",e.target.value)}),(0,n.jsx)(l.Z,{value:e.pinyin,placeholder:"pinyin",className:"baihocgiaotiep-pinyin",onChange:e=>N(t,i,"pinyin",e.target.value)}),(0,n.jsx)(l.Z,{value:e.dichnghia,placeholder:"dichnghia",className:"baihocgiaotiep-dichnghia",onChange:e=>N(t,i,"dichnghia",e.target.value)}),e.ischeck&&(0,n.jsx)(a.Z,{variant:"primary",onClick:()=>k(t,i,"ischeck"),children:"Check"}),!e.ischeck&&(0,n.jsx)(a.Z,{variant:"secondary",onClick:()=>k(t,i,"ischeck"),children:"Dont Check"}),(0,n.jsx)(a.Z,{variant:"danger",onClick:()=>w(t,i),children:"add Listen"}),(0,n.jsx)(a.Z,{variant:"primary",onClick:()=>C(t,i),children:"add Speak"}),(0,n.jsx)(a.Z,{variant:"success",onClick:()=>j(t,i),children:"Get Voice Dịch"}),(0,n.jsx)(a.Z,{variant:"warning",onClick:()=>G(e.gianthe,t,i),children:"GetPinyin"}),(0,n.jsx)("hr",{})]},i)),(0,n.jsx)(a.Z,{variant:"info",onClick:()=>S(t),children:"Th\xeam c\xe2u hội thoại"})]}),(0,n.jsx)("div",{className:"col-12 col-md-6",children:(0,n.jsxs)("div",{className:"baihocgiaotiep-tumoi",children:[(0,n.jsx)("h2",{children:"Từ mới"}),(0,n.jsx)("ul",{children:e.tumoi&&e.tumoi.map((e,i)=>(0,n.jsxs)("li",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(a.Z,{variant:"success",onClick:()=>y(t,i),children:"Get Voice"}),(0,n.jsx)("input",{type:"text",className:"tiengtrungText fs-3",value:e.gianthe?e.gianthe:"",placeholder:"中文简体",onChange:e=>b(t,i,"gianthe",e.target.value)}),(0,n.jsx)("input",{type:"text",className:"tiengtrungText fs-3",value:e.tiengtrung,placeholder:"中文",onChange:e=>b(t,i,"tiengtrung",e.target.value)}),(0,n.jsx)("input",{type:"text",className:"pinyinText",placeholder:"pinyin",value:e.pinyin,onChange:e=>b(t,i,"pinyin",e.target.value)}),(0,n.jsx)("input",{type:"text",className:"nghiaText",placeholder:"H\xe1n Việt",value:e.hanviet,onChange:e=>b(t,i,"hanviet",e.target.value)}),(0,n.jsx)("input",{type:"text",className:"nghiaText",placeholder:"nghĩa",value:e.nghia,onChange:e=>b(t,i,"nghia",e.target.value)}),(0,n.jsx)(a.Z,{variant:"success",onClick:()=>f(t,i),children:"Get Voice Dịch"}),(0,n.jsx)(a.Z,{variant:"warning",onClick:()=>P(e.gianthe,t,i),children:"GetPinyin"}),(0,n.jsx)(a.Z,{variant:"primary",className:"ms-2",onClick:()=>_(e.gianthe,t,i),children:"Get H\xe1n Việt"})]}),(0,n.jsx)("div",{children:(0,n.jsx)(a.Z,{variant:"danger",onClick:()=>L(t,i),children:"X\xf3a từ mới n\xe0y"})})]},i))}),(0,n.jsx)(a.Z,{variant:"info",onClick:()=>E(t),children:"Th\xeam Từ Mới"})]})})]}),(0,n.jsx)(a.Z,{variant:"warning",onClick:()=>Z(),children:"Th\xeam Hội Thoại Kh\xe1c"})]},t))}),(0,n.jsx)("h1",{children:"Ngữ Ph\xe1p Area"}),o?(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Z,{nguphaps:o,setNguphap:h}),(0,n.jsx)("hr",{})]}):null]})}},58971:function(e,t,i){"use strict";var n=i(57437),a=i(2265),s=i(66648),c=i(89745),r=i(12808),l=i(21682),o=i(77761),h=i(38472),d=i(62034);i(10494);var u=i(23508),g=i(57295),m=i(91654);t.Z=e=>{let{baihoc:t,id:i,nguphaps:p,isGianthe:x,hsk:v}=e,[j,y]=(0,a.useState)(!1),[f,N]=(0,a.useState)([]),k=(0,a.useRef)([]),[w,C]=(0,a.useState)(null),[b,Z]=(0,a.useState)(!1),[D,S]=(0,a.useState)(),[T,E]=(0,a.useState)(),L=(0,a.useRef)(null),A=i.replace(/b0/gi,""),G=async e=>{try{N([]),C(e),Z(!0),await P(e);let t="https://tiengtrungdongyang.com/huongdanviet/".concat(e.charCodeAt(0),".svg"),i=await _(t),n=await h.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!n.data.found)throw Error("Network response was not ok");let a=await h.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=word&page=1&limit=50"));if(!a.data.found)throw Error("Network response was not ok");S(n.data),E(a.data),y(i)}catch(e){console.error("Error fetching Hanzi data:",e)}},P=async e=>{try{let t=await fetch("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!t.ok)throw Error("Network response was not ok");let i=await t.json();if(i.found&&i.result.length>0){let e=JSON.parse(i.result[0].strokes);N(e.strokes)}}catch(e){console.error("Error fetching Hanzi data:",e)}};(0,a.useEffect)(()=>{let e=e=>{L.current&&!L.current.contains(e.target)&&(C(null),Z(!1))};return b&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[b]),(0,a.useEffect)(()=>{f.length>0&&setTimeout(()=>{k.current.forEach((e,t)=>{if(e){let i=e.getTotalLength();e.style.strokeDasharray=i,e.style.strokeDashoffset=i,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[f]);let _=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch(e){return console.error("Lỗi khi kiểm tra đường dẫn:",e),!1}};t.linkyt&&t.linkyt;let H=e=>{let t=e.map(e=>e.gianthe).filter(Boolean);(0,c.M)(t)};return t?(0,n.jsxs)("div",{className:"baihocgiaotiep-container",children:[(0,n.jsxs)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-number",children:["B\xe0i ",A,": "]}),(0,n.jsx)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-tiengtrung tiengtrungText",children:x?t.gianthe:t.tieude}),(0,n.jsxs)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-tieude",children:["(",t.tieudedich,")"]}),(0,n.jsx)(o.Z,{showStrokeArea:b,activeCharacter:w,strokes:f,pathsRef:k,isShowImage:j,dataTranslate:T,dataWrite:D,strokeAreaRef:L}),(0,n.jsx)("span",{className:"baihocgiaotiep-pinyin",children:t.tieudepinyin}),(0,n.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:t.hoithoai.map((e,t)=>(0,n.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,n.jsxs)("h2",{children:["Hội Thoại ",t+1,":"]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-12 col-md-6",children:[(0,n.jsx)(r.Z,{className:"",variant:"danger",onClick:()=>H(e.hthoai),children:"Nghe To\xe0n B\xe0i \uD83D\uDD0A"}),e.hthoai.map((t,i)=>(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"baihocgiaotiep-tiengtrung tiengtrungText",children:[i%2==0?"A: ":"B: ",x&&t.gianthe.split("\n").map((t,i)=>(0,n.jsxs)("span",{children:[e.tumoi?(0,u.Gv)(t,e.tumoi.map(e=>e.gianthe)):(0,n.jsx)(m.Z,{chineseList:t,isGianthe:!0}),(0,n.jsx)("br",{})]},i)),!x&&t.tiengtrung.split("\n").map((t,i)=>(0,n.jsxs)("span",{children:[e.tumoi?(0,u.Gv)(t,e.tumoi.map(e=>e.tiengtrung)):(0,n.jsx)(m.Z,{chineseList:t,isGianthe:!0}),(0,n.jsx)("br",{})]},i))]}),(0,n.jsx)(r.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>(0,c.Z)(t.gianthe,i),children:"\uD83D\uDD0A"}),(0,n.jsxs)("p",{className:"baihocgiaotiep-pinyin",children:[i%2==0?"A: ":"B: ",t.pinyin.split("\n").map((e,t)=>(0,n.jsxs)("span",{children:[e,(0,n.jsx)("br",{})]},t))]})]},i))]}),(0,n.jsxs)("div",{className:"col-12 col-md-6",children:[(0,n.jsx)("div",{className:"image-container",children:(0,n.jsx)(s.default,{src:"https://tiengtrungdongyang.com/img/".concat(v,"/").concat(i,"_ht").concat(t+1,".png"),alt:"H\xecnh ảnh",width:600,height:600,layout:"intrinsic",className:"image-styled",style:{objectFit:"contain"}})}),(0,n.jsx)(g.Z,{tumoi:e.tumoi,isGianthe:!0,isShowpinyin:!0})]})]}),(0,n.jsx)("hr",{}),(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-12",children:(0,n.jsxs)("div",{className:"baihocgiaotiep-tumoi",children:[(0,n.jsx)("h2",{children:"Dịch Nghĩa"}),e.hthoai.map((e,t)=>(0,n.jsx)("div",{children:(0,n.jsxs)("p",{className:"baihocgiaotiep-dichnghia",children:[t%2==0?"A: ":"B: ",e.dichnghia.split("\n").map((e,t)=>(0,n.jsxs)("span",{children:[e,(0,n.jsx)("br",{})]},t))]})},t))]})})}),(0,n.jsx)("br",{}),(0,n.jsx)("hr",{}),(0,n.jsx)("br",{})]},t))}),(0,n.jsx)("hr",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("h1",{children:"Ngữ Ph\xe1p"}),(0,n.jsx)(l.Z,{nguphaps:p,isGianthe:x}),t.cauhoi&&(0,n.jsx)(d.Z,{cauHoi:t.cauhoi,fetSelectedword:G,isGianthe:x})]}):null}},1725:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var n=i(57437);i(2265),i(66802),i(64379),i(65606),i(58833),i(10494),i(91795),i(19768);var a=i(87138);i(66648),i(31243),i(23508),i(84109),i(85151),i(39898);var s=i(16463);function c(e){let{MucLuc:t,hsk:i}=e,c=(0,s.usePathname)();if(!t)return null;let r=Object.keys(t);return(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("h5",{className:"mb-3",children:["\uD83D\uDCDA Mục Lục ",i.toUpperCase()]}),(0,n.jsx)("ul",{className:"list-group",children:r.map((e,s)=>{let r=t[e],l=(null==r?void 0:r.tieude)||"Kh\xf4ng c\xf3 ti\xeau đề",o=(null==r?void 0:r.tieudedich)||"",h="/hsk/".concat(i,"/").concat(e),d=c===h;return(0,n.jsx)("li",{className:"list-group-item list-group-item-action p-3 ".concat(d?"active":""),style:{cursor:"pointer"},children:(0,n.jsxs)(a.default,{href:h,className:"text-decoration-none d-block ".concat(d?"text-white":"text-dark"),children:[(0,n.jsxs)("div",{className:"text-center fw-bold fs-5 mb-1",children:["B\xe0i ",s+1]}),(0,n.jsx)("div",{className:"text-center fw-bold tiengtrungText",style:{color:d?"white":"red"},children:l}),(0,n.jsx)("div",{className:"text-center",children:o})]})},e)})})]})}},62034:function(e,t,i){"use strict";var n=i(57437),a=i(2265),s=i(12808),c=i(89745);t.Z=e=>{let{cauHoi:t,fetSelectedword:i,isGianthe:r}=e,[l,o]=(0,a.useState)({}),h=e=>{o(t=>({...t,[e]:!t[e]}))};return(0,n.jsxs)("div",{className:"cauhoi-container",children:[(0,n.jsx)("h2",{children:"C\xe2u Hỏi Trong B\xe0i"}),(0,n.jsx)("ul",{children:t.map((e,t)=>(0,n.jsxs)("li",{children:[(0,n.jsxs)("div",{className:"chinese-word",children:[!r&&e.tiengtrung.split("").map((e,t)=>(0,n.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>i(e),children:e},t)),r&&e.gianthe.split("").map((e,t)=>(0,n.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>i(e),children:e},t))]}),(0,n.jsx)("p",{children:e.pinyin}),l[t]&&(0,n.jsx)("p",{className:"nghia",children:e.nghia}),(0,n.jsx)(s.Z,{variant:"secondary",size:"sm",onClick:()=>h(t),style:{marginRight:"8px"},children:l[t]?"Ẩn Nghĩa":"Hiện Nghĩa"}),(0,n.jsx)(s.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,c.Z)(e.gianthe,t+10),children:"\uD83D\uDD0A"}),(0,n.jsx)("hr",{})]},t))})]})}},48342:function(e,t,i){"use strict";var n=i(57437);i(2265);var a=i(12808),s=i(89745),c=i(23508),r=i(62474);t.Z=e=>{let{cauhoi:t=[],setCauhoi:i,fetSelectedword:l,dichnghia:o=!1}=e,h=async(e,n,a)=>{let s=[...t];s[e][n]=a,i(s)},d=async(e,n,a)=>{let s=await (0,r.Z)(a),c=[...t];c[e][n]=s,i(c)},u=()=>{i([...t,{tiengtrung:"",pinyin:"",nghia:""}])},g=e=>{i(t.filter((t,i)=>i!==e))},m=async(e,t)=>{try{var n;let a=await (0,c.PA)(e),s=await (0,c.V2)(a);if(console.log(s.sentences),!s||!s.sentences||0===s.sentences.length)return;let r=(null===(n=s.sentences[s.sentences.length-1])||void 0===n?void 0:n.src_translit)||"",l=s.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");i(e=>{let i=[...e];return i[t]={...i[t],pinyin:r,nghia:l,tiengtrung:a},i})}catch(e){console.error("Lỗi khi lấy Pinyin:",e)}};return(0,n.jsxs)("div",{className:"cauhoi-container",children:[(0,n.jsx)("h2",{children:"Chỉnh Sửa C\xe2u Hỏi"}),(0,n.jsx)("ul",{children:t&&t.map((e,t)=>(0,n.jsxs)("li",{className:"cauhoi-item",children:[(0,n.jsxs)("h2",{children:[t+1,": ",e.bai?"B\xe0i ".concat(e.bai):null]}),(0,n.jsx)(a.Z,{variant:"success",onClick:()=>d(t,"gianthe","CN"),children:"GetVoice C\xe2u Hỏi"}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.gianthe,onChange:e=>h(t,"gianthe",e.target.value),placeholder:"简体中文 "}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.tiengtrung,onChange:e=>h(t,"tiengtrung",e.target.value),placeholder:"Nhập c\xe2u hỏi tiếng Trung"}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.pinyin,onChange:e=>h(t,"pinyin",e.target.value),placeholder:"Nhập phi\xean \xe2m"}),(0,n.jsx)("div",{className:"chinese-word",children:e.tiengtrung.split("").map((e,t)=>(0,n.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>l(e),children:e},t))}),!o&&(0,n.jsx)("input",{type:"text",className:"form-control",value:e.nghia,onChange:e=>h(t,"nghia",e.target.value),placeholder:"Nhập nghĩa"}),o&&(0,n.jsx)("input",{type:"text",className:"form-control",value:e.dichnghia,onChange:e=>h(t,"dichnghia",e.target.value),placeholder:"Nhập nghĩa"}),(0,n.jsx)(a.Z,{variant:"success",onClick:()=>d(t,"nghia","VN"),children:"GetVoice Nghĩa"}),(0,n.jsx)(a.Z,{variant:"warning",onClick:()=>m(e.gianthe,t),children:"GetPinyin"}),(0,n.jsx)(a.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,s.Z)(e.gianthe,t+10),children:"\uD83D\uDD0A"}),(0,n.jsx)(a.Z,{variant:"danger",size:"sm",onClick:()=>g(t),children:"❌ X\xf3a"}),(0,n.jsx)("hr",{})]},t))}),(0,n.jsx)(a.Z,{variant:"success",onClick:()=>u(),children:"➕ Th\xeam C\xe2u Hỏi"})]})}},21682:function(e,t,i){"use strict";var n=i(57437),a=i(2265),s=i(12808),c=i(23508),r=i(89745),l=i(77761),o=i(38472);t.Z=e=>{let{nguphaps:t,isGianthe:i}=e,[h,d]=(0,a.useState)(!1),[u,g]=(0,a.useState)([]),m=(0,a.useRef)([]),[p,x]=(0,a.useState)(null),[v,j]=(0,a.useState)(!1),[y,f]=(0,a.useState)(),[N,k]=(0,a.useState)(),w=(0,a.useRef)(null),[C,b]=(0,a.useState)({}),Z=async e=>{try{g([]),x(e),j(!0),await D(e);let t="https://tiengtrungdongyang.com/huongdanviet/".concat(e.charCodeAt(0),".svg"),i=await S(t),n=await o.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!n.data.found)throw Error("Network response was not ok");let a=await o.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=word&page=1&limit=50"));if(!a.data.found)throw Error("Network response was not ok");f(n.data),k(a.data),d(i)}catch(e){console.error("Error fetching Hanzi data:",e)}},D=async e=>{try{let t=await fetch("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!t.ok)throw Error("Network response was not ok");let i=await t.json();if(console.log(i),i.found&&i.result.length>0){let e=JSON.parse(i.result[0].strokes);g(e.strokes)}}catch(e){console.error("Error fetching Hanzi data:",e)}};(0,a.useEffect)(()=>{let e=e=>{w.current&&!w.current.contains(e.target)&&(x(null),j(!1))};return v&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[v]),(0,a.useEffect)(()=>{u.length>0&&setTimeout(()=>{m.current.forEach((e,t)=>{if(e){let i=e.getTotalLength();e.style.strokeDasharray=i,e.style.strokeDashoffset=i,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[u]);let S=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch(e){return console.error("Lỗi khi kiểm tra đường dẫn:",e),!1}},T=(e,t,i)=>{let n="".concat(e,"_").concat(t,"_").concat(i);b(e=>({...e,[n]:!e[n]}))};return t&&0!==t.length?t.map((e,t)=>(0,n.jsxs)("div",{className:"nguphapshow-container",children:[p&&(0,n.jsx)(l.Z,{isGianthe:i,showStrokeArea:v,activeCharacter:p,strokes:u,pathsRef:m,isShowImage:h,dataTranslate:N,dataWrite:y,strokeAreaRef:w}),(0,n.jsxs)("h3",{children:[(0,c.LA)(e.tieude,e.key)," ",(0,c.LA)(e.keygianthe,"Giản Thể: "+(e.keygianthe||""))]}),e.cachdung&&e.cachdung.map((a,l)=>(0,n.jsx)("div",{className:"card border-primary",children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsxs)("h4",{className:"card-title",children:["C\xe1ch d\xf9ng ",e.cachdung.length>1&&l+1,":"]}),(0,n.jsx)("h5",{children:(0,c.LA)(a.noidung,e.key)}),(0,n.jsx)("hr",{}),a.vidu.map((a,o)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"nguphapViduContainer d-flex justify-content-between align-items-center",children:(0,n.jsx)(s.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,r.Z)(a.tiengtrung,o+200),children:"\uD83D\uDD0A"})}),(0,n.jsxs)("div",{className:"nguphapVidu chinese-word",children:[!i&&a.tiengtrung&&a.tiengtrung.split("").map((t,i)=>(0,n.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>Z(t),children:(0,c.LA)(t||"",e.key)},i)),i&&a.gianthe&&a.gianthe.split("").map((t,i)=>(0,n.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>Z(t),children:(0,c.LA)(t||"",e.keygianthe)},i))]}),(0,n.jsx)("p",{children:a.pinyin||""}),C["".concat(t,"_").concat(l,"_").concat(o)]&&(0,n.jsx)("p",{children:a.nghia||""}),(0,n.jsx)(s.Z,{variant:C["".concat(t,"_").concat(l,"_").concat(o)]?"primary":"secondary",onClick:()=>T(t,l,o),children:C["".concat(t,"_").concat(l,"_").concat(o)]?"Ẩn nghĩa":"Hiện nghĩa"}),(0,n.jsx)("hr",{})]},o))]})},l))]},t)):null}},85328:function(e,t,i){"use strict";var n=i(57437),a=i(2265),s=i(12808);i(23508);var c=i(34231);t.Z=e=>{let{nguphap:t,setnguphap:i}=e;(0,a.useEffect)(()=>{let e=e=>{if(e.target&&e.target.classList.contains("btn-show-mean")){let t=e.target.getAttribute("data-bs-toggle");document.getElementById("meaning"),t&&(t.style.display="none"===t.style.display?"block":"none")}};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]);let r=(e,n,a)=>{let s=[...t];s[e][n]=a,i(s),console.log(a)},l=e=>{i(t.filter((t,i)=>i!==e))};return(0,n.jsxs)("div",{className:"cauhoi-container",children:[(0,n.jsx)("h2",{children:"Chỉnh Sửa Ngữ Ph\xe1p Image"}),(0,n.jsx)("ul",{children:t&&t.map((e,t)=>(0,n.jsxs)("li",{className:"cauhoi-item",children:[(0,n.jsx)("input",{type:"text",className:"form-control",value:e.tieude,onChange:e=>r(t,"tieude",e.target.value),placeholder:"Nhập ti\xeau đề"}),(0,n.jsx)(c.Z,{value:e.noidung,onChange:e=>r(t,"noidung",e.target.value),placeholder:"Nhập nội dung"}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.src,onChange:e=>r(t,"src",e.target.value),placeholder:"Nhập Link Image"}),e.noidung&&(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:e.noidung}}),(0,n.jsx)(s.Z,{variant:"danger",size:"sm",onClick:()=>l(t),children:"❌ X\xf3a"}),(0,n.jsx)("hr",{})]},t))}),(0,n.jsx)(s.Z,{variant:"success",onClick:()=>{i([...t,{src:"",tieude:"",noidung:""}])},children:"➕ Th\xeam Ngữ Ph\xe1p"})]})}},27220:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var n=i(57437),a=i(2265);i(66802),i(64379);var s=i(65606);i(58833),i(10494),i(91795),i(19768),i(87138);var c=i(66648);i(31243),i(23508),i(84109),i(85151),i(39898);var r=i(60516);function l(e){let{hsk:t,id:i}=e,[l,o]=(0,a.useState)([]),[h,d]=(0,a.useState)(null),[u,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e="".concat(t,"_").concat(i),n=(0,r.iH)(s.db,"/user/account"),a=(0,r.jM)(n,async t=>{let i=t.val();i&&(!function(){let e=new Date;Array.from({length:7}).map((t,i)=>{let n=new Date(e);return n.setDate(e.getDate()-i),n.toISOString().slice(0,10)})}(),Object.entries(i).forEach(t=>{var i;let[n,a]=t,{nghe:c=0,noi:l=0,doc:h=0,viet:d=0,nghia:u=0,cauhoi:g=0,pinyin:m=0}=(null==a?void 0:null===(i=a.diem)||void 0===i?void 0:i[e])||{};if(!(c||l||h||d||u||g||m))return;let p={uid:n,name:a.name||"Kh\xf4ng r\xf5 t\xean",photoURL:a.photoURL||"Kh\xf4ng r\xf5 link",diem:{nghe:c,noi:l,doc:h,viet:d,nghia:u,cauhoi:g,pinyin:m},isOnline:!1},x=(0,r.iH)(s.db,"user/status/".concat(n));(0,r.jM)(x,e=>{var t;p.isOnline=e.exists()&&(null===(t=e.val())||void 0===t?void 0:t.isOnline),o(e=>[...e.filter(e=>e.uid!==n),p])})}))});return()=>a()},[t,i]);let m=[...l].map(e=>({...e,tong:Math.ceil(e.diem.nghe||0)+Math.ceil(e.diem.noi||0)+Math.ceil(e.diem.doc||0)+Math.ceil(e.diem.nghia||0)+Math.ceil(e.diem.viet||0)+Math.ceil(e.diem.pinyin||0)+Math.ceil(e.diem.cauhoi||0)})).sort((e,t)=>t.tong-e.tong);return(0,n.jsxs)("div",{className:"w-full max-w-md mx-auto mt-4 shadow rounded-xl p-3",style:{width:"100%",cursor:"pointer",borderRadius:"10px",backgroundColor:"white"},children:[(0,n.jsxs)("h3",{className:"text-lg font-bold text-center mb-4",children:["\uD83C\uDF96 Bảng Điểm ",(0,n.jsxs)("span",{className:"fst-italic fw-semibold",children:[(e=>{if(/^b\d+$/i.test(e)){let t=Number(e.replace(/\D/g,""));return"".concat(t)}if(/^hsk(\d+)_b(\d+)$/i.test(e)){let[,t,i]=e.match(/^hsk(\d+)_b(\d+)$/i);return"HSK".concat(t," B\xe0i ").concat(Number(i))}return e})(i)," "]}),"\uD83C\uDF96"]}),(0,n.jsx)("div",{className:"",style:{width:"100%"},children:m.map((e,t)=>(0,n.jsxs)("div",{onClick:()=>g(u===e.uid?null:e.uid),className:"relative bg-white p-3 my-2 rounded-xl shadow flex justify-between items-center group hover:bg-yellow-50 transition",style:{width:"100%",cursor:"pointer",borderRadius:"10px",backgroundColor:"white"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#FEF3C7",onMouseLeave:e=>e.currentTarget.style.backgroundColor="white",children:[(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-3",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-3",children:[(0,n.jsx)(c.default,{src:e.photoURL,alt:"avatar",width:"40",height:"40",className:"rounded-circle border border-1"}),(0,n.jsx)("span",{className:"fw-semibold mx-2",children:e.name}),(0,n.jsx)("div",{className:"ms-2",style:{width:10,height:10,borderRadius:"50%",backgroundColor:e.isOnline?"green":"red"},title:e.isOnline?"Đang online":"Offline"})]}),(0,n.jsx)("div",{className:"fw-semibold",children:(0,n.jsx)("span",{className:"text-danger fw-bold",children:e.tong})})]})}),u===e.uid&&(0,n.jsx)("div",{className:"w-100 mt-3",children:(0,n.jsxs)("div",{className:"text-muted small",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{className:"mx-2",children:"⛩️ Pinyin: "})," ",Math.ceil(e.diem.pinyin||0)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{className:"mx-2",children:"\uD83D\uDC42 Nghe: "})," ",Math.ceil(e.diem.nghe||0)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{className:"mx-2",children:"\uD83D\uDDE3 N\xf3i: "})," ",Math.ceil(e.diem.noi||0)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{className:"mx-2",children:"\uD83D\uDCD6 Đọc: "})," ",Math.ceil(e.diem.doc||0)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{className:"mx-2",children:"\uD83D\uDCA1 Nghĩa Của Từ: "})," ",Math.ceil(e.diem.nghia||0)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{className:"mx-2",children:"✍️ Viết: "})," ",Math.ceil(e.diem.viet||0)]}),0!=e.diem.cauhoi&&(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{className:"mx-2",children:"✍️ Vấn Đ\xe1p: "})," ",Math.ceil(e.diem.cauhoi||0)]})]})})]},e.uid))})]})}},78728:function(e,t,i){"use strict";async function n(e){let t=await fetch("/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e})}),i=await t.json();return console.log(i),i.result}i.d(t,{y:function(){return n}})}},function(e){e.O(0,[5613,1953,770,5527,7539,4358,7481,9208,9461,8765,4974,3539,8472,609,3830,6901,6802,1654,4547,5192,658,3104,3806,7295,5438,2971,7023,1744],function(){return e(e.s=64931)}),_N_E=e.O()}]);