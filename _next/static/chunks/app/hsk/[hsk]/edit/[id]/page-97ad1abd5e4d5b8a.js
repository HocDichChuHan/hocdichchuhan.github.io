(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1673],{4931:function(e,a,t){Promise.resolve().then(t.bind(t,186))},186:function(e,a,t){"use strict";t.d(a,{default:function(){return j}});var n=t(7437),i=t(2265),s=t(8708),l=t(2808),c=t(4379),r=t.n(c),o=t(5606);t(8833),t(494),t(1795);var h=t(9768);t(7138),t(6648),t(1243);var u=t(3508);t(4109),t(8971);var d=t(7227),g=t(8342),p=t(2474),m=e=>{let{game:a,setGame:t}=e,i=(e,n,i)=>{let s=[...a];s[e][n]=i,t(s)},s=e=>{t(a.filter((a,t)=>t!==e))},c=async e=>{let a=await (0,p.Z)("CN");console.log(a),t(t=>{let n=[...t];return n[e].gianthe=a,n})},r=async e=>{var n,i,s;let l=(null===(n=a[e])||void 0===n?void 0:n.gianthe)||"";if(!l)return;let c=await (0,u.PA)(l),r=await (0,u.V2)(c);if(console.log(r.sentences),!(null==r?void 0:null===(i=r.sentences)||void 0===i?void 0:i.length))return;let o=(null===(s=r.sentences[r.sentences.length-1])||void 0===s?void 0:s.src_translit)||"",h=r.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");t(a=>{let t=[...a];return t[e].tiengtrung=c,t[e].pinyin=o,t[e].dichnghia=h,t})};return(0,n.jsxs)("div",{className:"cauhoi-container",children:[(0,n.jsx)("ul",{children:a&&a.map((e,a)=>(0,n.jsxs)("li",{className:"cauhoi-item",children:[(0,n.jsx)(l.Z,{variant:"success",onClick:()=>c(a),style:{marginTop:"10px"},children:"Get Voice"}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.gianthe,onChange:e=>i(a,"gianthe",e.target.value),placeholder:"中文简体"}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.tiengtrung,onChange:e=>i(a,"tiengtrung",e.target.value),placeholder:"中文繁體"}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.pinyin,onChange:e=>i(a,"pinyin",e.target.value),placeholder:"Pinyin"}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.dichnghia,onChange:e=>i(a,"dichnghia",e.target.value),placeholder:"Nghĩa"}),(0,n.jsx)(l.Z,{variant:"warning",onClick:()=>r(a),children:"GetPinyin"}),(0,n.jsx)(l.Z,{variant:"danger",size:"sm",onClick:()=>s(a),children:"❌ X\xf3a"}),(0,n.jsx)("hr",{})]},a))}),(0,n.jsx)(l.Z,{variant:"success",onClick:()=>{t([...a,{gianthe:"",tiengtrung:"",dichnghia:"",pinyin:""}])},children:"➕ Th\xeam C\xe2u hỏi"})]})},v=t(5328),x=t(1725),f=t(7220);function j(e){var a;let{id:t,hsk:c}=e,[p,j]=(0,i.useState)(!0),[y,N]=(0,i.useState)(),[k,C]=(0,i.useState)(),[S,w]=(0,i.useState)(),[Z,P]=(0,i.useState)(t),[b,G]=(0,i.useState)(),[L,_]=(0,i.useState)(!1),[E,O]=(0,i.useState)(!1),[I,D]=(0,i.useState)(!1),[J,T]=(0,i.useState)([]),[z,B]=(0,i.useState)([]),[U,V]=(0,i.useState)(),[X,A]=(0,i.useState)([]),[M,q]=(0,i.useState)([]);(0,i.useEffect)(()=>{F();let e=(0,u.GJ)(),a=(0,u.bg)();O(e),_(a)},[]);let F=async()=>{try{j(!0),await K();let e=await JSON.parse(localStorage.getItem("allData")),a=await e.find(e=>"hsk"===e.key),n=await a.value[c][t],i=await a.value[c];if(console.log(n),n.nguphap&&T(n.nguphap),n.cauhoi&&V(n.cauhoi),n.listen&&A(n.listen),n.speak&&q(n.speak),n.nguphapimg&&B(n.nguphapimg),n.nguphap||R(),G(i),!a||!a.value){console.error("No valid data found for 'phatam'");return}C(a),w(n),j(!1)}catch(e){j(!1),w([]),console.error("Error getting dichthuat data: ",e)}},H=e=>{let{value:a}=e.target;P(a)};y&&(a=y.split("="))[1]&&a[1].split("&")[0];let K=async()=>{try{let e=(await (0,o.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let a={};for(let t in e.value)if(e.value.hasOwnProperty(t)){let{username:n,password:i,...s}=e.value[t];a[t]=s}return{...e,value:a}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},Q=async()=>{let e="/users/hsk/".concat(c,"/").concat(Z),a="/users/hsk/".concat(c,"/").concat(Z,"/nguphap"),t="/users/hsk/".concat(c,"/").concat(Z,"/cauhoi"),n="/users/hsk/".concat(c,"/").concat(Z,"/nguphapimg"),i="/users/hsk/".concat(c,"/").concat(Z,"/listen"),s="/users/hsk/".concat(c,"/").concat(Z,"/speak");j(!0);try{await Promise.all([(0,o.Pf)(e,S),(0,o.Pf)(a,J),(0,o.Pf)(t,U),(0,o.Pf)(n,z),(0,o.Pf)(i,X),(0,o.Pf)(s,M)]),j(!1),await r().fire({position:"center",icon:"success",title:"Cập nhật th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(a){console.error("Lỗi tạo b\xe0i mới:",a);let e={message:"Lỗi tạo b\xe0i mới: "+a.message};r().fire(a.message,"","info"),setState(a=>({...a,error:e}))}finally{j(!1)}},R=()=>{T([...J,{key:"",tieude:"",noidung:"",cachdung:[{noidung:"",vidu:[{tiengtrung:"",nghia:"",pinyin:""}]}]}])};return p?(0,n.jsx)(h.Z,{}):(0,n.jsx)(s.Z,{body:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-12 col-md-2 d-none d-md-inline",children:(0,n.jsx)(x.Z,{MucLuc:b,hsk:c})}),(0,n.jsx)("div",{className:"col-12 col-md-7",children:(0,n.jsxs)("div",{className:"giaotiepContainer",children:[(0,n.jsx)(l.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>Q(),children:"Update"}),(0,n.jsx)("input",{type:"text",className:"form-control",name:"keyword",id:"","aria-describedby":"helpId",placeholder:"Nhập từ kh\xf3a",onChange:e=>H(e),value:Z||""}),(S&&0!==Object.keys(S).length||w({tieude:"",tieudepinyin:"",tieudedich:"",gianthe:"",hoithoai:[{hthoai:[{tiengtrung:"",pinyin:""}],dichnghia:[""],tumoi:[{tiengtrung:"",pinyin:"",nghia:""}]}]}),(0,n.jsx)(d.Z,{baihoc:S,setBaihoc:w,id:Z,nguphaps:J,setNguphap:T,setGameListen:A,gameListen:X,setGameSpeak:q,gameSpeak:M})),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-12 col-md-6",children:[(0,n.jsx)("h2",{children:"Chỉnh Sửa Game Listen"}),(0,n.jsx)(m,{game:X,setGame:A})]}),(0,n.jsxs)("div",{className:"col-12 col-md-6",children:[(0,n.jsx)("h2",{children:"Chỉnh Sửa Game Speak"}),(0,n.jsx)(m,{game:M,setGame:q})]})]}),(0,n.jsx)(g.Z,{cauhoi:U,setCauhoi:V}),(0,n.jsx)(v.Z,{nguphap:z,setnguphap:B})]})}),(0,n.jsx)("div",{className:"col-12 col-md-3",children:(0,n.jsx)(f.Z,{hsk:c,id:t})})]})})}},5328:function(e,a,t){"use strict";var n=t(7437);t(2265);var i=t(2808);t(3508),a.Z=e=>{let{nguphap:a,setnguphap:t}=e,s=(e,n,i)=>{let s=[...a];s[e][n]=i,t(s)},l=e=>{t(a.filter((a,t)=>t!==e))};return(0,n.jsxs)("div",{className:"cauhoi-container",children:[(0,n.jsx)("h2",{children:"Chỉnh Sửa Ngữ Ph\xe1p Image"}),(0,n.jsx)("ul",{children:a&&a.map((e,a)=>(0,n.jsxs)("li",{className:"cauhoi-item",children:[(0,n.jsx)("input",{type:"text",className:"form-control",value:e.tieude,onChange:e=>s(a,"tieude",e.target.value),placeholder:"Nhập ti\xeau đề"}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.noidung,onChange:e=>s(a,"noidung",e.target.value),placeholder:"Nhập nội dung"}),(0,n.jsx)("input",{type:"text",className:"form-control",value:e.src,onChange:e=>s(a,"src",e.target.value),placeholder:"Nhập Link Image"}),(0,n.jsx)(i.Z,{variant:"danger",size:"sm",onClick:()=>l(a),children:"❌ X\xf3a"}),(0,n.jsx)("hr",{})]},a))}),(0,n.jsx)(i.Z,{variant:"success",onClick:()=>{t([...a,{src:"",tieude:"",noidung:""}])},children:"➕ Th\xeam Ngữ Ph\xe1p"})]})}}},function(e){e.O(0,[4358,7481,9208,9461,5617,7138,7143,8472,609,8423,4547,1682,3913,658,7227,9659,2971,7023,1744],function(){return e(e.s=4931)}),_N_E=e.O()}]);