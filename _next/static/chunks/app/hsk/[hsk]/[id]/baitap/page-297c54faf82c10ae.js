(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1265],{370:function(e,a,n){Promise.resolve().then(n.bind(n,4592))},4592:function(e,a,n){"use strict";n.d(a,{default:function(){return v}});var i=n(7437),t=n(2265),l=n(8708),s=n(35),r=n(4379),c=n.n(r),o=n(5606);n(8833),n(494),n(1795);var h=n(9768),u=n(7138),d=n(6648);n(1243);var g=n(3508);n(4109),n(1682);var m=n(7761);n(8472),n(2034);let p=t.forwardRef(function(e,a){let{title:n,titleId:i,...l}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":i},l),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}),x=t.forwardRef(function(e,a){let{title:n,titleId:i,...l}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":i},l),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))});var f=n(9745);function j(e){let{tumoi:a,onFinish:n}=e,[l,s]=(0,t.useState)([]),[r,c]=(0,t.useState)([]),[o,h]=(0,t.useState)({pinyin:null,hanzi:null}),[u,g]=(0,t.useState)([]),[m,j]=(0,t.useState)({id:null,hanziId:null,type:null}),[b,y]=(0,t.useState)([]),[v,w]=(0,t.useState)(!1),[N,k]=(0,t.useState)("https://hocdichchuhan.github.io/img/gif/correct4.gif"),S=(0,t.useRef)(null),z=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(a&&a.length>0){let e=[...a].sort(()=>Math.random()-.5);s(e.map((e,a)=>({...e,id:a}))),c(e.map((e,a)=>({...e,id:a})).sort(()=>Math.random()-.5)),h({pinyin:null,hanzi:null}),g([]),j({id:null,hanziId:null,type:null}),y([]),w(!1)}},[a]);let C=(e,i,t)=>{let l={...o,[e]:i};if(h(l),l.pinyin&&l.hanzi){var s,r;if(l.pinyin.id===l.hanzi.id){k("https://hocdichchuhan.github.io/img/gif/correct".concat(Math.floor(3*Math.random())+1,".gif"));let e=l.pinyin.id;j({id:e,hanziId:e,type:"correct"}),null===(s=S.current)||void 0===s||s.play(),y(a=>[...a,e]),setTimeout(()=>{(0,f.Z)(i.tiengtrung,10+t)},300),setTimeout(()=>{g(i=>{let t=[...i,e];return t.length===a.length&&(j({id:null,hanziId:null,type:null}),h({pinyin:null,hanzi:null}),w(!0),null==n||n()),t}),y(a=>a.filter(a=>a!==e)),j({id:null,hanziId:null,type:null})},1e3)}else k("https://hocdichchuhan.github.io/img/gif/wrong".concat(Math.floor(5*Math.random())+1,".gif")),j({id:l.pinyin.id,hanziId:l.hanzi.id,type:"wrong"}),null===(r=z.current)||void 0===r||r.play(),setTimeout(()=>{j({id:null,hanziId:null,type:null})},600);setTimeout(()=>{h({pinyin:null,hanzi:null})},800)}},q=(e,a)=>{var n;let i=(null===(n=o[a])||void 0===n?void 0:n.id)===e.id,t=u.includes(e.id),l=b.includes(e.id),s="pinyin"===a&&m.id===e.id||"hanzi"===a&&m.hanziId===e.id;return l?"matchedCorrect bg-green-500 border-green-500 text-white":t?"bg-blue-500 border-green-500 text-white":s&&"wrong"===m.type?"matchedWrong border-red-500 animate-shake":s&&"correct"===m.type?"border-green-500 animate-pulse":i?"bg-blue-400 border-blue-400":"bg-black border-gray-500 text-white"};return(0,i.jsxs)("div",{className:"MatchingGameContaniner",children:[(0,i.jsx)("audio",{ref:S,src:"/_next/static/files/correct.mp3"}),(0,i.jsx)("audio",{ref:z,src:"/_next/static/files/wrong.mp3"}),(0,i.jsx)(d.default,{src:N,alt:"Loading...",width:200,height:200,style:{objectFit:"contain"}}),(0,i.jsxs)("div",{className:"flex flex-col flex justify-center items-center h-full",children:[(0,i.jsx)("h3",{className:"mb-2",children:"Chữ H\xe1n"}),r.map((e,a)=>(0,i.jsxs)("button",{className:"relative flex items-center justify-between w-full py-2 px-4 my-1 rounded border transition-all duration-300 ".concat(q(e,"hanzi")),onClick:()=>C("hanzi",e,a),disabled:u.includes(e.id),children:[e.tiengtrung,m.hanziId===e.id&&"correct"===m.type&&(0,i.jsx)(p,{className:"w-5 h-5 text-green-300 animate-pop"}),m.hanziId===e.id&&"wrong"===m.type&&(0,i.jsx)(x,{className:"w-5 h-5 text-red-400 animate-pop"})]},e.id))]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("h3",{className:"mb-2",children:"Pinyin"}),l.map((e,a)=>(0,i.jsxs)("button",{className:"relative flex items-center justify-between w-full py-2 px-4 my-1 rounded border transition-all duration-300 ".concat(q(e,"pinyin")),onClick:()=>C("pinyin",e,a),disabled:u.includes(e.id),children:[e.pinyin,m.id===e.id&&"correct"===m.type&&(0,i.jsx)(p,{className:"w-5 h-5 text-green-300 animate-pop"}),m.id===e.id&&"wrong"===m.type&&(0,i.jsx)(x,{className:"w-5 h-5 text-red-400 animate-pop"})]},e.id))]})]})}function b(e){let{title:a,link:n,onClose:t}=e;return(0,i.jsx)("div",{className:"loadingData",onClick:()=>{t&&t()},children:(0,i.jsxs)("div",{className:"loadingData-container",onClick:e=>{e.stopPropagation()},children:[(0,i.jsx)(d.default,{src:"https://hocdichchuhan.github.io/img/gif/correct.gif",alt:"Loading...",width:200,height:200,style:{objectFit:"contain"}}),(0,i.jsx)("h2",{children:a}),(0,i.jsx)(u.default,{className:"itemCard-title-luanngu",href:n,target:"_self",children:(0,i.jsx)(s.Z,{className:"btn-phatamthanh",variant:"warning",children:"B\xe0i tiếp theo"})})]})})}var y=e=>{var a;let{baihoc:n,id:l,nguphaps:s,isGianthe:r,hsk:c}=e,[o,h]=(0,t.useState)(!1),[u,d]=(0,t.useState)([]),g=(0,t.useRef)([]),[p,x]=(0,t.useState)(null),[f,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(),[N,k]=(0,t.useState)(),S=(0,t.useRef)(null),[z,C]=(0,t.useState)(0),[q,R]=(0,t.useState)(!1),[Z,E]=(0,t.useState)(!0),T=l.replace(/b0/gi,"");return((0,t.useEffect)(()=>{u.length>0&&setTimeout(()=>{g.current.forEach((e,a)=>{if(e){let n=e.getTotalLength();e.style.strokeDasharray=n,e.style.strokeDashoffset=n,e.style.animation="draw 1.5s ease-in-out ".concat(1*a,"s forwards")}})},100)},[u]),n)?(0,i.jsxs)("div",{className:"baihocgiaotiep-container",children:[(()=>{if(q&&Z){let e=l.replace(/\d+/,e=>String(Number(e)+1).padStart(e.length,"0"));return(0,i.jsx)(b,{link:"/hsk/".concat(c,"/").concat(e),title:"Ch\xfac mừng bạn đ\xe3 ho\xe0n th\xe0nh b\xe0i tập. C\xf9ng học b\xe0i tiếp theo nh\xe9!",onClose:()=>E(!1)})}})(),(0,i.jsxs)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-number",children:["B\xe0i ",T,": "]}),(0,i.jsx)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-tiengtrung tiengtrungText",children:r?n.gianthe:n.tieude}),(0,i.jsxs)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-tieude",children:["(",n.tieudedich,")"]}),(0,i.jsx)(m.Z,{showStrokeArea:f,activeCharacter:p,strokes:u,pathsRef:g,isShowImage:o,dataTranslate:N,dataWrite:v,strokeAreaRef:S}),(0,i.jsx)("span",{className:"baihocgiaotiep-pinyin",children:n.tieudepinyin}),(0,i.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:n.hoithoai[z]&&(0,i.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,i.jsxs)("h2",{children:["Lựa chọn cặp từ ch\xednh x\xe1c ",z+1,":"]}),(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"baihocgiaotiep-tumoi",children:(console.log((a=n.hoithoai[z]).tumoi),a.tumoi)?(0,i.jsx)(j,{tumoi:a.tumoi,onFinish:()=>{let e=z+1;e<n.hoithoai.length?C(e):R(!0)}}):null}),(0,i.jsx)("br",{}),(0,i.jsx)("hr",{}),(0,i.jsx)("br",{})]})})]}):null};function v(e){var a;let{id:n,hsk:r}=e,[d,m]=(0,t.useState)(!0),[p,x]=(0,t.useState)(),[f,j]=(0,t.useState)(),[b,v]=(0,t.useState)(),[w,N]=(0,t.useState)([]),[k,S]=(0,t.useState)([]),[z,C]=(0,t.useState)(!1),[q,R]=(0,t.useState)(!1),[Z,E]=(0,t.useState)(!1),[T,I]=(0,t.useState)([]),L=(0,t.useRef)([]),[M,D]=(0,t.useState)(null),[_,A]=(0,t.useState)(!1),[O,B]=(0,t.useState)(),[G,P]=(0,t.useState)(),F=(0,t.useRef)(null),[H,J]=(0,t.useState)(!1);(0,t.useEffect)(()=>{W();let e=(0,g.GJ)(),a=(0,g.bg)();R(e),C(a)},[]);let W=async()=>{try{m(!0);var e=JSON.parse(localStorage.getItem("allData"));e||await Y(),e=await JSON.parse(localStorage.getItem("allData"));let a=await e.find(e=>"hsk"===e.key),i=await a.value[r][n];if(!a||!a.value){console.error("No valid data found for 'phatam'");return}i.nguphap&&N(i.nguphap),i.nguphapimg&&S(i.nguphapimg),j(a),v(i),m(!1)}catch(e){m(!1),console.error("Error getting dichthuat data: ",e)}};p&&(a=p.split("="))[1]&&a[1].split("&")[0];let Y=async()=>{try{let e=(await (0,o.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let a={};for(let n in e.value)if(e.value.hasOwnProperty(n)){let{username:i,password:t,...l}=e.value[n];a[n]=l}return{...e,value:a}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},U=async()=>{let e=H?"Phồn Thể 繁體中文":"Giản Thể 简体中文";await c().fire({position:"center",icon:"success",html:"<div style=\"font-size: 36px;font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;\">Chuyển đổi qua ".concat(e,"</div>"),showConfirmButton:!1,timer:1e3}),J(!H)};return d?(0,i.jsx)(h.Z,{}):(0,i.jsx)(l.Z,{body:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)(u.default,{className:"itemCard-title-luanngu",href:"/hsk/".concat(r,"/edit/").concat(n),target:"_self",children:q&&(0,i.jsx)(s.Z,{className:"btn-phatamthanh",variant:"warning",children:"Edit"})}),(0,i.jsx)("div",{className:"buttonChangeLanguage",children:H?(0,i.jsx)(s.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>U(),children:"Giản Thể 简体"}):(0,i.jsx)(s.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>U(),children:"Phồn Thể 繁體"})}),b?(0,i.jsx)(y,{baihoc:b,hsk:r,id:n,nguphaps:w,isGianthe:H,showStrokeArea:_,activeCharacter:M,strokes:T,pathsRef:L,isShowImage:Z,dataTranslate:G,dataWrite:O,strokeAreaRef:F}):null]})})}n(9898)},2034:function(e,a,n){"use strict";var i=n(7437),t=n(2265),l=n(35),s=n(9745);a.Z=e=>{let{cauHoi:a,fetSelectedword:n}=e,[r,c]=(0,t.useState)({}),o=e=>{c(a=>({...a,[e]:!a[e]}))};return(0,i.jsxs)("div",{className:"cauhoi-container",children:[(0,i.jsx)("h2",{children:"C\xe2u Hỏi Trong B\xe0i"}),(0,i.jsx)("ul",{children:a.map((e,a)=>(0,i.jsxs)("li",{children:[(0,i.jsx)("div",{className:"chinese-word",children:e.tiengtrung.split("").map((e,a)=>(0,i.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>n(e),children:e},a))}),(0,i.jsx)("p",{children:e.pinyin}),r[a]&&(0,i.jsx)("p",{className:"nghia",children:e.nghia}),(0,i.jsx)(l.Z,{variant:"secondary",size:"sm",onClick:()=>o(a),style:{marginRight:"8px"},children:r[a]?"Ẩn Nghĩa":"Hiện Nghĩa"}),(0,i.jsx)(l.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,s.Z)(e.tiengtrung,a+10),children:"\uD83D\uDD0A"}),(0,i.jsx)("hr",{})]},a))})]})}},494:function(e,a,n){"use strict";var i=n(7437),t=n(2265);n(6648);let l=(0,t.memo)(e=>(0,i.jsxs)("div",{className:"itemCard-container",onClick:e.cardClick,onMouseEnter:e.cardClick,children:[(0,i.jsxs)("div",{className:"itemCard-title",children:[(0,i.jsx)("div",{className:"itemCard-img-des"}),(0,i.jsx)(s,{link:e.videoLink})]}),(0,i.jsx)("div",{className:"itemCard-content",children:(0,i.jsx)("h3",{className:"itemCard-content-title",children:e.title})})]}));function s(e){return(0,i.jsx)(t.Suspense,{fallback:(0,i.jsx)("div",{children:"Loading..."}),children:(0,i.jsx)("iframe",{ref:e.iframeRef,height:e.height,src:e.link,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})}l.displayName="ItemCardYoutubeNoAuthor",a.Z=l},9898:function(e,a,n){"use strict";var i=n(7437);n(2265),n(3508);var t=n(6648);a.Z=e=>{let{nguphap:a}=e;return(0,i.jsxs)("div",{className:"cauhoi-container",children:[(0,i.jsx)("h1",{children:"Mở Rộng"}),a&&a.map((e,a)=>(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("h2",{children:[a+1,". ",e.tieude]}),e.noidung&&(0,i.jsx)("p",{children:e.noidung}),(0,i.jsx)("div",{className:"image-container",children:(0,i.jsx)(t.default,{src:e.src,alt:"H\xecnh ảnh",width:1200,height:1200,layout:"intrinsic",className:"image-styled",style:{objectFit:"contain"}})})]},a))]})}},4109:function(e,a,n){"use strict";n.d(a,{Z:function(){return l}});var i=n(7437),t=n(2265);function l(e){let{vanmaus:a,thanhmaus:n}=e,[l,s]=(0,t.useState)({row:null,col:null}),r=n.flatMap(e=>e.chitiet.map(e=>e.tukhoa)),c=a.flatMap(e=>e.chitiet.map(e=>e.tukhoa)),o=(e,a)=>{e.includes("\xfc")?("nve"===(e=e.replace("\xfc","v"))&&(e="nue"),new Audio("https://blog.dailoan.vn/wp-content/uploads/2024/04/".concat(e,"1.mp3")).play().catch(e=>console.error("Lỗi ph\xe1t \xe2m thanh:",e))):e.includes("f")||e.includes("m")||e.includes("t")||a.includes("n")||e.includes("l")||e.includes("z")||"s"===a||"r"===a||"j"===a||"q"===a||"x"===a||"g"===a||"k"===a||"h"===a||"sh"===a?new Audio("https://blog.dailoan.vn/wp-content/uploads/2024/04/".concat(e,"1_2.mp3")).play().catch(e=>console.error("Lỗi ph\xe1t \xe2m thanh:",e)):new Audio("https://blog.dailoan.vn/wp-content/uploads/2024/04/".concat(e,"1.mp3")).play().catch(e=>console.error("Lỗi ph\xe1t \xe2m thanh:",e))},h=new Set(["a","ba","pa","ma","fa","da","ta","na","la","ga","ka","ha","o","bo","po","mo","fo","ai","bai","pai","mai","dai","tai","nai","lai","gai","kai","hai","an","ban","pan","man","fan","dan","tan","nan","lan","gan","kan","han","ang","bang","pang","mang","fang","dang","tang","nang","lang","gang","kang","hang","ao","bao","pao","mao","dao","tao","nao","lao","gao","kao","hao","e","me","de","te","ne","le","ge","ke","he","ei","bei","pei","mei","fei","dei","nei","lei","gei","hei","en","ben","pen","men","fen","nen","gen","ken","hen","eng","beng","peng","meng","feng","deng","teng","neng","leng","geng","keng","heng","zi","ci","si","zhi","chi","shi","ri","za","ca","sa","zha","cha","sha","zai","cai","sai","zhai","chai","shai","zan","can","san","zhan","chan","shan","zang","cang","sang","zhang","chang","shang","rang","zao","cao","sao","zhao","chao","shao","rao","ze","ce","se","zhe","che","she","re","zei","zhei","shei","zen","cen","sen","zhen","chen","shen","ren","zeng","ceng","seng","zheng","cheng","sheng","reng","yi","bi","pi","mi","di","ti","ni","li","ji","qi","xi","ya","dia","lia","jia","qia","xia","yan","bian","pian","mian","dian","tian","nian","lian","jian","qian","xian","yang","jiang","qiang","xiang","yao","biao","piao","miao","diao","tiao","niao","liao","jiao","qiao","xiao","ye","bie","pie","mie","die","tie","nie","lie","jie","qie","xie","yin","bin","pin","min","nin","lin","jin","qin","xin","ying","bing","ping","ming","ding","ting","ning","ling","jing","qing","xing","yong","jiong","qiong","xiong","you","miu","diu","niu","liu","jiu","qiu","xiu","you","pou","mou","fou","dou","tou","lou","gou","kou","hou","wu","bu","pu","mu","fu","du","tu","nu","lu","gu","ku","hu","wa","gua","kua","hua","wai","guai","kuai","huai","wan","duan","tuan","nuan","luan","guan","kuan","huan","wang","guang","kuang","huang","wei","gui","kui","hui","wen","dun","tun","lun","gun","kun","hun","wo","duo","tuo","nuo","luo","guo","kuo","huo","yu","n\xfc","l\xfc","yuan","j\xfcan","q\xfcan","x\xfcan","yue","n\xfce","l\xfce","jue","que","xue","yun","j\xfcn","q\xfcn","x\xfcn","j\xfc","q\xfc","x\xfc","er"]),u=(e,a)=>(("j"===e||"q"===e||"x"===e)&&a.includes("\xfc")&&"\xfc"!=a&&"\xfcn"!=a&&"\xfcan"!=a&&(a=a.replace("\xfc","u")),e+a);return(0,i.jsx)("div",{className:"bangphatamContainer",children:(0,i.jsxs)("table",{className:"bangphatamContainer-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"header-cell",children:"\\"}),c.map((e,a)=>(0,i.jsx)("th",{className:"header-cell ".concat(l.col===a?"highlight-col":""),children:e},e))]})}),(0,i.jsx)("tbody",{children:r.map((e,a)=>(0,i.jsxs)("tr",{className:l.row===a?"highlight-row":"",children:[(0,i.jsx)("td",{className:"header-cell",children:e}),c.map((n,t)=>{var r=u(e,n);let c=h.has(r);return"j\xfc"===r&&(r="ju"),"q\xfc"===r&&(r="qu"),"x\xfc"===r&&(r="xu"),"j\xfcn"===r&&(r="jun"),"q\xfcn"===r&&(r="qun"),"x\xfcn"===r&&(r="xun"),"j\xfcan"===r&&(r="juan"),"q\xfcan"===r&&(r="quan"),"x\xfcan"===r&&(r="xuan"),(0,i.jsx)("td",{className:"table-cell ".concat(l.row===a||l.col===t?"highlight":""," ").concat(c?"":"disabled-cell"),onMouseEnter:()=>s({row:a,col:t}),onMouseLeave:()=>s({row:null,col:null}),onClick:()=>c&&o(r,e),children:c?r:""},"".concat(e,"-").concat(n))})]},e))})]})})}}},function(e){e.O(0,[7481,9461,630,6648,8472,609,8708,8151,1682,2971,7023,1744],function(){return e(e.s=370)}),_N_E=e.O()}]);