(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1265],{20370:function(a,e,n){Promise.resolve().then(n.bind(n,12020))},12020:function(a,e,n){"use strict";n.d(e,{default:function(){return w}});var i=n(57437),t=n(2265),s=n(98708),l=n(12808),c=n(64379),o=n.n(c),r=n(65606);n(58833),n(10494),n(91795);var u=n(19768),h=n(87138);n(66648),n(31243);var d=n(23508);n(84109);var g=n(85151);n(39898);var m=n(1725),p=n(27220),x=n(24816),j=n(16463),f=n(46854);n(49992);var v=n(27593),k=n(45776);function w(a){var e;let{id:n,hsk:c}=a,[w,y]=(0,t.useState)(!0),[N,b]=(0,t.useState)(),[S,C]=(0,t.useState)(),[q,z]=(0,t.useState)(),[Z,E]=(0,t.useState)(),[T,I]=(0,t.useState)([]),[_,D]=(0,t.useState)([]),[G,O]=(0,t.useState)(!1),[R,A]=(0,t.useState)(!1),[L,J]=(0,t.useState)(!1),[M,B]=(0,t.useState)([]),P=(0,t.useRef)([]),[U,H]=(0,t.useState)(null),[X,Y]=(0,t.useState)(!1),[F,W]=(0,t.useState)(),[K,Q]=(0,t.useState)(),V=(0,t.useRef)(null),[$,aa]=(0,t.useState)(!1),ae=(0,j.useRouter)(),[an,ai]=(0,t.useState)(!1),[at,as]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(0,d.sq)()?y(!1):ae.push("/hsk/".concat(c,"/").concat(n))},[]),(0,t.useEffect)(()=>{al();let a=(0,d.GJ)(),e=(0,d.bg)();A(a),O(e);let n=localStorage.getItem("isGianthe");null!==n&&aa(JSON.parse(n))},[]),(0,t.useEffect)(()=>{sessionStorage.getItem("hasShownUseralldiem")||(ai(!0),sessionStorage.setItem("hasShownUseralldiem","true"))},[]);let al=async()=>{try{y(!0);var a=JSON.parse(localStorage.getItem("allData"));a||await ac(),a=await JSON.parse(localStorage.getItem("allData"));let e=await a.find(a=>"hsk"===a.key),i=await e.value[c],t=await e.value[c][n];if(!e||!e.value){console.error("No valid data found for 'phatam'");return}t.nguphap&&I(t.nguphap),t.nguphapimg&&D(t.nguphapimg),C(e),z(t),E(i),y(!1)}catch(a){y(!1),console.error("Error getting dichthuat data: ",a)}};N&&(e=N.split("="))[1]&&e[1].split("&")[0];let ac=async()=>{try{let a=(await (0,r.UD)("/users")).map(a=>{if("account"===a.key&&a.value){let e={};for(let n in a.value)if(a.value.hasOwnProperty(n)){let{username:i,password:t,...s}=a.value[n];e[n]=s}return{...a,value:e}}return a});await localStorage.setItem("allData",JSON.stringify(a))}catch(a){console.error("Error fetching data:",a)}},ao=async()=>{let a=$?"Phồn Thể 繁體中文":"Giản Thể 简体中文";await o().fire({position:"center",icon:"success",html:"<div style=\"font-size: 36px;font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;\">Chuyển đổi qua ".concat(a,"</div>"),showConfirmButton:!1,timer:1e3});let e=!$;aa(e),localStorage.setItem("isGianthe",JSON.stringify(e))};return w?(0,i.jsx)(u.Z,{}):(0,i.jsx)(s.Z,{isStudy:!0,body:(0,i.jsxs)("div",{className:"",style:{backgroundColor:"#f3f3f3"},children:[(0,i.jsx)(h.default,{className:"itemCard-title-luanngu",href:"/hsk/".concat(c,"/edit/").concat(n),target:"_self",children:R&&(0,i.jsx)(l.Z,{className:"btn-phatamthanh",variant:"warning",children:"Edit"})}),(0,i.jsx)(v.Z,{show:an,onClose:()=>ai(!1),children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-12 col-md-6",children:(0,i.jsx)(f.Z,{})}),(0,i.jsx)("div",{className:"col-12 col-md-6",children:(0,i.jsx)(k.Z,{})})]})}),(0,i.jsx)(v.Z,{show:at,onClose:()=>as(!1),children:(0,i.jsx)(x.Z,{hsk:c,id:n,isGianthe:$})}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-12 col-md-2 d-none d-md-inline",children:(0,i.jsx)(m.Z,{MucLuc:Z,hsk:c})}),(0,i.jsxs)("div",{className:"col-12 col-md-7",children:[(0,i.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:$?(0,i.jsx)(l.Z,{className:"",variant:"danger",onClick:()=>ao(),children:"Chuyển đổi qua Phồn Thể 繁體"}):(0,i.jsx)(l.Z,{className:"",variant:"primary",onClick:()=>ao(),children:" Chuyển đổi qua Giản Thể 简体"})}),(()=>{if(!q)return null;let a=(0,d.sq)(),e="/user/account/".concat(a,"/diem/").concat(c,"_").concat(n);return(0,i.jsx)(g.Z,{baihoc:q,hsk:c,id:n,nguphaps:T,isGianthe:$,pathBaitap:e,showStrokeArea:X,activeCharacter:U,strokes:M,pathsRef:P,isShowImage:L,dataTranslate:K,dataWrite:F,strokeAreaRef:V})})()]}),(0,i.jsxs)("div",{className:"col-12 col-md-3",children:[(0,i.jsx)(p.Z,{hsk:c,id:n}),(0,i.jsx)(l.Z,{variant:"info",className:"mt-3",onClick:()=>ai(!0),children:"Xem tất cả điểm"}),(0,i.jsx)(l.Z,{variant:"primary",className:"mt-3 ms-3",onClick:()=>as(!0),children:"Xem tất từ mới đ\xe3 học"}),(0,i.jsx)("br",{}),R&&(0,i.jsx)(k.Z,{})]})]})]})})}},62034:function(a,e,n){"use strict";var i=n(57437),t=n(2265),s=n(12808),l=n(89745);e.Z=a=>{let{cauHoi:e,fetSelectedword:n,isGianthe:c}=a,[o,r]=(0,t.useState)({}),u=a=>{r(e=>({...e,[a]:!e[a]}))};return(0,i.jsxs)("div",{className:"cauhoi-container",children:[(0,i.jsx)("h2",{children:"C\xe2u Hỏi Trong B\xe0i"}),(0,i.jsx)("ul",{children:e.map((a,e)=>(0,i.jsxs)("li",{children:[(0,i.jsxs)("div",{className:"chinese-word",children:[!c&&a.tiengtrung.split("").map((a,e)=>(0,i.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>n(a),children:a},e)),c&&a.gianthe.split("").map((a,e)=>(0,i.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>n(a),children:a},e))]}),(0,i.jsx)("p",{children:a.pinyin}),o[e]&&(0,i.jsx)("p",{className:"nghia",children:a.nghia}),(0,i.jsx)(s.Z,{variant:"secondary",size:"sm",onClick:()=>u(e),style:{marginRight:"8px"},children:o[e]?"Ẩn Nghĩa":"Hiện Nghĩa"}),(0,i.jsx)(s.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,l.Z)(a.gianthe,e+10),children:"\uD83D\uDD0A"}),(0,i.jsx)("hr",{})]},e))})]})}},10494:function(a,e,n){"use strict";var i=n(57437),t=n(2265);n(66648),n(74231);let s=(0,t.memo)(a=>(0,i.jsxs)("div",{className:"itemCard-container",onClick:a.cardClick,onMouseEnter:a.cardClick,children:[(0,i.jsxs)("div",{className:"itemCard-title",children:[(0,i.jsx)("div",{className:"itemCard-img-des"}),(0,i.jsx)(l,{link:a.videoLink})]}),(0,i.jsx)("div",{className:"itemCard-content p-3 rounded shadow-sm",children:(0,i.jsx)("h3",{className:"itemCard-content-title text-center",children:a.title})})]}));function l(a){return(0,i.jsx)(t.Suspense,{fallback:(0,i.jsx)("div",{children:"Loading..."}),children:(0,i.jsx)("iframe",{ref:a.iframeRef,height:a.height,src:a.link,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})}s.displayName="ItemCardYoutubeNoAuthor",e.Z=s},84109:function(a,e,n){"use strict";n.d(e,{Z:function(){return s}});var i=n(57437),t=n(2265);function s(a){let{vanmaus:e,thanhmaus:n}=a,[s,l]=(0,t.useState)({row:null,col:null}),c=n.flatMap(a=>a.chitiet.map(a=>a.tukhoa)),o=e.flatMap(a=>a.chitiet.map(a=>a.tukhoa)),r=(a,e)=>{a.includes("\xfc")?("nve"===(a=a.replace("\xfc","v"))&&(a="nue"),new Audio("https://blog.dailoan.vn/wp-content/uploads/2024/04/".concat(a,"1.mp3")).play().catch(a=>console.error("Lỗi ph\xe1t \xe2m thanh:",a))):a.includes("f")||a.includes("m")||a.includes("t")||e.includes("n")||a.includes("l")||a.includes("z")||"s"===e||"r"===e||"j"===e||"q"===e||"x"===e||"g"===e||"k"===e||"h"===e||"sh"===e?new Audio("https://blog.dailoan.vn/wp-content/uploads/2024/04/".concat(a,"1_2.mp3")).play().catch(a=>console.error("Lỗi ph\xe1t \xe2m thanh:",a)):new Audio("https://blog.dailoan.vn/wp-content/uploads/2024/04/".concat(a,"1.mp3")).play().catch(a=>console.error("Lỗi ph\xe1t \xe2m thanh:",a))},u=new Set(["a","ba","pa","ma","fa","da","ta","na","la","ga","ka","ha","o","bo","po","mo","fo","ai","bai","pai","mai","dai","tai","nai","lai","gai","kai","hai","an","ban","pan","man","fan","dan","tan","nan","lan","gan","kan","han","ang","bang","pang","mang","fang","dang","tang","nang","lang","gang","kang","hang","ao","bao","pao","mao","dao","tao","nao","lao","gao","kao","hao","e","me","de","te","ne","le","ge","ke","he","ei","bei","pei","mei","fei","dei","nei","lei","gei","hei","en","ben","pen","men","fen","nen","gen","ken","hen","eng","beng","peng","meng","feng","deng","teng","neng","leng","geng","keng","heng","zi","ci","si","zhi","chi","shi","ri","zu","cu","su","zhu","chu","shu","ru","za","ca","sa","zha","cha","sha","zai","cai","sai","zhai","chai","shai","zan","can","san","zhan","chan","shan","zang","cang","sang","zhang","chang","shang","rang","zao","cao","sao","zhao","chao","shao","rao","ze","ce","se","zhe","che","she","re","zei","zhei","shei","zen","cen","sen","zhen","chen","shen","ren","zeng","ceng","seng","zheng","cheng","sheng","reng","yi","bi","pi","mi","di","ti","ni","li","ji","qi","xi","ya","dia","lia","jia","qia","xia","yan","bian","pian","mian","dian","tian","nian","lian","jian","qian","xian","yang","jiang","qiang","xiang","yao","biao","piao","miao","diao","tiao","niao","liao","jiao","qiao","xiao","ye","bie","pie","mie","die","tie","nie","lie","jie","qie","xie","yin","bin","pin","min","nin","lin","jin","qin","xin","ying","bing","ping","ming","ding","ting","ning","ling","jing","qing","xing","yong","jiong","qiong","xiong","you","miu","diu","niu","liu","jiu","qiu","xiu","you","pou","mou","fou","dou","tou","lou","gou","kou","hou","wu","bu","pu","mu","fu","du","tu","nu","lu","gu","ku","hu","wa","gua","kua","hua","wai","guai","kuai","huai","wan","duan","tuan","nuan","luan","guan","kuan","huan","wang","guang","kuang","huang","wei","gui","kui","hui","wen","dun","tun","lun","gun","kun","hun","wo","duo","tuo","nuo","luo","guo","kuo","huo","yu","n\xfc","l\xfc","yuan","j\xfcan","q\xfcan","x\xfcan","yue","n\xfce","l\xfce","jue","que","xue","yun","j\xfcn","q\xfcn","x\xfcn","j\xfc","q\xfc","x\xfc","er"]),h=(a,e)=>(("j"===a||"q"===a||"x"===a)&&e.includes("\xfc")&&"\xfc"!=e&&"\xfcn"!=e&&"\xfcan"!=e&&(e=e.replace("\xfc","u")),a+e);return(0,i.jsx)("div",{className:"bangphatamContainer",children:(0,i.jsxs)("table",{className:"bangphatamContainer-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"header-cell",children:"\\"}),o.map((a,e)=>(0,i.jsx)("th",{className:"header-cell ".concat(s.col===e?"highlight-col":""),children:a},a))]})}),(0,i.jsx)("tbody",{children:c.map((a,e)=>(0,i.jsxs)("tr",{className:s.row===e?"highlight-row":"",children:[(0,i.jsx)("td",{className:"header-cell",children:a}),o.map((n,t)=>{var c=h(a,n);let o=u.has(c);return"j\xfc"===c&&(c="ju"),"q\xfc"===c&&(c="qu"),"x\xfc"===c&&(c="xu"),"j\xfcn"===c&&(c="jun"),"q\xfcn"===c&&(c="qun"),"x\xfcn"===c&&(c="xun"),"j\xfcan"===c&&(c="juan"),"q\xfcan"===c&&(c="quan"),"x\xfcan"===c&&(c="xuan"),(0,i.jsx)("td",{className:"table-cell ".concat(s.row===e||s.col===t?"highlight":""," ").concat(o?"":"disabled-cell"),onMouseEnter:()=>l({row:e,col:t}),onMouseLeave:()=>l({row:null,col:null}),onClick:()=>o&&r(c,a),children:o?c:""},"".concat(a,"-").concat(n))})]},a))})]})})}},74231:function(){}},function(a){a.O(0,[1953,9513,7441,5527,4358,7481,9208,9461,5973,3539,8472,609,6666,6901,7468,4547,1682,5499,5438,305,9571,2971,7023,1744],function(){return a(a.s=20370)}),_N_E=a.O()}]);