(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6010],{8057:function(e,a,t){Promise.resolve().then(t.bind(t,4274))},4274:function(e,a,t){"use strict";t.d(a,{default:function(){return j}});var s=t(7437),n=t(2265),i=t(8708),r=t(2808),l=t(4379),c=t.n(l),o=t(5606);t(8833),t(494),t(1795);var u=t(9768),h=t(7138);t(6648),t(1243);var d=t(3508);t(4109);var m=t(8971),f=t(9898),g=t(1725),p=t(7220),S=t(6854),v=t(9992),w=t(7593),x=t(6463);function j(e){var a;let{id:t,hsk:l}=e,[j,N]=(0,n.useState)(!0),[k,y]=(0,n.useState)(),[C,Z]=(0,n.useState)(),[b,E]=(0,n.useState)(),[G,T]=(0,n.useState)([]),[I,O]=(0,n.useState)([]),[_,R]=(0,n.useState)(),[J,P]=(0,n.useState)(!1),[q,B]=(0,n.useState)(!1),[D,U]=(0,n.useState)(!1),[A,L]=(0,n.useState)([]),z=(0,n.useRef)([]),[M,V]=(0,n.useState)(null),[W,X]=(0,n.useState)(!1),[F,H]=(0,n.useState)(),[K,Q]=(0,n.useState)(),Y=(0,n.useRef)(null),[$,ee]=(0,n.useState)(!1),[ea,et]=(0,n.useState)(!1),es=(0,x.useRouter)();(0,n.useEffect)(()=>{en();let e=(0,d.GJ)(),a=(0,d.bg)();B(e),P(a);let t=localStorage.getItem("isGianthe");null!==t&&et(JSON.parse(t))},[]),(0,n.useEffect)(()=>{sessionStorage.getItem("hasShownUseralldiem")||(ee(!0),sessionStorage.setItem("hasShownUseralldiem","true"))},[]);let en=async()=>{try{N(!0),await ei();let e=await JSON.parse(localStorage.getItem("allData")),a=await e.find(e=>"hsk"===e.key),s=await a.value[l],n=await a.value[l][t];if(!a||!a.value){console.error("No valid data found for 'phatam'");return}n.nguphap&&T(n.nguphap),n.nguphapimg&&O(n.nguphapimg),Z(a),E(n),R(s),N(!1)}catch(e){N(!1),console.error("Error getting dichthuat data: ",e)}};k&&(a=k.split("="))[1]&&a[1].split("&")[0];let ei=async()=>{try{let e=(await (0,o.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let a={};for(let t in e.value)if(e.value.hasOwnProperty(t)){let{username:s,password:n,...i}=e.value[t];a[t]=i}return{...e,value:a}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},er=async()=>{let e=ea?"Phồn Thể th\xe0nh c\xf4ng 繁體中文":"Giản Thể th\xe0nh c\xf4ng 简体中文";await c().fire({position:"center",icon:"success",html:"<div style=\"font-size: 36px;font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;\">Chuyển đổi qua ".concat(e,"</div>"),showConfirmButton:!1,timer:1500});let a=!ea;et(a),localStorage.setItem("isGianthe",JSON.stringify(a))},el=()=>{(0,d.bg)()?es.push("/hsk/".concat(l,"/").concat(t,"/baitap")):c().fire({icon:"warning",title:"Vui l\xf2ng đăng nhập để tiếp tục",showConfirmButton:!1,timer:1500})};return j?(0,s.jsx)(u.Z,{}):(0,s.jsx)(i.Z,{body:(0,s.jsxs)("div",{className:"",style:{backgroundColor:"#f3f3f3"},children:[(0,s.jsx)(h.default,{className:"itemCard-title-luanngu",href:"/hsk/".concat(l,"/edit/").concat(t),target:"_self",children:q&&(0,s.jsx)(r.Z,{className:"btn-phatamthanh",variant:"warning",children:"Edit"})}),(0,s.jsx)(w.Z,{show:$,onClose:()=>ee(!1),children:(0,s.jsx)(S.Z,{})}),(0,s.jsx)("div",{className:"buttonChangeLanguage"}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-12 col-md-2 d-none d-md-inline",children:(0,s.jsx)(g.Z,{MucLuc:_,hsk:l})}),(0,s.jsxs)("div",{className:"col-12 col-md-7",children:[(0,s.jsx)(v.Z,{}),(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[ea?(0,s.jsx)(r.Z,{className:"",variant:"danger",onClick:()=>er(),children:"Chuyển đổi qua Phồn Thể 繁體"}):(0,s.jsx)(r.Z,{className:"",variant:"primary",onClick:()=>er(),children:" Chuyển đổi qua Giản Thể 简体"}),(0,s.jsx)(r.Z,{className:"",variant:"warning",onClick:()=>el(),children:"Goto B\xe0i Tập 练一练"})]}),b?(0,s.jsx)(m.Z,{baihoc:b,hsk:l,id:t,nguphaps:G,isGianthe:ea,showStrokeArea:W,activeCharacter:M,strokes:A,pathsRef:z,isShowImage:D,dataTranslate:K,dataWrite:F,strokeAreaRef:Y}):null,(0,s.jsx)(f.Z,{nguphap:I})]}),(0,s.jsxs)("div",{className:"col-12 col-md-3",children:[(0,s.jsx)(p.Z,{hsk:l,id:t}),(0,s.jsx)(r.Z,{variant:"info",onClick:()=>ee(!0),children:"Xem tất cả điểm"})]})]})]})})}}},function(e){e.O(0,[621,4358,7481,9208,9461,5617,7138,7143,8472,609,8423,4547,1682,3913,9659,9511,2971,7023,1744],function(){return e(e.s=8057)}),_N_E=e.O()}]);