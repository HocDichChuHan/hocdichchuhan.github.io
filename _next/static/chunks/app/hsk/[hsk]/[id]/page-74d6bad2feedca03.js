(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6010],{60447:function(e,a,t){Promise.resolve().then(t.bind(t,4274))},4274:function(e,a,t){"use strict";t.d(a,{default:function(){return k}});var s=t(57437),n=t(2265),i=t(98708),l=t(12808),r=t(64379),c=t.n(r),o=t(65606);t(58833),t(10494),t(91795);var u=t(19768),h=t(87138);t(66648),t(31243);var d=t(23508);t(84109);var m=t(58971),f=t(39898),g=t(1725),S=t(27220),j=t(46854),v=t(49992),x=t(45776),p=t(24816),N=t(27593),w=t(16463);function k(e){var a;let{id:t,hsk:r}=e,[k,Z]=(0,n.useState)(!0),[y,C]=(0,n.useState)(),[b,E]=(0,n.useState)(),[G,I]=(0,n.useState)(),[O,_]=(0,n.useState)([]),[J,R]=(0,n.useState)([]),[T,D]=(0,n.useState)(),[P,U]=(0,n.useState)(!1),[q,A]=(0,n.useState)(!1),[B,L]=(0,n.useState)(!1),[X,M]=(0,n.useState)([]),V=(0,n.useRef)([]),[W,z]=(0,n.useState)(null),[F,H]=(0,n.useState)(!1),[K,Q]=(0,n.useState)(),[Y,$]=(0,n.useState)(),ee=(0,n.useRef)(null),[ea,et]=(0,n.useState)(!1),[es,en]=(0,n.useState)(!1),[ei,el]=(0,n.useState)(!1),er=(0,w.useRouter)();(0,n.useEffect)(()=>{ec();let e=(0,d.GJ)(),a=(0,d.bg)();A(e),U(a);let t=localStorage.getItem("isGianthe");null!==t&&el(JSON.parse(t))},[]),(0,n.useEffect)(()=>{sessionStorage.getItem("hasShownUseralldiem")||(et(!0),sessionStorage.setItem("hasShownUseralldiem","true"))},[]);let ec=async()=>{try{Z(!0),await eo();let e=await JSON.parse(localStorage.getItem("allData")),a=await e.find(e=>"hsk"===e.key),s=await a.value[r],n=await a.value[r][t];if(!a||!a.value){console.error("No valid data found for 'phatam'");return}n.nguphap&&_(n.nguphap),n.nguphapimg&&R(n.nguphapimg),E(a),I(n),D(s),Z(!1)}catch(e){Z(!1),console.error("Error getting dichthuat data: ",e)}};y&&(a=y.split("="))[1]&&a[1].split("&")[0];let eo=async()=>{try{let e=(await (0,o.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let a={};for(let t in e.value)if(e.value.hasOwnProperty(t)){let{username:s,password:n,...i}=e.value[t];a[t]=i}return{...e,value:a}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},eu=async()=>{let e=!ei;el(e),localStorage.setItem("isGianthe",JSON.stringify(e))},eh=()=>{(0,d.bg)()?er.push("/hsk/".concat(r,"/").concat(t,"/baitap")):c().fire({icon:"warning",title:"Vui l\xf2ng đăng nhập để tiếp tục",showConfirmButton:!1,timer:1500})};return k?(0,s.jsx)(u.Z,{}):(0,s.jsx)(i.Z,{isStudy:!0,body:(0,s.jsxs)("div",{className:"",style:{backgroundColor:"#f3f3f3"},children:[(0,s.jsx)(h.default,{className:"itemCard-title-luanngu",href:"/hsk/".concat(r,"/edit/").concat(t),target:"_self",children:q&&(0,s.jsx)(l.Z,{className:"btn-phatamthanh",variant:"warning",children:"Edit"})}),(0,s.jsx)(N.Z,{show:ea,onClose:()=>et(!1),children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-12 col-md-6",children:(0,s.jsx)(j.Z,{})}),(0,s.jsx)("div",{className:"col-12 col-md-6",children:(0,s.jsx)(x.Z,{})})]})}),(0,s.jsx)(N.Z,{show:es,onClose:()=>en(!1),children:(0,s.jsx)(p.Z,{hsk:r,id:t,isGianthe:ei})}),(0,s.jsx)("div",{className:"buttonChangeLanguage"}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-12 col-md-2 d-none d-md-inline",children:(0,s.jsx)(g.Z,{MucLuc:T,hsk:r})}),(0,s.jsxs)("div",{className:"col-12 col-md-7",children:[(0,s.jsx)(v.Z,{}),(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[ei?(0,s.jsx)(l.Z,{className:"",variant:"danger",onClick:()=>eu(),children:"Chuyển đổi qua Phồn Thể 繁體"}):(0,s.jsx)(l.Z,{className:"",variant:"primary",onClick:()=>eu(),children:" Chuyển đổi qua Giản Thể 简体"}),(0,s.jsx)(l.Z,{className:"",variant:"warning",onClick:()=>eh(),children:"Goto B\xe0i Tập 练一练"})]}),G?(0,s.jsx)(m.Z,{baihoc:G,hsk:r,id:t,nguphaps:O,isGianthe:ei,showStrokeArea:F,activeCharacter:W,strokes:X,pathsRef:V,isShowImage:B,dataTranslate:Y,dataWrite:K,strokeAreaRef:ee}):null,(0,s.jsx)(f.Z,{nguphap:J})]}),(0,s.jsxs)("div",{className:"col-12 col-md-3",children:[(0,s.jsx)(S.Z,{hsk:r,id:t}),(0,s.jsx)(l.Z,{variant:"info",className:"mt-3",onClick:()=>et(!0),children:"Xem tất cả điểm"}),(0,s.jsx)(l.Z,{variant:"primary",className:"mt-3 ms-3",onClick:()=>en(!0),children:"Xem tất từ mới đ\xe3 học"}),(0,s.jsx)("br",{}),q&&(0,s.jsx)(x.Z,{})]})]})]})})}}},function(e){e.O(0,[1953,9513,7441,5527,4358,7481,9208,9461,5973,3539,8472,609,6666,6901,7468,4547,1682,3255,5499,5438,305,9571,2971,7023,1744],function(){return e(e.s=60447)}),_N_E=e.O()}]);