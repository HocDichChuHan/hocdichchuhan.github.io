(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[482],{36602:function(t,e,n){Promise.resolve().then(n.bind(n,31834))},31834:function(t,e,n){"use strict";n.d(e,{default:function(){return u}});var i=n(57437),a=n(2265),h=n(98708),c=n(12808),s=n(64379),l=n.n(s),r=n(65606);n(58833),n(91795);var o=n(19768);n(87138),n(66648),n(31243);var d=n(23508);function u(){let[t,e]=(0,a.useState)(!0),[n,s]=(0,a.useState)(),[u,p]=(0,a.useState)(),[x,g]=(0,a.useState)(),[m,j]=(0,a.useState)(!1),[y,f]=(0,a.useState)(!1),[v,C]=(0,a.useState)(!1);(0,a.useEffect)(()=>{k();let t=(0,d.GJ)(),e=(0,d.bg)();f(t),j(e)},[]);let k=async()=>{try{var t=JSON.parse(localStorage.getItem("allData"));t||await S(),t=await JSON.parse(localStorage.getItem("allData"));let n=await t.find(t=>"phatam"===t.key),i=await n.value.thanhmau,a=await n.value.vanmau;s(n),p(i),g(a),e(!1)}catch(t){e(!1),console.error("Error getting dichthuat data: ",t)}},S=async()=>{try{let t=(await (0,r.UD)("/users")).map(t=>{if("account"===t.key&&t.value){let e={};for(let n in t.value)if(t.value.hasOwnProperty(n)){let{username:i,password:a,...h}=t.value[n];e[n]=h}return{...t,value:e}}return t});await localStorage.setItem("allData",JSON.stringify(t))}catch(t){console.error("Error fetching data:",t)}},w=async()=>{e(!0);try{await Promise.all([(0,r.Pf)("/users/phatam/thanhmau",u),(0,r.Pf)("/users/phatam/vanmau",x)]),e(!1),await l().fire({position:"center",icon:"success",title:"Cập nhật th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(e){console.error("Lỗi :",e);let t={message:"Lỗi : "+e.message};l().fire(e.message,"","info"),setState(e=>({...e,error:t}))}finally{e(!1)}},b=async(t,e)=>{if(!t)return;let n=t.toUpperCase();console.log(n);let i="https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/".concat(n,".mp3");var a="";a=0==e?"https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/B%C3%A0i-2.-H%E1%BB%8Dc-ti%E1%BA%BFng-Trung-C%C6%A1-b%E1%BA%A3n-Ph%E1%BB%A5-%C3%A2m-Thanh-m%E1%BA%ABu-trong-ti%E1%BA%BFng.mp3":1==e?"https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/%E6%B3%BC.mp3":"https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/B%C3%A0i-2.-H%E1%BB%8Dc-ti%E1%BA%BFng-Trung-C%C6%A1-b%E1%BA%A3n-Ph%E1%BB%A5-%C3%A2m-Thanh-m%E1%BA%ABu-trong-ti%E1%BA%BFng-".concat(e,".mp3");let h=new Audio(i);h.onerror=()=>{console.warn("Kh\xf4ng thể ph\xe1t: ".concat(i,", chuyển sang file dự ph\xf2ng.")),new Audio(a).play()},h.play()},A=(t,e,n)=>{let{value:i}=t.target,a=[...u];a[e]={...a[e],[n]:i},p(a)},B=(t,e,n,i)=>{let a=[...u];a[e].chitiet[n]={...a[e].chitiet[n],[i]:t},p(a)},E=(t,e)=>{let n=[...u];n[t].chitiet[e]={...n[t].chitiet[e],ishighlight:!n[t].chitiet[e].ishighlight},p(n)},N=(t,e)=>{let n=[...x];n[t].chitiet[e]={...n[t].chitiet[e],ishighlight:!n[t].chitiet[e].ishighlight},g(n)},D=t=>{p(u.filter((e,n)=>n!==t))},P=t=>{let e=[...u];e[t].chitiet.push({tukhoa:"",chuthich:""}),p(e)},Z=(t,e)=>{let n=[...u];n[t].chitiet.splice(e,1),0===n[t].chitiet.length&&n.splice(t,1),p(n)},T=(t,e,n)=>{let{value:i}=t.target,a=[...x];a[e]={...a[e],[n]:i},g(a)},F=(t,e,n,i)=>{let a=[...x];a[e].chitiet[n]={...a[e].chitiet[n],[i]:t},g(a)},_=t=>{g(x.filter((e,n)=>n!==t))},L=t=>{let e=[...x];e[t].chitiet.push({tukhoa:"",chuthich:""}),g(e)},H=(t,e)=>{let n=[...x];n[t].chitiet.splice(e,1),0===n[t].chitiet.length&&n.splice(t,1),g(n)};return t?(0,i.jsx)(o.Z,{}):(0,i.jsx)(h.Z,{body:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)(c.Z,{variant:"warning",onClick:()=>w(),children:"Cập Nhật"}),u?(0,i.jsxs)("table",{className:"phatam-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Ph\xe2n loại"}),(0,i.jsx)("th",{children:"Phụ \xe2m"}),(0,i.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"}),(0,i.jsx)("th",{children:"isHighLight"}),(0,i.jsx)("th",{children:"Excute"})]})}),(0,i.jsxs)("tbody",{children:[u.map((t,e)=>(0,i.jsxs)(a.Fragment,{children:[t.chitiet.map((n,a)=>(0,i.jsxs)("tr",{children:[0===a&&(0,i.jsxs)("td",{rowSpan:t.chitiet.length+1,children:[(0,i.jsx)("input",{type:"text",value:t.phanloai,onChange:t=>A(t,e,"phanloai")}),(0,i.jsx)(c.Z,{variant:"danger",onClick:()=>D(e),children:"X\xf3a"})]}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",value:n.tukhoa,onChange:t=>B(t.target.value,e,a,"tukhoa")})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",value:n.chuthich,onChange:t=>B(t.target.value,e,a,"chuthich")})}),(0,i.jsx)("td",{children:n.ishighlight?(0,i.jsx)(c.Z,{variant:"success",onClick:()=>E(e,a),children:"True"}):(0,i.jsx)(c.Z,{variant:"danger",onClick:()=>E(e,a),children:"False"})}),(0,i.jsx)("td",{children:(0,i.jsx)(c.Z,{variant:"danger",onClick:()=>Z(e,a),children:"X\xf3a"})})]},"".concat(e,"-").concat(a))),(0,i.jsx)("tr",{onClick:()=>P(e),style:{cursor:"pointer",background:"#f5f5f5"},children:(0,i.jsx)("td",{colSpan:3,style:{textAlign:"center",fontStyle:"italic"},children:"+ Th\xeam phụ \xe2m mới"})})]},e)),(0,i.jsx)("tr",{onClick:()=>{p([...u,{phanloai:"",chitiet:[{tukhoa:"",chuthich:""}]}])},style:{cursor:"pointer",background:"#e0e0e0"},children:(0,i.jsx)("td",{colSpan:4,style:{textAlign:"center",fontWeight:"bold",fontStyle:"italic"},children:"+ Th\xeam ph\xe2n loại mới"})})]})]}):null,u?(0,i.jsxs)("table",{className:"phatam-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Ph\xe2n loại"}),(0,i.jsx)("th",{children:"Phụ \xe2m"}),(0,i.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"})]})}),(0,i.jsx)("tbody",{children:u.map((t,e)=>(0,i.jsx)(a.Fragment,{children:t.chitiet.map((n,a)=>(0,i.jsxs)("tr",{children:[0===a&&(0,i.jsx)("td",{rowSpan:t.chitiet.length,children:(0,i.jsx)("strong",{children:t.phanloai})}),(0,i.jsxs)("td",{children:[n.tukhoa,(0,i.jsx)(c.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>b(n.tukhoa,a),children:"\uD83D\uDD0A"})]}),(0,i.jsx)("td",{style:{color:n.ishighlight?"red":"black"},children:n.chuthich})]},"".concat(e,"-").concat(a)))},e))})]}):null,(0,i.jsx)("hr",{}),x?(0,i.jsxs)("table",{className:"phatam-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Ph\xe2n loại"}),(0,i.jsx)("th",{children:"Vận Mẫu"}),(0,i.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"}),(0,i.jsx)("th",{children:"isHighLight"}),(0,i.jsx)("th",{children:"Excute"})]})}),(0,i.jsxs)("tbody",{children:[x.map((t,e)=>(0,i.jsxs)(a.Fragment,{children:[t.chitiet.map((n,a)=>(0,i.jsxs)("tr",{children:[0===a&&(0,i.jsxs)("td",{rowSpan:t.chitiet.length+1,children:[(0,i.jsx)("input",{type:"text",value:t.phanloai,onChange:t=>T(t,e,"phanloai")}),(0,i.jsx)(c.Z,{variant:"danger",onClick:()=>_(e),children:"X\xf3a"})]}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",value:n.tukhoa,onChange:t=>F(t.target.value,e,a,"tukhoa")})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",value:n.chuthich,onChange:t=>F(t.target.value,e,a,"chuthich")})}),(0,i.jsx)("td",{children:n.ishighlight?(0,i.jsx)(c.Z,{variant:"success",onClick:()=>N(e,a),children:"True"}):(0,i.jsx)(c.Z,{variant:"danger",onClick:()=>N(e,a),children:"False"})}),(0,i.jsx)("td",{children:(0,i.jsx)(c.Z,{variant:"danger",onClick:()=>H(e,a),children:"X\xf3a"})})]},"".concat(e,"-").concat(a))),(0,i.jsx)("tr",{onClick:()=>L(e),style:{cursor:"pointer",background:"#f5f5f5"},children:(0,i.jsx)("td",{colSpan:3,style:{textAlign:"center",fontStyle:"italic"},children:"+ Th\xeam phụ \xe2m mới"})})]},e)),(0,i.jsx)("tr",{onClick:()=>{g([...x,{phanloai:"",chitiet:[{tukhoa:"",chuthich:""}]}])},style:{cursor:"pointer",background:"#e0e0e0"},children:(0,i.jsx)("td",{colSpan:4,style:{textAlign:"center",fontWeight:"bold",fontStyle:"italic"},children:"+ Th\xeam ph\xe2n loại mới"})})]})]}):null,x?(0,i.jsxs)("table",{className:"phatam-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Ph\xe2n loại"}),(0,i.jsx)("th",{children:"Phụ \xe2m"}),(0,i.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"})]})}),(0,i.jsx)("tbody",{children:x.map((t,e)=>(0,i.jsx)(a.Fragment,{children:t.chitiet.map((n,a)=>(0,i.jsxs)("tr",{children:[0===a&&(0,i.jsx)("td",{rowSpan:t.chitiet.length,children:(0,i.jsx)("strong",{children:t.phanloai})}),(0,i.jsxs)("td",{children:[n.tukhoa,(0,i.jsx)(c.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>b(n.tukhoa,a),children:"\uD83D\uDD0A"})]}),(0,i.jsx)("td",{style:{color:n.ishighlight?"red":"black"},children:n.chuthich})]},"".concat(e,"-").concat(a)))},e))})]}):null]})})}},89745:function(t,e,n){"use strict";n.d(e,{M:function(){return c}});let i=null,a=-1,h=!1,c=async t=>{console.log(t);for(let e=0;e<t.length;e++)await s(t[e],e),await l(1e3)},s=(t,e)=>new Promise(e=>{speechSynthesis.speaking&&speechSynthesis.cancel();let n=new SpeechSynthesisUtterance(t);n.lang="zh-CN",n.rate=.7,n.onend=()=>{e()},speechSynthesis.speak(n)}),l=t=>new Promise(e=>setTimeout(e,t));e.Z=(t,e)=>{if(speechSynthesis.speaking&&a!==e&&speechSynthesis.cancel(),a===e){speechSynthesis.speaking&&h?(speechSynthesis.pause(),console.log("pause"),h=!1):(speechSynthesis.resume(),console.log("resume"),h=!0);return}h=!0,(i=new SpeechSynthesisUtterance(t)).lang="zh-CN",i.rate=.7,speechSynthesis.speak(i),a=e,i.onend=()=>{a=-1}}},31243:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var i=n(57437),a=n(2265),h=n(12808),c=n(38472),s=n(89745);function l(t){let{word:e,dataWrite:n,dataTranslate:l,isGianthe:r}=t,[o,d]=(0,a.useState)({}),u=l.result,p=n.result[0];(0,a.useEffect)(()=>{},[r]);let x=(t,e)=>t.split(RegExp("(".concat(e,")"),"gi")).map((t,n)=>t.toLowerCase()===e.toLowerCase()?(0,i.jsx)("span",{style:{color:"red"},children:t},n):t),g=async t=>{try{let e=await c.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(t)));if(e.data)return e.data.sentences[0].trans;return t}catch(e){return console.error("Lỗi khi gọi API:",e),t}},m=async(t,e)=>{var n="";console.log(r),n=r?t:await g(t),d(t=>({...t,[e]:n}))};return((0,a.useEffect)(()=>{var t;u&&(null===(t=u[0])||void 0===t?void 0:t.content)&&u[0].content.forEach((t,e)=>{(null==t?void 0:t.means)&&t.means.forEach((t,n)=>{t.examples&&t.examples.forEach((t,i)=>{let a="".concat(e,"-").concat(n,"-").concat(i);m(t.e,a)})})})},[u,r]),n&&l)?(0,i.jsx)("div",{className:"tumoi-item",children:(0,i.jsx)("div",{className:"tumoi-display",children:u.map((t,n)=>(0,i.jsxs)("div",{className:"tumoi-result-item",children:[(0,i.jsxs)("div",{className:"tumoi-display-header",children:[console.log(t),(0,i.jsxs)("h4",{children:[t.word," 【",t.cn_vi,"】(",t.pinyin,") Bộ thủ: (",p.sets,") H\xecnh th\xe1i: (",p.hinhthai,")"]})]}),t.content.map((t,a)=>t.means.map((t,c)=>{let l=t.examples?t.examples:null,r=t.mean,d="".concat(n,"-").concat(a,"-").concat(c);return(0,i.jsxs)("div",{className:"tumoi-nghia",children:[(0,i.jsxs)("h4",{className:"tumoi-nghia-shower",children:["Nghĩa ",c+1," (Phần ",a+1,", Từ ",n+1,"): ",r]}),l&&l.map((t,l)=>{let r=t.e,d=t.m,u=t.p,p=o["".concat(n,"-").concat(a,"-").concat(c,"-").concat(l)]||r;return(0,i.jsxs)("div",{className:"tumoi-vidu",children:[(0,i.jsxs)("h5",{children:["V\xed dụ ",l+1]}),(0,i.jsx)("span",{children:x(p,e)}),(0,i.jsx)(h.Z,{className:"btn-phatamthanh",style:{maxWidth:"50px",maxHeight:"50px"},variant:"danger",onClick:()=>(0,s.Z)(r,l),children:"\uD83D\uDD0A"}),(0,i.jsx)("p",{children:u}),(0,i.jsx)("p",{children:d})]},l)}),(0,i.jsx)("hr",{})]},d)}))]},n))})}):null}}},function(t){t.O(0,[4358,7481,9208,9461,5973,3539,8472,609,6901,7468,4547,2971,7023,1744],function(){return t(t.s=36602)}),_N_E=t.O()}]);