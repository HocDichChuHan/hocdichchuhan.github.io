(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[482],{6602:function(e,t,n){Promise.resolve().then(n.bind(n,1834))},1834:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var a=n(7437),s=n(2265),i=n(8708),A=n(35),r=n(4379),c=n.n(r),l=n(5606);n(8833),n(1795);var h=n(9768);n(7138),n(6648),n(1243);var o=n(3508);function d(){let[e,t]=(0,s.useState)(!0),[n,r]=(0,s.useState)(),[d,u]=(0,s.useState)(),[m,g]=(0,s.useState)(),[p,x]=(0,s.useState)(!1),[j,f]=(0,s.useState)(!1),[B,E]=(0,s.useState)(!1);(0,s.useEffect)(()=>{y();let e=(0,o.GJ)(),t=(0,o.bg)();f(e),x(t)},[]);let y=async()=>{try{var e=JSON.parse(localStorage.getItem("allData"));e||await v(),e=await JSON.parse(localStorage.getItem("allData"));let n=await e.find(e=>"phatam"===e.key),a=await n.value.thanhmau,s=await n.value.vanmau;r(n),u(a),g(s),t(!1)}catch(e){t(!1),console.error("Error getting dichthuat data: ",e)}},v=async()=>{try{let e=(await (0,l.UD)("/users")).map(e=>{if("account"===e.key&&e.value){let t={};for(let n in e.value)if(e.value.hasOwnProperty(n)){let{username:a,password:s,...i}=e.value[n];t[n]=i}return{...e,value:t}}return e});await localStorage.setItem("allData",JSON.stringify(e))}catch(e){console.error("Error fetching data:",e)}},C=async()=>{t(!0);try{await Promise.all([(0,l.Pf)("/users/phatam/thanhmau",d),(0,l.Pf)("/users/phatam/vanmau",m)]),t(!1),await c().fire({position:"center",icon:"success",title:"Cập nhật th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(t){console.error("Lỗi :",t);let e={message:"Lỗi : "+t.message};c().fire(t.message,"","info"),setState(t=>({...t,error:e}))}finally{t(!1)}},w=async(e,t)=>{if(!e)return;let n=e.toUpperCase();console.log(n);let a="https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/".concat(n,".mp3");var s="";s=0==t?"https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/B%C3%A0i-2.-H%E1%BB%8Dc-ti%E1%BA%BFng-Trung-C%C6%A1-b%E1%BA%A3n-Ph%E1%BB%A5-%C3%A2m-Thanh-m%E1%BA%ABu-trong-ti%E1%BA%BFng.mp3":1==t?"https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/%E6%B3%BC.mp3":"https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/B%C3%A0i-2.-H%E1%BB%8Dc-ti%E1%BA%BFng-Trung-C%C6%A1-b%E1%BA%A3n-Ph%E1%BB%A5-%C3%A2m-Thanh-m%E1%BA%ABu-trong-ti%E1%BA%BFng-".concat(t,".mp3");let i=new Audio(a);i.onerror=()=>{console.warn("Kh\xf4ng thể ph\xe1t: ".concat(a,", chuyển sang file dự ph\xf2ng.")),new Audio(s).play()},i.play()},N=(e,t,n)=>{let{value:a}=e.target,s=[...d];s[t]={...s[t],[n]:a},u(s)},S=(e,t,n,a)=>{let s=[...d];s[t].chitiet[n]={...s[t].chitiet[n],[a]:e},u(s)},b=e=>{u(d.filter((t,n)=>n!==e))},k=e=>{let t=[...d];t[e].chitiet.push({tukhoa:"",chuthich:""}),u(t)},D=(e,t)=>{let n=[...d];n[e].chitiet.splice(t,1),0===n[e].chitiet.length&&n.splice(e,1),u(n)};return e?(0,a.jsx)(h.Z,{}):(0,a.jsx)(i.Z,{body:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)(A.Z,{variant:"warning",onClick:()=>C(),children:"Cập Nhật"}),d?(0,a.jsxs)("table",{className:"phatam-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Ph\xe2n loại"}),(0,a.jsx)("th",{children:"Phụ \xe2m"}),(0,a.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"}),(0,a.jsx)("th",{children:"Excute"})]})}),(0,a.jsxs)("tbody",{children:[d.map((e,t)=>(0,a.jsxs)(s.Fragment,{children:[e.chitiet.map((n,s)=>(0,a.jsxs)("tr",{children:[0===s&&(0,a.jsxs)("td",{rowSpan:e.chitiet.length+1,children:[(0,a.jsx)("input",{type:"text",value:e.phanloai,onChange:e=>N(e,t,"phanloai")}),(0,a.jsx)(A.Z,{variant:"danger",onClick:()=>b(t),children:"X\xf3a"})]}),(0,a.jsx)("td",{children:(0,a.jsx)("input",{type:"text",value:n.tukhoa,onChange:e=>S(e.target.value,t,s,"tukhoa")})}),(0,a.jsx)("td",{children:(0,a.jsx)("input",{type:"text",value:n.chuthich,onChange:e=>S(e.target.value,t,s,"chuthich")})}),(0,a.jsx)("td",{children:(0,a.jsx)(A.Z,{variant:"danger",onClick:()=>D(t,s),children:"X\xf3a"})})]},"".concat(t,"-").concat(s))),(0,a.jsx)("tr",{onClick:()=>k(t),style:{cursor:"pointer",background:"#f5f5f5"},children:(0,a.jsx)("td",{colSpan:3,style:{textAlign:"center",fontStyle:"italic"},children:"+ Th\xeam phụ \xe2m mới"})})]},t)),(0,a.jsx)("tr",{onClick:()=>{u([...d,{phanloai:"",chitiet:[{tukhoa:"",chuthich:""}]}])},style:{cursor:"pointer",background:"#e0e0e0"},children:(0,a.jsx)("td",{colSpan:4,style:{textAlign:"center",fontWeight:"bold",fontStyle:"italic"},children:"+ Th\xeam ph\xe2n loại mới"})})]})]}):null,d?(0,a.jsxs)("table",{className:"phatam-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Ph\xe2n loại"}),(0,a.jsx)("th",{children:"Phụ \xe2m"}),(0,a.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"})]})}),(0,a.jsx)("tbody",{children:d.map((e,t)=>(0,a.jsx)(s.Fragment,{children:e.chitiet.map((n,s)=>(0,a.jsxs)("tr",{children:[0===s&&(0,a.jsx)("td",{rowSpan:e.chitiet.length,children:(0,a.jsx)("strong",{children:e.phanloai})}),(0,a.jsxs)("td",{children:[n.tukhoa,(0,a.jsx)(A.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>w(n.tukhoa,s),children:"\uD83D\uDD0A"})]}),(0,a.jsx)("td",{children:n.chuthich})]},"".concat(t,"-").concat(s)))},t))})]}):null]})})}},9745:function(e,t){"use strict";let n=null,a=-1,s=!1;t.Z=(e,t)=>{if(speechSynthesis.speaking&&a!==t&&speechSynthesis.cancel(),a===t){speechSynthesis.speaking&&s?(speechSynthesis.pause(),console.log("pause"),s=!1):(speechSynthesis.resume(),console.log("resume"),s=!0);return}s=!0,(n=new SpeechSynthesisUtterance(e)).lang="zh-CN",n.rate=.8,speechSynthesis.speak(n),a=t,n.onend=()=>{a=-1}}},3508:function(e,t,n){"use strict";n.d(t,{GJ:function(){return m},LA:function(){return d},bg:function(){return g},o0:function(){return h},xb:function(){return o},yI:function(){return u}});var a=n(7437),s=n(9782),i=n(1213),A=n(2265),r=n(5749),c=n(6648),l=n(8472);let h=e=>{if(!e)return"";try{let t=new Date(e);return(0,s.WU)(t,"h:mm a, dd 'Th\xe1ng' MM, yyyy",{locale:i.vi})}catch(t){return console.error("Invalid date format:",e),e}};function o(e){return(0,a.jsxs)("div",{className:"itemCard-container-dashboardView",children:[(0,a.jsxs)("div",{className:"itemCard-UserName itemcard-UserName-sticky",children:[(0,a.jsxs)("div",{className:"itemCard-UserName-1",children:[(0,a.jsx)(c.default,{src:e.imgUser?e.imgUser:r.Z,alt:"img",width:30,height:30}),(0,a.jsxs)("div",{className:"itemCard-UserName-container",children:[(0,a.jsx)("h4",{className:"username-card",children:e.username}),(0,a.jsx)("p",{style:{margin:"0"},children:h(e.dateTime)})]})]}),(()=>{let t=localStorage.getItem("name");return e.username==t?(0,a.jsx)("div",{className:"itemCard-UserName-1",children:(0,a.jsx)("button",{className:"btn btn-options",onClick:e.removeClick,style:{padding:"0",margin:"0"},children:(0,a.jsx)("i",{className:"fa-solid fa-trash"})})}):null})()]}),(0,a.jsx)("div",{className:"itemCard-baiDich",children:e.baidich})]})}let d=(e,t)=>e?e.split(RegExp("(".concat(t,")"),"gi")).map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,a.jsx)("span",{style:{color:"red"},children:e},n):e.split("\n").map((e,t,n)=>t===n.length-1?e:(0,a.jsxs)(A.Fragment,{children:[e,(0,a.jsx)("br",{})]},t))):null,u=async e=>{let t=encodeURIComponent(e),n=await l.Z.get("https://api.hanzii.net/api/search/vi/".concat(t,"?type=word&page=1&limit=2"));return n.data.found?n.data:null},m=()=>"duong171099"==localStorage.getItem("user"),g=()=>!!localStorage.getItem("name")},1243:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(7437),s=n(2265),i=n(35),A=n(8472),r=n(9745);function c(e){let{word:t,dataWrite:n,dataTranslate:c}=e,[l,h]=(0,s.useState)({}),o=c.result,d=n.result[0],u=(e,t)=>e.split(RegExp("(".concat(t,")"),"gi")).map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,a.jsx)("span",{style:{color:"red"},children:e},n):e),m=async e=>{try{let t=await A.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(e)));if(t.data)return t.data.sentences[0].trans;return e}catch(t){return console.error("Lỗi khi gọi API:",t),e}},g=async(e,t)=>{let n=await m(e);h(e=>({...e,[t]:n}))};return((0,s.useEffect)(()=>{var e,t;o&&(null===(t=o[0])||void 0===t?void 0:null===(e=t.content[0])||void 0===e?void 0:e.means)&&o[0].content[0].means.forEach((e,t)=>{e.examples&&e.examples.forEach((e,n)=>{let a="".concat(t,"-").concat(n);g(e.e,a)})})},[o]),n&&c)?(0,a.jsx)("div",{className:"tumoi-item",children:(0,a.jsxs)("div",{className:"tumoi-display",children:[(0,a.jsx)("div",{className:"tumoi-display-header",children:(0,a.jsxs)("h4",{children:[t," 【",o[0].cn_vi,"】(",o[0].pinyin,") Bộ thủ: (",d.sets,") H\xecnh th\xe1i: (",d.hinhthai,")"]})}),o[0].content[0].means.map((e,n)=>{let s=e.examples?e.examples:null,A=e.mean;return(0,a.jsxs)("div",{className:"tumoi-nghia",children:[(0,a.jsxs)("h4",{className:"tumoi-nghia-shower",children:["Nghĩa ",n+1,": ",A]}),s&&s.map((e,s)=>{let A=e.e,c=e.m,h=e.p,o=l["".concat(n,"-").concat(s)]||A;return(0,a.jsxs)("div",{className:"tumoi-vidu",children:[(0,a.jsxs)("h5",{children:["V\xed dụ ",s+1]}),(0,a.jsx)("span",{children:u(o,t)}),(0,a.jsx)(i.Z,{className:"btn-phatamthanh",style:{maxWidth:"50px",maxHeight:"50px"},variant:"danger",onClick:()=>(0,r.Z)(A,s),children:"\uD83D\uDD0A"}),(0,a.jsx)("p",{children:h}),(0,a.jsx)("p",{children:c})]},s)}),(0,a.jsx)("hr",{})]},n)})]})}):null}},5749:function(e,t){"use strict";t.Z={src:"/_next/static/media/user.f64324c2.jpg",height:200,width:200,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAG0E//EABUQAQEAAAAAAAAAAAAAAAAAABMk/9oACAEBAAEFAlo//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwF//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPwF//8QAGBAAAgMAAAAAAAAAAAAAAAAAABIxQWH/2gAIAQEABj8CRqjT/8QAGBAAAgMAAAAAAAAAAAAAAAAAESEAMbH/2gAIAQEAAT8hGkETU//aAAwDAQACAAMAAAAQ+//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABgQAAIDAAAAAAAAAAAAAAAAAAARQZGh/9oACAEBAAE/ELbi5YP/2Q==",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[7481,9461,630,6648,8472,609,8708,8151,2971,7023,1744],function(){return e(e.s=6602)}),_N_E=e.O()}]);