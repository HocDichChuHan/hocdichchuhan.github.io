(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[482],{1474:function(t,e,i){Promise.resolve().then(i.bind(i,1834))},1834:function(t,e,i){"use strict";i.d(e,{default:function(){return u}});var n=i(7437),h=i(2265),a=i(8708),l=i(2808),c=i(4379),r=i.n(c),s=i(5606);i(8833),i(1795);var o=i(9768);i(7138),i(6648),i(1243);var d=i(3508);function u(){let[t,e]=(0,h.useState)(!0),[i,c]=(0,h.useState)(),[u,g]=(0,h.useState)(),[x,p]=(0,h.useState)(),[j,m]=(0,h.useState)(!1),[f,y]=(0,h.useState)(!1),[C,k]=(0,h.useState)(!1);(0,h.useEffect)(()=>{v();let t=(0,d.GJ)(),e=(0,d.bg)();y(t),m(e)},[]);let v=async()=>{try{var t=JSON.parse(localStorage.getItem("allData"));t||await b(),t=await JSON.parse(localStorage.getItem("allData"));let i=await t.find(t=>"phatam"===t.key),n=await i.value.thanhmau,h=await i.value.vanmau;c(i),g(n),p(h),e(!1)}catch(t){e(!1),console.error("Error getting dichthuat data: ",t)}},b=async()=>{try{let t=(await (0,s.UD)("/users")).map(t=>{if("account"===t.key&&t.value){let e={};for(let i in t.value)if(t.value.hasOwnProperty(i)){let{username:n,password:h,...a}=t.value[i];e[i]=a}return{...t,value:e}}return t});await localStorage.setItem("allData",JSON.stringify(t))}catch(t){console.error("Error fetching data:",t)}},A=async()=>{e(!0);try{await Promise.all([(0,s.Pf)("/users/phatam/thanhmau",u),(0,s.Pf)("/users/phatam/vanmau",x)]),e(!1),await r().fire({position:"center",icon:"success",title:"Cập nhật th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(e){console.error("Lỗi :",e);let t={message:"Lỗi : "+e.message};r().fire(e.message,"","info"),setState(e=>({...e,error:t}))}finally{e(!1)}},B=async(t,e)=>{if(!t)return;let i=t.toUpperCase();console.log(i);let n="https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/".concat(i,".mp3");var h="";h=0==e?"https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/B%C3%A0i-2.-H%E1%BB%8Dc-ti%E1%BA%BFng-Trung-C%C6%A1-b%E1%BA%A3n-Ph%E1%BB%A5-%C3%A2m-Thanh-m%E1%BA%ABu-trong-ti%E1%BA%BFng.mp3":1==e?"https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/%E6%B3%BC.mp3":"https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/B%C3%A0i-2.-H%E1%BB%8Dc-ti%E1%BA%BFng-Trung-C%C6%A1-b%E1%BA%A3n-Ph%E1%BB%A5-%C3%A2m-Thanh-m%E1%BA%ABu-trong-ti%E1%BA%BFng-".concat(e,".mp3");let a=new Audio(n);a.onerror=()=>{console.warn("Kh\xf4ng thể ph\xe1t: ".concat(n,", chuyển sang file dự ph\xf2ng.")),new Audio(h).play()},a.play()},S=(t,e,i)=>{let{value:n}=t.target,h=[...u];h[e]={...h[e],[i]:n},g(h)},w=(t,e,i,n)=>{let h=[...u];h[e].chitiet[i]={...h[e].chitiet[i],[n]:t},g(h)},E=(t,e)=>{let i=[...u];i[t].chitiet[e]={...i[t].chitiet[e],ishighlight:!i[t].chitiet[e].ishighlight},g(i)},D=(t,e)=>{let i=[...x];i[t].chitiet[e]={...i[t].chitiet[e],ishighlight:!i[t].chitiet[e].ishighlight},p(i)},N=t=>{g(u.filter((e,i)=>i!==t))},P=t=>{let e=[...u];e[t].chitiet.push({tukhoa:"",chuthich:""}),g(e)},Z=(t,e)=>{let i=[...u];i[t].chitiet.splice(e,1),0===i[t].chitiet.length&&i.splice(t,1),g(i)},F=(t,e,i)=>{let{value:n}=t.target,h=[...x];h[e]={...h[e],[i]:n},p(h)},T=(t,e,i,n)=>{let h=[...x];h[e].chitiet[i]={...h[e].chitiet[i],[n]:t},p(h)},O=t=>{p(x.filter((e,i)=>i!==t))},_=t=>{let e=[...x];e[t].chitiet.push({tukhoa:"",chuthich:""}),p(e)},H=(t,e)=>{let i=[...x];i[t].chitiet.splice(e,1),0===i[t].chitiet.length&&i.splice(t,1),p(i)};return t?(0,n.jsx)(o.Z,{}):(0,n.jsx)(a.Z,{body:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)(l.Z,{variant:"warning",onClick:()=>A(),children:"Cập Nhật"}),u?(0,n.jsxs)("table",{className:"phatam-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Ph\xe2n loại"}),(0,n.jsx)("th",{children:"Phụ \xe2m"}),(0,n.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"}),(0,n.jsx)("th",{children:"isHighLight"}),(0,n.jsx)("th",{children:"Excute"})]})}),(0,n.jsxs)("tbody",{children:[u.map((t,e)=>(0,n.jsxs)(h.Fragment,{children:[t.chitiet.map((i,h)=>(0,n.jsxs)("tr",{children:[0===h&&(0,n.jsxs)("td",{rowSpan:t.chitiet.length+1,children:[(0,n.jsx)("input",{type:"text",value:t.phanloai,onChange:t=>S(t,e,"phanloai")}),(0,n.jsx)(l.Z,{variant:"danger",onClick:()=>N(e),children:"X\xf3a"})]}),(0,n.jsx)("td",{children:(0,n.jsx)("input",{type:"text",value:i.tukhoa,onChange:t=>w(t.target.value,e,h,"tukhoa")})}),(0,n.jsx)("td",{children:(0,n.jsx)("input",{type:"text",value:i.chuthich,onChange:t=>w(t.target.value,e,h,"chuthich")})}),(0,n.jsx)("td",{children:i.ishighlight?(0,n.jsx)(l.Z,{variant:"success",onClick:()=>E(e,h),children:"True"}):(0,n.jsx)(l.Z,{variant:"danger",onClick:()=>E(e,h),children:"False"})}),(0,n.jsx)("td",{children:(0,n.jsx)(l.Z,{variant:"danger",onClick:()=>Z(e,h),children:"X\xf3a"})})]},"".concat(e,"-").concat(h))),(0,n.jsx)("tr",{onClick:()=>P(e),style:{cursor:"pointer",background:"#f5f5f5"},children:(0,n.jsx)("td",{colSpan:3,style:{textAlign:"center",fontStyle:"italic"},children:"+ Th\xeam phụ \xe2m mới"})})]},e)),(0,n.jsx)("tr",{onClick:()=>{g([...u,{phanloai:"",chitiet:[{tukhoa:"",chuthich:""}]}])},style:{cursor:"pointer",background:"#e0e0e0"},children:(0,n.jsx)("td",{colSpan:4,style:{textAlign:"center",fontWeight:"bold",fontStyle:"italic"},children:"+ Th\xeam ph\xe2n loại mới"})})]})]}):null,u?(0,n.jsxs)("table",{className:"phatam-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Ph\xe2n loại"}),(0,n.jsx)("th",{children:"Phụ \xe2m"}),(0,n.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"})]})}),(0,n.jsx)("tbody",{children:u.map((t,e)=>(0,n.jsx)(h.Fragment,{children:t.chitiet.map((i,h)=>(0,n.jsxs)("tr",{children:[0===h&&(0,n.jsx)("td",{rowSpan:t.chitiet.length,children:(0,n.jsx)("strong",{children:t.phanloai})}),(0,n.jsxs)("td",{children:[i.tukhoa,(0,n.jsx)(l.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>B(i.tukhoa,h),children:"\uD83D\uDD0A"})]}),(0,n.jsx)("td",{style:{color:i.ishighlight?"red":"black"},children:i.chuthich})]},"".concat(e,"-").concat(h)))},e))})]}):null,(0,n.jsx)("hr",{}),x?(0,n.jsxs)("table",{className:"phatam-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Ph\xe2n loại"}),(0,n.jsx)("th",{children:"Vận Mẫu"}),(0,n.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"}),(0,n.jsx)("th",{children:"isHighLight"}),(0,n.jsx)("th",{children:"Excute"})]})}),(0,n.jsxs)("tbody",{children:[x.map((t,e)=>(0,n.jsxs)(h.Fragment,{children:[t.chitiet.map((i,h)=>(0,n.jsxs)("tr",{children:[0===h&&(0,n.jsxs)("td",{rowSpan:t.chitiet.length+1,children:[(0,n.jsx)("input",{type:"text",value:t.phanloai,onChange:t=>F(t,e,"phanloai")}),(0,n.jsx)(l.Z,{variant:"danger",onClick:()=>O(e),children:"X\xf3a"})]}),(0,n.jsx)("td",{children:(0,n.jsx)("input",{type:"text",value:i.tukhoa,onChange:t=>T(t.target.value,e,h,"tukhoa")})}),(0,n.jsx)("td",{children:(0,n.jsx)("input",{type:"text",value:i.chuthich,onChange:t=>T(t.target.value,e,h,"chuthich")})}),(0,n.jsx)("td",{children:i.ishighlight?(0,n.jsx)(l.Z,{variant:"success",onClick:()=>D(e,h),children:"True"}):(0,n.jsx)(l.Z,{variant:"danger",onClick:()=>D(e,h),children:"False"})}),(0,n.jsx)("td",{children:(0,n.jsx)(l.Z,{variant:"danger",onClick:()=>H(e,h),children:"X\xf3a"})})]},"".concat(e,"-").concat(h))),(0,n.jsx)("tr",{onClick:()=>_(e),style:{cursor:"pointer",background:"#f5f5f5"},children:(0,n.jsx)("td",{colSpan:3,style:{textAlign:"center",fontStyle:"italic"},children:"+ Th\xeam phụ \xe2m mới"})})]},e)),(0,n.jsx)("tr",{onClick:()=>{p([...x,{phanloai:"",chitiet:[{tukhoa:"",chuthich:""}]}])},style:{cursor:"pointer",background:"#e0e0e0"},children:(0,n.jsx)("td",{colSpan:4,style:{textAlign:"center",fontWeight:"bold",fontStyle:"italic"},children:"+ Th\xeam ph\xe2n loại mới"})})]})]}):null,x?(0,n.jsxs)("table",{className:"phatam-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Ph\xe2n loại"}),(0,n.jsx)("th",{children:"Phụ \xe2m"}),(0,n.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"})]})}),(0,n.jsx)("tbody",{children:x.map((t,e)=>(0,n.jsx)(h.Fragment,{children:t.chitiet.map((i,h)=>(0,n.jsxs)("tr",{children:[0===h&&(0,n.jsx)("td",{rowSpan:t.chitiet.length,children:(0,n.jsx)("strong",{children:t.phanloai})}),(0,n.jsxs)("td",{children:[i.tukhoa,(0,n.jsx)(l.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>B(i.tukhoa,h),children:"\uD83D\uDD0A"})]}),(0,n.jsx)("td",{style:{color:i.ishighlight?"red":"black"},children:i.chuthich})]},"".concat(e,"-").concat(h)))},e))})]}):null]})})}}},function(t){t.O(0,[4358,7481,9208,9461,5973,7143,8472,609,6901,8708,4547,6602,2971,7023,1744],function(){return t(t.s=1474)}),_N_E=t.O()}]);