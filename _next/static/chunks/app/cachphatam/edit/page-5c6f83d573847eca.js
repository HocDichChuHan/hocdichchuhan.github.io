(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[482],{41474:function(t,e,n){Promise.resolve().then(n.bind(n,31834))},31834:function(t,e,n){"use strict";n.d(e,{default:function(){return d}});var i=n(57437),a=n(2265),r=n(66802),c=n(12808),s=n(64379),h=n.n(s),l=n(65606);n(58833),n(91795);var A=n(19768);n(87138),n(66648),n(31243);var o=n(23508);function d(){let[t,e]=(0,a.useState)(!0),[n,s]=(0,a.useState)(),[d,u]=(0,a.useState)(),[g,m]=(0,a.useState)(),[x,p]=(0,a.useState)(!1),[j,f]=(0,a.useState)(!1),[C,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{B();let t=(0,o.GJ)(),e=(0,o.bg)();f(t),p(e)},[]);let B=async()=>{try{var t=JSON.parse(localStorage.getItem("allData"));t||await v(),t=await JSON.parse(localStorage.getItem("allData"));let n=await t.find(t=>"phatam"===t.key),i=await n.value.thanhmau,a=await n.value.vanmau;s(n),u(i),m(a),e(!1)}catch(t){e(!1),console.error("Error getting dichthuat data: ",t)}},v=async()=>{try{let t=(await (0,l.UD)("/users")).map(t=>{if("account"===t.key&&t.value){let e={};for(let n in t.value)if(t.value.hasOwnProperty(n)){let{username:i,password:a,...r}=t.value[n];e[n]=r}return{...t,value:e}}return t});await localStorage.setItem("allData",JSON.stringify(t))}catch(t){console.error("Error fetching data:",t)}},E=async()=>{e(!0);try{await Promise.all([(0,l.Pf)("/users/phatam/thanhmau",d),(0,l.Pf)("/users/phatam/vanmau",g)]),e(!1),await h().fire({position:"center",icon:"success",title:"Cập nhật th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}catch(e){console.error("Lỗi :",e);let t={message:"Lỗi : "+e.message};h().fire(e.message,"","info"),setState(e=>({...e,error:t}))}finally{e(!1)}},b=async(t,e)=>{if(!t)return;let n=t.toUpperCase();console.log(n);let i="https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/".concat(n,".mp3");var a="";a=0==e?"https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/B%C3%A0i-2.-H%E1%BB%8Dc-ti%E1%BA%BFng-Trung-C%C6%A1-b%E1%BA%A3n-Ph%E1%BB%A5-%C3%A2m-Thanh-m%E1%BA%ABu-trong-ti%E1%BA%BFng.mp3":1==e?"https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/%E6%B3%BC.mp3":"https://tiengtrungthuonghai.com/wp-content/uploads/2019/12/B%C3%A0i-2.-H%E1%BB%8Dc-ti%E1%BA%BFng-Trung-C%C6%A1-b%E1%BA%A3n-Ph%E1%BB%A5-%C3%A2m-Thanh-m%E1%BA%ABu-trong-ti%E1%BA%BFng-".concat(e,".mp3");let r=new Audio(i);r.onerror=()=>{console.warn("Kh\xf4ng thể ph\xe1t: ".concat(i,", chuyển sang file dự ph\xf2ng.")),new Audio(a).play()},r.play()},w=(t,e,n)=>{let{value:i}=t.target,a=[...d];a[e]={...a[e],[n]:i},u(a)},k=(t,e,n,i)=>{let a=[...d];a[e].chitiet[n]={...a[e].chitiet[n],[i]:t},u(a)},S=(t,e)=>{let n=[...d];n[t].chitiet[e]={...n[t].chitiet[e],ishighlight:!n[t].chitiet[e].ishighlight},u(n)},N=(t,e)=>{let n=[...g];n[t].chitiet[e]={...n[t].chitiet[e],ishighlight:!n[t].chitiet[e].ishighlight},m(n)},D=t=>{u(d.filter((e,n)=>n!==t))},Q=t=>{let e=[...d];e[t].chitiet.push({tukhoa:"",chuthich:""}),u(e)},I=(t,e)=>{let n=[...d];n[t].chitiet.splice(e,1),0===n[t].chitiet.length&&n.splice(t,1),u(n)},P=(t,e,n)=>{let{value:i}=t.target,a=[...g];a[e]={...a[e],[n]:i},m(a)},z=(t,e,n,i)=>{let a=[...g];a[e].chitiet[n]={...a[e].chitiet[n],[i]:t},m(a)},O=t=>{m(g.filter((e,n)=>n!==t))},F=t=>{let e=[...g];e[t].chitiet.push({tukhoa:"",chuthich:""}),m(e)},Z=(t,e)=>{let n=[...g];n[t].chitiet.splice(e,1),0===n[t].chitiet.length&&n.splice(t,1),m(n)};return t?(0,i.jsx)(A.Z,{}):(0,i.jsx)(r.Z,{body:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)(c.Z,{variant:"warning",onClick:()=>E(),children:"Cập Nhật"}),d?(0,i.jsxs)("table",{className:"phatam-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Ph\xe2n loại"}),(0,i.jsx)("th",{children:"Phụ \xe2m"}),(0,i.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"}),(0,i.jsx)("th",{children:"isHighLight"}),(0,i.jsx)("th",{children:"Excute"})]})}),(0,i.jsxs)("tbody",{children:[d.map((t,e)=>(0,i.jsxs)(a.Fragment,{children:[t.chitiet.map((n,a)=>(0,i.jsxs)("tr",{children:[0===a&&(0,i.jsxs)("td",{rowSpan:t.chitiet.length+1,children:[(0,i.jsx)("input",{type:"text",value:t.phanloai,onChange:t=>w(t,e,"phanloai")}),(0,i.jsx)(c.Z,{variant:"danger",onClick:()=>D(e),children:"X\xf3a"})]}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",value:n.tukhoa,onChange:t=>k(t.target.value,e,a,"tukhoa")})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",value:n.chuthich,onChange:t=>k(t.target.value,e,a,"chuthich")})}),(0,i.jsx)("td",{children:n.ishighlight?(0,i.jsx)(c.Z,{variant:"success",onClick:()=>S(e,a),children:"True"}):(0,i.jsx)(c.Z,{variant:"danger",onClick:()=>S(e,a),children:"False"})}),(0,i.jsx)("td",{children:(0,i.jsx)(c.Z,{variant:"danger",onClick:()=>I(e,a),children:"X\xf3a"})})]},"".concat(e,"-").concat(a))),(0,i.jsx)("tr",{onClick:()=>Q(e),style:{cursor:"pointer",background:"#f5f5f5"},children:(0,i.jsx)("td",{colSpan:3,style:{textAlign:"center",fontStyle:"italic"},children:"+ Th\xeam phụ \xe2m mới"})})]},e)),(0,i.jsx)("tr",{onClick:()=>{u([...d,{phanloai:"",chitiet:[{tukhoa:"",chuthich:""}]}])},style:{cursor:"pointer",background:"#e0e0e0"},children:(0,i.jsx)("td",{colSpan:4,style:{textAlign:"center",fontWeight:"bold",fontStyle:"italic"},children:"+ Th\xeam ph\xe2n loại mới"})})]})]}):null,d?(0,i.jsxs)("table",{className:"phatam-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Ph\xe2n loại"}),(0,i.jsx)("th",{children:"Phụ \xe2m"}),(0,i.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"})]})}),(0,i.jsx)("tbody",{children:d.map((t,e)=>(0,i.jsx)(a.Fragment,{children:t.chitiet.map((n,a)=>(0,i.jsxs)("tr",{children:[0===a&&(0,i.jsx)("td",{rowSpan:t.chitiet.length,children:(0,i.jsx)("strong",{children:t.phanloai})}),(0,i.jsxs)("td",{children:[n.tukhoa,(0,i.jsx)(c.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>b(n.tukhoa,a),children:"\uD83D\uDD0A"})]}),(0,i.jsx)("td",{style:{color:n.ishighlight?"red":"black"},children:n.chuthich})]},"".concat(e,"-").concat(a)))},e))})]}):null,(0,i.jsx)("hr",{}),g?(0,i.jsxs)("table",{className:"phatam-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Ph\xe2n loại"}),(0,i.jsx)("th",{children:"Vận Mẫu"}),(0,i.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"}),(0,i.jsx)("th",{children:"isHighLight"}),(0,i.jsx)("th",{children:"Excute"})]})}),(0,i.jsxs)("tbody",{children:[g.map((t,e)=>(0,i.jsxs)(a.Fragment,{children:[t.chitiet.map((n,a)=>(0,i.jsxs)("tr",{children:[0===a&&(0,i.jsxs)("td",{rowSpan:t.chitiet.length+1,children:[(0,i.jsx)("input",{type:"text",value:t.phanloai,onChange:t=>P(t,e,"phanloai")}),(0,i.jsx)(c.Z,{variant:"danger",onClick:()=>O(e),children:"X\xf3a"})]}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",value:n.tukhoa,onChange:t=>z(t.target.value,e,a,"tukhoa")})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",value:n.chuthich,onChange:t=>z(t.target.value,e,a,"chuthich")})}),(0,i.jsx)("td",{children:n.ishighlight?(0,i.jsx)(c.Z,{variant:"success",onClick:()=>N(e,a),children:"True"}):(0,i.jsx)(c.Z,{variant:"danger",onClick:()=>N(e,a),children:"False"})}),(0,i.jsx)("td",{children:(0,i.jsx)(c.Z,{variant:"danger",onClick:()=>Z(e,a),children:"X\xf3a"})})]},"".concat(e,"-").concat(a))),(0,i.jsx)("tr",{onClick:()=>F(e),style:{cursor:"pointer",background:"#f5f5f5"},children:(0,i.jsx)("td",{colSpan:3,style:{textAlign:"center",fontStyle:"italic"},children:"+ Th\xeam phụ \xe2m mới"})})]},e)),(0,i.jsx)("tr",{onClick:()=>{m([...g,{phanloai:"",chitiet:[{tukhoa:"",chuthich:""}]}])},style:{cursor:"pointer",background:"#e0e0e0"},children:(0,i.jsx)("td",{colSpan:4,style:{textAlign:"center",fontWeight:"bold",fontStyle:"italic"},children:"+ Th\xeam ph\xe2n loại mới"})})]})]}):null,g?(0,i.jsxs)("table",{className:"phatam-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Ph\xe2n loại"}),(0,i.jsx)("th",{children:"Phụ \xe2m"}),(0,i.jsx)("th",{children:"C\xe1ch ph\xe1t \xe2m"})]})}),(0,i.jsx)("tbody",{children:g.map((t,e)=>(0,i.jsx)(a.Fragment,{children:t.chitiet.map((n,a)=>(0,i.jsxs)("tr",{children:[0===a&&(0,i.jsx)("td",{rowSpan:t.chitiet.length,children:(0,i.jsx)("strong",{children:t.phanloai})}),(0,i.jsxs)("td",{children:[n.tukhoa,(0,i.jsx)(c.Z,{className:"btn-phatamthanh",variant:"info",onClick:()=>b(n.tukhoa,a),children:"\uD83D\uDD0A"})]}),(0,i.jsx)("td",{style:{color:n.ishighlight?"red":"black"},children:n.chuthich})]},"".concat(e,"-").concat(a)))},e))})]}):null]})})}},23508:function(t,e,n){"use strict";n.d(e,{FF:function(){return m},GJ:function(){return C},Gv:function(){return g},LA:function(){return u},PA:function(){return x},Pw:function(){return j},V2:function(){return p},bg:function(){return y},o0:function(){return o},sq:function(){return B},xb:function(){return d},yI:function(){return f}});var i=n(57437),a=n(9782),r=n(31213),c=n(2265),s=n(45749),h=n(66648),l=n(38472),A=n(91654);let o=t=>{if(!t)return"";try{let e=new Date(t);return(0,a.WU)(e,"h:mm a, dd 'Th\xe1ng' MM, yyyy",{locale:r.vi})}catch(e){return console.error("Invalid date format:",t),t}};function d(t){return(0,i.jsxs)("div",{className:"itemCard-container-dashboardView",children:[(0,i.jsxs)("div",{className:"itemCard-UserName itemcard-UserName-sticky",children:[(0,i.jsxs)("div",{className:"itemCard-UserName-1",children:[(0,i.jsx)(h.default,{src:t.imgUser?t.imgUser:s.Z,alt:"img",width:30,height:30}),(0,i.jsxs)("div",{className:"itemCard-UserName-container",children:[(0,i.jsx)("h4",{className:"username-card",children:t.username}),(0,i.jsx)("p",{style:{margin:"0"},children:o(t.dateTime)})]})]}),(()=>{let e=localStorage.getItem("name");return t.username==e?(0,i.jsx)("div",{className:"itemCard-UserName-1",children:(0,i.jsx)("button",{className:"btn btn-options",onClick:t.removeClick,style:{padding:"0",margin:"0"},children:(0,i.jsx)("i",{className:"fa-solid fa-trash"})})}):null})()]}),(0,i.jsx)("div",{className:"itemCard-baiDich",children:t.baidich})]})}let u=(t,e)=>t?t.split(RegExp("(".concat(e,")"),"gi")).map((t,n)=>t.toLowerCase()===e.toLowerCase()?(0,i.jsx)("span",{style:{color:"red"},children:t},n):t.split("\n").map((t,e,n)=>e===n.length-1?t:(0,i.jsxs)(c.Fragment,{children:[t,(0,i.jsx)("br",{})]},e))):null,g=(t,e)=>{if(!t||!e||0===e.length)return null;let n=RegExp("(".concat(e.join("|"),")"),"gi");return t.split(n).map((t,n)=>e.some(e=>e.toLowerCase()===t.toLowerCase())?(0,i.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:(0,i.jsx)(A.Z,{chineseList:t,isGianthe:!0})},n):(0,i.jsx)(c.Fragment,{children:t.split("\n").map((t,e,a)=>(0,i.jsxs)(c.Fragment,{children:[(0,i.jsx)(A.Z,{chineseList:t,isGianthe:!0}),e<a.length-1&&(0,i.jsx)("br",{})]},"".concat(n,"-").concat(e)))},n))},m=async t=>{try{let e=await l.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=vi&tl=en&q=".concat(encodeURIComponent(t)));if(e.data)return e.data.sentences.filter(t=>t.trans).map(t=>t.trans.trim()).join(" ");return t}catch(e){return console.error("Lỗi khi gọi API:",e),t}},x=async t=>{try{let e=await l.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(t)));if(e.data)return e.data.sentences.filter(t=>t.trans).map(t=>t.trans.trim()).join(" ");return t}catch(e){return console.error("Lỗi khi gọi API:",e),t}},p=async t=>{try{let e=await l.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-TW&tl=vi&q=".concat(encodeURIComponent(t)));if(e.data)return e.data;return t}catch(e){return console.error("Lỗi khi gọi API:",e),t}},j=t=>t&&t.includes("hocdichchuhan.github.io")?t.replace("hocdichchuhan.github.io","tiengtrungdongyang.com"):t,f=async t=>{let e=encodeURIComponent(t),n=await l.Z.get("https://api.hanzii.net/api/search/vi/".concat(e,"?type=word&page=1&limit=2"));return n.data.found?n.data:null},C=()=>{let t=B();return!!t&&"sDHYFpe6CMazPbsZ0mzSyY8d5Ev1"==t},y=()=>!!B(),B=()=>{let t=JSON.parse(localStorage.getItem("userLogin"));return null==t?void 0:t.uid}},45749:function(t,e){"use strict";e.Z={src:"/_next/static/media/user.f64324c2.jpg",height:200,width:200,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAG0E//EABUQAQEAAAAAAAAAAAAAAAAAABMk/9oACAEBAAEFAlo//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwF//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPwF//8QAGBAAAgMAAAAAAAAAAAAAAAAAABIxQWH/2gAIAQEABj8CRqjT/8QAGBAAAgMAAAAAAAAAAAAAAAAAESEAMbH/2gAIAQEAAT8hGkETU//aAAwDAQACAAMAAAAQ+//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABgQAAIDAAAAAAAAAAAAAAAAAAARQZGh/9oACAEBAAE/ELbi5YP/2Q==",blurWidth:8,blurHeight:8}}},function(t){t.O(0,[2800,770,5527,4358,7481,9208,9461,8765,4974,3539,8472,609,6901,6802,1654,4547,2971,7023,1744],function(){return t(t.s=41474)}),_N_E=t.O()}]);