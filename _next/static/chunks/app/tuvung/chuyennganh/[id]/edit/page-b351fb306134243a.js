(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9555],{1028:function(e,n,t){Promise.resolve().then(t.bind(t,66437))},66437:function(e,n,t){"use strict";t.d(n,{default:function(){return m}});var s=t(57437),i=t(2265),a=t(66802),l=t(12808),r=t(19768),c=t(23508),o=t(60516),d=t(65606),h=t(64379),u=t.n(h),A=t(34231),g=t(49516);function m(e){let{id:n}=e,[t,h]=(0,i.useState)(!0),[m,x]=(0,i.useState)(!1),[v,p]=(0,i.useState)(!1),[j,f]=(0,i.useState)(n),[N,b]=(0,i.useState)(""),[y,C]=(0,i.useState)(""),[w,_]=(0,i.useState)([]),[D,S]=(0,i.useState)([]),[k,E]=(0,i.useState)({tieude:"",noidung:""}),T=(0,i.useRef)(null),B=(0,i.useRef)(null),z=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=(0,c.GJ)(),t=(0,c.bg)();p(e),x(t),e||(window.location.href="/chuyennganh/".concat(n)),(async()=>{h(!0);try{let e=(0,o.iH)(d.db,"/users/chuyennganh/".concat(j)),n=await (0,o.U2)(e);if(n.exists()){let e=n.val();if(!e)return;b(e.tieude||""),C(e.html||""),_(e.jsons||[]),S((e.jsons||[]).map(e=>({tieude:e.tieude||"",noidung:e.noidung||""})))}}catch(e){console.error("Lỗi khi lấy dữ liệu:",e)}finally{h(!1)}})()},[]);let I=async()=>{try{let e=(0,o.iH)(d.db,"/users/chuyennganh/".concat(j));console.log(w),await (0,o.t8)(e,{tieude:N,html:y,jsons:w}),u().fire("✅ Th\xe0nh c\xf4ng","Dữ liệu đ\xe3 được lưu.","success")}catch(e){console.error("❌ Lỗi khi lưu:",e),u().fire("❌ Lỗi","C\xf3 lỗi xảy ra khi lưu dữ liệu.","error")}},Z=e=>{if(!D[e].noidung){u().fire("❌ Lỗi","Nội dung Json kh\xf4ng được để trống.","error");return}let n=[...w];n[e].noidung=D[e].noidung,_(n)},O=(e,n)=>{let t=[...w];t[e].tieude=n,_(t)},Q=e=>{u().fire({title:"X\xe1c nhận x\xf3a",text:"Bạn c\xf3 chắc muốn x\xf3a JSON n\xe0y?",icon:"warning",showCancelButton:!0,confirmButtonText:"X\xf3a",cancelButtonText:"Hủy"}).then(n=>{if(n.isConfirmed){let n=w.filter((n,t)=>t!==e),t=D.filter((n,t)=>t!==e);_(n),S(t),u().fire("✅ Đ\xe3 x\xf3a","JSON đ\xe3 được x\xf3a.","success")}})},L=(e,n,t)=>{let s=[...D];s[e]={...s[e],[n]:t},S(s)},U=(e,n)=>{E({...k,[e]:n})};return t?(0,s.jsx)(r.Z,{}):(0,s.jsx)(a.Z,{body:(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)(l.Z,{ref:z,onClick:I,className:"btn btn-success mb-1",children:"\uD83D\uDCBE Lưu dữ liệu"}),(0,s.jsx)(A.Z,{value:j,placeholder:"Nhập ID",onChange:e=>f(e.target.value)}),(0,s.jsx)(A.Z,{value:N,placeholder:"Nhập Ti\xeau Đề",onChange:e=>b(e.target.value)}),(0,s.jsxs)("div",{className:"text-muted",children:["Cho t\xf4i bản giới thiệu từ vựng tiếng Trung về chủ đề ",N,", Cho t\xf4i nhiều icon x\xedu nh\xe9. C\xf3 phần pinyin, dịch nghĩa, v\xed dụ nữa nh\xe9. Phần từ vựng cho t\xf4i khoảng 7 đến 10 từ th\xf4i nh\xe9"]}),(0,s.jsxs)("div",{style:{position:"fixed",top:"50%",right:"10px",display:"flex",flexDirection:"column",gap:"8px",zIndex:9999},children:[(0,s.jsx)(l.Z,{size:"sm",onClick:()=>{var e;return null===(e=z.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},children:"SaveData"}),(0,s.jsx)(l.Z,{size:"sm",onClick:()=>{var e;return null===(e=T.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},children:"html"}),(0,s.jsx)(l.Z,{size:"sm",onClick:()=>{var e;return null===(e=B.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},children:"\uD83D\uDCDA jsons"})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-12 col-md-6 height100vh",children:(0,s.jsx)(A.Z,{value:y,placeholder:"Nhập source Html",onChange:e=>C(e.target.value)})}),(0,s.jsx)("div",{className:"col-12 col-md-6",children:y&&(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:y}})})]}),(0,s.jsxs)("div",{className:"row mb-3",children:[(0,s.jsxs)("div",{ref:B,className:"col-12 col-md-6",children:[(0,s.jsx)(A.Z,{value:k.tieude,placeholder:"Nhập ti\xeau đề JSON mới",onChange:e=>U("tieude",e.target.value)}),(0,s.jsx)(A.Z,{value:k.noidung,placeholder:"Nhập nội dung JSON mới",onChange:e=>U("noidung",e.target.value)}),(0,s.jsx)(l.Z,{onClick:()=>{if(!k.tieude||!k.noidung){u().fire("❌ Lỗi","Ti\xeau đề v\xe0 nội dung kh\xf4ng được để trống.","error");return}let e={tieude:k.tieude,noidung:k.noidung};_([...w,e]),S([...D,e]),E({tieude:"",noidung:""}),u().fire("✅ Th\xe0nh c\xf4ng","Đ\xe3 th\xeam JSON mới.","success")},className:"btn btn-success mb-1",children:"Th\xeam JSON"})]}),(0,s.jsx)("div",{className:"col-12 col-md-6 height100vh"})]}),w.map((e,n)=>{var t;return(0,s.jsxs)("div",{className:"row mb-3",children:[console.log(e),(0,s.jsxs)("div",{className:"col-12 col-md-6",children:[(0,s.jsx)("div",{className:"text-muted",children:"Tạo file json về 30 từ vựng cho chủ đề n\xe0y, cấu tr\xfac json c\xf3: tieng_trung, pinyin, nghia_tieng_viet,vi_du, dich_vi_du, pinyin_vi_du"}),(0,s.jsx)("div",{className:"height50vh",children:(0,s.jsx)(A.Z,{value:e.tieude||"",placeholder:"Nhập ti\xeau đề JSON ".concat(n+1),onChange:e=>O(n,e.target.value)})})]}),(0,s.jsx)("div",{className:"col-12 col-md-6 height80vh",children:(0,s.jsx)("div",{className:"viewJsonData",children:e.tieude&&(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:e.tieude}})})}),(0,s.jsxs)("div",{className:"col-12 col-md-6 height80vh",children:[(0,s.jsx)("div",{className:"height50vh",children:(0,s.jsx)(A.Z,{value:(null===(t=D[n])||void 0===t?void 0:t.noidung)||"",placeholder:"Nhập nội dung JSON ".concat(n+1),onChange:e=>L(n,"noidung",e.target.value)})}),(0,s.jsxs)(l.Z,{onClick:()=>Z(n),className:"btn btn-success mb-1 me-2 mt-2",children:["Cập nhật JSON ",n+1]}),(0,s.jsx)(l.Z,{variant:"danger",size:"sm",className:"me-2 mt-2",onClick:()=>Q(n),children:"X\xf3a"})]}),(0,s.jsx)("div",{className:"col-12 col-md-6 height80vh",children:(0,s.jsx)(g.Z,{jsonData:e.noidung})})]},n)}),0===w.length&&(0,s.jsx)("p",{children:"Chưa c\xf3 JSON n\xe0o."})]})})}},89745:function(e,n,t){"use strict";t.d(n,{M:function(){return l}});let s=null,i=-1,a=!1,l=async e=>{console.log(e);for(let n=0;n<e.length;n++)await r(e[n],n),await c(1e3)},r=(e,n)=>new Promise(n=>{speechSynthesis.speaking&&speechSynthesis.cancel();let t=new SpeechSynthesisUtterance(e);t.lang="zh-CN",t.rate=.7,t.onend=()=>{n()},speechSynthesis.speak(t)}),c=e=>new Promise(n=>setTimeout(n,e));n.Z=(e,n)=>{if(speechSynthesis.speaking&&i!==n&&speechSynthesis.cancel(),i===n){speechSynthesis.speaking&&a?(speechSynthesis.pause(),console.log("pause"),a=!1):(speechSynthesis.resume(),console.log("resume"),a=!0);return}a=!0,(s=new SpeechSynthesisUtterance(e)).lang="zh-CN",s.rate=.7,speechSynthesis.speak(s),i=n,s.onend=()=>{i=-1}}},19768:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var s=t(57437),i=t(2265),a={src:"/_next/static/media/Loading.3170e5c7.gif",height:480,width:475,blurWidth:0,blurHeight:0},l=t(66648);class r extends i.Component{render(){return(0,s.jsx)("div",{className:"loadingData",children:(0,s.jsxs)("div",{className:"loadingData-container",children:[(0,s.jsx)(l.default,{src:a,alt:"Loading...",width:100,height:100}),(0,s.jsx)("h2",{children:"Website đang tải dữ liệu, xin vui l\xf2ng chờ trong gi\xe2y l\xe1t"})]})})}}},34231:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var s=t(57437),i=t(2265);function a(e){let{value:n,onChange:t,className:a="",placeholder:l="",onKeyDown:r}=e,c=(0,i.useRef)(null),o=()=>{let e=c.current;e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")};return(0,i.useEffect)(()=>{o()},[n]),(0,i.useEffect)(()=>{o()},[]),(0,s.jsx)("textarea",{ref:c,className:"form-control ".concat(a),value:n,onChange:t,placeholder:l,rows:1,style:{overflow:"hidden",resize:"none"},onKeyDown:r})}},23508:function(e,n,t){"use strict";t.d(n,{FF:function(){return g},GJ:function(){return j},Gv:function(){return A},LA:function(){return u},PA:function(){return m},Pw:function(){return v},V2:function(){return x},bg:function(){return f},o0:function(){return d},sq:function(){return N},xb:function(){return h},yI:function(){return p}});var s=t(57437),i=t(9782),a=t(31213),l=t(2265),r=t(45749),c=t(66648),o=t(38472);let d=e=>{if(!e)return"";try{let n=new Date(e);return(0,i.WU)(n,"h:mm a, dd 'Th\xe1ng' MM, yyyy",{locale:a.vi})}catch(n){return console.error("Invalid date format:",e),e}};function h(e){return(0,s.jsxs)("div",{className:"itemCard-container-dashboardView",children:[(0,s.jsxs)("div",{className:"itemCard-UserName itemcard-UserName-sticky",children:[(0,s.jsxs)("div",{className:"itemCard-UserName-1",children:[(0,s.jsx)(c.default,{src:e.imgUser?e.imgUser:r.Z,alt:"img",width:30,height:30}),(0,s.jsxs)("div",{className:"itemCard-UserName-container",children:[(0,s.jsx)("h4",{className:"username-card",children:e.username}),(0,s.jsx)("p",{style:{margin:"0"},children:d(e.dateTime)})]})]}),(()=>{let n=localStorage.getItem("name");return e.username==n?(0,s.jsx)("div",{className:"itemCard-UserName-1",children:(0,s.jsx)("button",{className:"btn btn-options",onClick:e.removeClick,style:{padding:"0",margin:"0"},children:(0,s.jsx)("i",{className:"fa-solid fa-trash"})})}):null})()]}),(0,s.jsx)("div",{className:"itemCard-baiDich",children:e.baidich})]})}let u=(e,n)=>e?e.split(RegExp("(".concat(n,")"),"gi")).map((e,t)=>e.toLowerCase()===n.toLowerCase()?(0,s.jsx)("span",{style:{color:"red"},children:e},t):e.split("\n").map((e,n,t)=>n===t.length-1?e:(0,s.jsxs)(l.Fragment,{children:[e,(0,s.jsx)("br",{})]},n))):null,A=(e,n)=>{if(!e||!n||0===n.length)return null;let t=RegExp("(".concat(n.join("|"),")"),"gi");return e.split(t).map((e,t)=>n.some(n=>n.toLowerCase()===e.toLowerCase())?(0,s.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:e},t):e.split("\n").map((e,n,t)=>n===t.length-1?e:(0,s.jsxs)(l.Fragment,{children:[e,(0,s.jsx)("br",{})]},n)))},g=async e=>{try{let n=await o.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=vi&tl=en&q=".concat(encodeURIComponent(e)));if(n.data)return n.data.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");return e}catch(n){return console.error("Lỗi khi gọi API:",n),e}},m=async e=>{try{let n=await o.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-CN&tl=zh-TW&q=".concat(encodeURIComponent(e)));if(n.data)return n.data.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ");return e}catch(n){return console.error("Lỗi khi gọi API:",n),e}},x=async e=>{try{let n=await o.Z.get("https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&dt=bd&dj=1&dt=ex&dt=ld&dt=md&dt=qca&dt=rm&dt=ss&sl=zh-TW&tl=vi&q=".concat(encodeURIComponent(e)));if(n.data)return n.data;return e}catch(n){return console.error("Lỗi khi gọi API:",n),e}},v=e=>e&&e.includes("hocdichchuhan.github.io")?e.replace("hocdichchuhan.github.io","tiengtrungdongyang.com"):e,p=async e=>{let n=encodeURIComponent(e),t=await o.Z.get("https://api.hanzii.net/api/search/vi/".concat(n,"?type=word&page=1&limit=2"));return t.data.found?t.data:null},j=()=>{let e=N();return!!e&&"sDHYFpe6CMazPbsZ0mzSyY8d5Ev1"==e},f=()=>!!N(),N=()=>{let e=JSON.parse(localStorage.getItem("userLogin"));return null==e?void 0:e.uid}},49516:function(e,n,t){"use strict";var s=t(57437),i=t(2265);t(18995);var a=t(65587),l=t.n(a),r=t(23508),c=t(89745),o=t(23830),d=t(12808);let h=e=>e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():"";n.Z=e=>{let{jsonData:n}=e,[t,a]=(0,i.useState)("");if(!n)return(0,s.jsx)("div",{className:"container-fluid py-4",children:(0,s.jsx)("div",{className:"alert alert-warning",role:"alert",children:"Dữ liệu kh\xf4ng hợp lệ hoặc kh\xf4ng c\xf3 dữ liệu để hiển thị."})});let u=JSON.parse(n);if(!Array.isArray(u)||0===u.length)return console.log(u),(0,s.jsx)("div",{className:"container-fluid py-4",children:(0,s.jsx)("div",{className:"alert alert-warning",role:"alert",children:"Dữ liệu kh\xf4ng hợp lệ hoặc kh\xf4ng c\xf3 dữ liệu để hiển thị."})});let A=h(t),g=u.filter(e=>h(e.tieng_trung).includes(A)||h(e.pinyin).includes(A)||h(e.nghia_tieng_viet).includes(A)||h(e.vi_du).includes(A)||h(e.pinyin_vi_du).includes(A)||h(e.dich_vi_du).includes(A));return(0,s.jsxs)("div",{className:"container-fluid py-4",children:[(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)(o.Z.Control,{type:"text",placeholder:"\uD83D\uDD0D T\xecm kiếm từ vựng 中文, pinyin, nghĩa... ",value:t,onChange:e=>a(e.target.value),className:"shadow-sm"})}),(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-hover table-bordered ".concat(l().customTable),children:[(0,s.jsx)("thead",{className:"table-dark",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",children:"STT"}),(0,s.jsx)("th",{scope:"col",children:"Tiếng Trung"}),(0,s.jsx)("th",{scope:"col",children:"Pinyin"}),(0,s.jsx)("th",{scope:"col",children:"Nghĩa tiếng Việt"}),(0,s.jsx)("th",{scope:"col",children:"V\xed dụ"}),(0,s.jsx)("th",{scope:"col",children:"Pinyin v\xed dụ"}),(0,s.jsx)("th",{scope:"col",children:"Dịch v\xed dụ"})]})}),(0,s.jsx)("tbody",{children:g.length>0?g.map((e,n)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"text-center",children:n+1}),(0,s.jsxs)("td",{className:"text-danger tiengtrungText fw-bold fs-4",children:[e.tieng_trung,(0,s.jsx)(d.Z,{className:"btn-phatamthanh ms-2",variant:"outline-info",size:"sm",onClick:()=>(0,c.Z)(e.tieng_trung,n+1),children:"\uD83D\uDD0A"})]}),(0,s.jsx)("td",{className:"text-success",children:e.pinyin}),(0,s.jsx)("td",{children:e.nghia_tieng_viet}),(0,s.jsxs)("td",{className:"tiengtrungText fs-4",children:[(0,r.LA)(e.vi_du,e.tieng_trung),(0,s.jsx)(d.Z,{className:"btn-phatamthanh ms-2",variant:"outline-danger",size:"sm",onClick:()=>(0,c.Z)(e.vi_du,n+10),children:"\uD83D\uDD0A"})]}),(0,s.jsx)("td",{className:"text-success",children:e.pinyin_vi_du}),(0,s.jsx)("td",{children:e.dich_vi_du})]},n)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"7",className:"text-center text-warning",children:"❌ Kh\xf4ng t\xecm thấy kết quả ph\xf9 hợp."})})})]})})]})}},18995:function(){},65587:function(e){e.exports={customTable:"VocabTable_customTable__NdIZh",tiengtrungText:"VocabTable_tiengtrungText__2p4lp","text-success":"VocabTable_text-success__KFTPY","text-danger":"VocabTable_text-danger__AdUBI","table-responsive":"VocabTable_table-responsive__Ao63e"}},45749:function(e,n){"use strict";n.Z={src:"/_next/static/media/user.f64324c2.jpg",height:200,width:200,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAG0E//EABUQAQEAAAAAAAAAAAAAAAAAABMk/9oACAEBAAEFAlo//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwF//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPwF//8QAGBAAAgMAAAAAAAAAAAAAAAAAABIxQWH/2gAIAQEABj8CRqjT/8QAGBAAAgMAAAAAAAAAAAAAAAAAESEAMbH/2gAIAQEAAT8hGkETU//aAAwDAQACAAMAAAAQ+//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABgQAAIDAAAAAAAAAAAAAAAAAAARQZGh/9oACAEBAAE/ELbi5YP/2Q==",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[2866,6610,9960,4358,7481,9208,9461,8765,4974,3539,8472,609,3830,6901,6802,2971,7023,1744],function(){return e(e.s=1028)}),_N_E=e.O()}]);