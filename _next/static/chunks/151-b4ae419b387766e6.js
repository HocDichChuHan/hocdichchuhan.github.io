"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[151],{1409:function(t,e,i){function n(t){let{src:e,width:i,quality:n}=t;return"".concat("").concat(e)}i.r(e),i.d(e,{default:function(){return n}})},2258:function(t,e,i){var n=i(7437);i(2265),e.Z=function(t){return(0,n.jsxs)("div",{className:"form-group dichthuat-formInput",children:[(0,n.jsx)("label",{htmlFor:"",children:t.title}),(0,n.jsx)("input",{type:"text",className:"form-control",name:t.name,id:"","aria-describedby":"helpId",placeholder:t.placeHolder,onChange:t.onChangeHandle,value:t.value,defaultValue:t.defaultValue})]})}},8833:function(t,e,i){var n=i(7437),a=i(2265),c=i(6648);let s=(0,a.memo)(t=>(0,n.jsxs)("div",{className:"itemCard-container",onClick:t.cardClick,onMouseEnter:t.cardClick,children:[(0,n.jsxs)("div",{className:"itemCard-title",children:[(0,n.jsx)("div",{className:"itemCard-img-des"}),(0,n.jsx)(r,{link:t.videoLink})]}),(0,n.jsxs)("div",{className:"itemCard-content",children:[(0,n.jsx)("h3",{className:"itemCard-content-title",children:t.title}),(0,n.jsx)("h4",{className:"itemCard-content-description",children:t.tieudeTiengTrung}),(0,n.jsx)("div",{className:"itemCard-content-author",children:(0,n.jsxs)("div",{className:"itemCard-content-author-container",children:[(0,n.jsx)(c.default,{src:t.imgAuthor||"https://yt3.googleusercontent.com/ytc/AIdro_nevnvE7nYPdcdQLMZgoxJsx1g62U2soHKg3PAG3rQE0g=s160-c-k-c0x00ffffff-no-rj",alt:"img",width:50,height:50}),(0,n.jsx)("a",{href:t.webLink,target:"_blank",rel:"noreferrer",children:(0,n.jsx)("h4",{children:t.author})})]})})]})]}));function r(t){return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)("div",{children:"Loading..."}),children:(0,n.jsx)("iframe",{ref:t.iframeRef,height:t.height,src:t.link,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})}s.displayName="ItemCardYoutube",e.Z=s},1795:function(t,e,i){var n=i(7437),a=i(2265),c=i(2258),s=i(35),r=i(4379),o=i.n(r),l=i(5606),h=i(9768),u=i(8472);class d extends a.Component{componentDidMount(){this.loadLocalData()}render(){return(0,n.jsxs)("div",{className:"col-6",children:[this.state.error&&(0,n.jsxs)("div",{className:"dichthuat-showError",children:['Lỗi: "',this.state.error.message,'"']}),(0,n.jsx)(s.Z,{variant:"info",onClick:this.updateTumoi,children:"Tạo từ mới"}),(0,n.jsx)(s.Z,{variant:"danger",onClick:this.Search,children:"Search"}),(0,n.jsx)(c.Z,{title:"Từ mới",name:"tumoi",placeHolder:"Nhập từ mới",value:this.state.tumoi,onChangeHandle:t=>this.onChangeHandleTuMoi(t,"tumoi")}),(0,n.jsx)(c.Z,{title:"\xc2m H\xe1n Việt",name:"hanviet",placeHolder:"Nhập \xe2m H\xe1n Việt",value:this.state.hanviet,onChangeHandle:t=>this.onChangeHandleTuMoi(t,"hanviet")}),(0,n.jsx)(c.Z,{title:"Pinyin",name:"pinyin",placeHolder:"Nhập pinyin",value:this.state.pinyin,onChangeHandle:t=>this.onChangeHandleTuMoi(t,"pinyin")}),this.state.nghiaList.map((t,e)=>(0,n.jsxs)("div",{className:"nghiaCuaTu card border-primary",children:[(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsx)(c.Z,{title:"Nghĩa ".concat(e+1),name:"nghia",placeHolder:"Nhập nghĩa của từ",value:t.nghia,onChangeHandle:t=>this.onChangeHandle(t,"nghia",e)}),t.vidus.map((t,i)=>(0,n.jsx)("div",{className:"viduCuaTu card border-primary",children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsx)(c.Z,{title:"V\xed dụ ".concat(i+1),name:"vidu",placeHolder:"Nhập V\xed dụ",value:t.vidu,onChangeHandle:t=>this.onChangeHandle(t,"vidu",e,i)}),(0,n.jsx)(c.Z,{title:"\xdd nghĩa v\xed dụ ".concat(i+1),name:"nghiaVidu",placeHolder:"Nhập nghĩa của v\xed dụ",value:t.nghiaVidu,onChangeHandle:t=>this.onChangeHandle(t,"nghiaVidu",e,i)}),(0,n.jsx)(c.Z,{title:"pinyin v\xed dụ ".concat(i+1),name:"pinyinVidu",placeHolder:"Nhập nghĩa của v\xed dụ",value:t.pinyinVidu,onChangeHandle:t=>this.onChangeHandle(t,"pinyinVidu",e,i)}),(0,n.jsx)(s.Z,{variant:"warning",onClick:()=>this.removeVidu(e,i),children:"X\xf3a v\xed dụ n\xe0y"})]})},i)),(0,n.jsx)(s.Z,{variant:"info",onClick:()=>this.addVidu(e),children:"Th\xeam v\xed dụ kh\xe1c"})]}),(0,n.jsx)(s.Z,{variant:"danger",onClick:()=>this.removeNghia(e),children:"X\xf3a nghĩa"})]},e)),(0,n.jsx)(s.Z,{variant:"info",onClick:this.addNghia,style:{width:"100%"},children:"Th\xeam nghĩa kh\xe1c"}),this.state.loading?(0,n.jsx)(h.Z,{}):null]})}constructor(t){super(t),this.onChangeHandleTuMoi=(t,e)=>{this.setState({[e]:t.target.value})},this.getExistValue=async t=>{try{let[t]=await Promise.all([(0,l.eO)("".concat(slug))]);return console.log(t),t}catch(t){console.error("Error fetching existing values:",t)}},this.onChangeHandle=(t,e,i,n)=>{let a=this.state.nghiaList.slice();void 0!==n?a[i].vidus[n][e]=t.target.value:a[i][e]=t.target.value,this.setState({nghiaList:a})},this.updateTumoi=async()=>{this.setState({loading:!0});let{tumoi:t,tumoiFbPath:e,userTuMoiPath:i,nghiaList:n,hanviet:a,pinyin:c}=this.state;try{if(!this.isNhapDayDuText())return;await this.updateTumoiAtPath(i,t,n,a,c),await this.updateTumoiAtPath(e,t,n,a,c),o().fire("Tạo từ mới th\xe0nh c\xf4ng","","success"),this.setState({nav:!0}),this.props.luuBaiDich(),this.props.getDataTumoi(),this.props.scrollBaidich()}catch(t){console.error("Lỗi tạo từ mới:",t),o().fire("Lỗi tạo từ mới: "+t.message,"","info"),this.setState({error:{message:"Lỗi tạo từ mới: "+t.message}})}finally{this.setState({loading:!1})}},this.updateTumoiAtPath=async(t,e,i,n,a)=>{try{if(n){let i="".concat(t,"/").concat(e,"/hanviet"),c="".concat(t,"/").concat(e,"/pinyin");await (0,l.Pf)(i,n),a&&await (0,l.Pf)(c,a)}for(let n=0;n<i.length;n++){let a=i[n];"".concat(t,"/").concat(e,"/nghia/").concat(n,"/pinyin");let c="".concat(t,"/").concat(e,"/nghia/").concat(n,"/nghia");await (0,l.Pf)(c,a.nghia);for(let i=0;i<a.vidus.length;i++){let c=a.vidus[i],s="".concat(t,"/").concat(e,"/nghia/").concat(n,"/vidu/").concat(i,"/nghia"),r="".concat(t,"/").concat(e,"/nghia/").concat(n,"/vidu/").concat(i,"/pinyin"),o="".concat(t,"/").concat(e,"/nghia/").concat(n,"/vidu/").concat(i,"/vidu");await (0,l.Pf)(s,c.nghiaVidu),await (0,l.Pf)(r,c.pinyinVidu),await (0,l.Pf)(o,c.vidu)}}}catch(e){throw console.error("Lỗi khi cập nhật từ mới tại đường dẫn:",t,e),e}},this.loadLocalData=()=>{let t=localStorage.getItem("dichthuat"),e=localStorage.getItem("video"),i=localStorage.getItem("user"),n="/users/dichthuat/".concat(t,"/listBaihoc/").concat(e),a="/users/tumoi/personal/".concat(i),c="".concat(n,"/").concat(i,"/tumoi");this.setState({userTuMoiPath:c,tumoiFbPath:a})},this.isNhapDayDuText=()=>{let{tumoi:t,nghiaList:e}=this.state;for(let i=0;i<e.length;i++){let n=e[i];if(!t||!n.nghia)return o().fire("Vui l\xf2ng điền đầy đủ th\xf4ng tin v\xe0 thử lại","","info"),this.setState({error:{message:"Vui l\xf2ng điền đầy đủ th\xf4ng tin v\xe0 thử lại"}}),!1;for(let t=0;t<n.vidus.length;t++){let e=n.vidus[t];if(!e.vidu||!e.nghiaVidu)return o().fire("Vui l\xf2ng điền đầy đủ th\xf4ng tin v\xe0 thử lại","","info"),this.setState({error:{message:"Vui l\xf2ng điền đầy đủ th\xf4ng tin v\xe0 thử lại"}}),!1}}return!0},this.isValidDichThuat=t=>!/[.#$[\]]/.test(t),this.addNghia=()=>{this.setState(t=>({nghiaList:[...t.nghiaList,{nghia:"",pinyin:"",vidus:[{vidu:"",nghiaVidu:"",pinyinVidu:""}]}]}))},this.removeNghia=t=>{this.setState(e=>{let i=e.nghiaList.slice();return i.splice(t,1),{nghiaList:i}})},this.addVidu=t=>{let e=this.state.nghiaList.slice();e[t].vidus.push({vidu:"",nghiaVidu:"",pinyinVidu:""}),this.setState({nghiaList:e})},this.removeLastVidu=t=>{let e=this.state.nghiaList.slice();e[t].vidus.length>1&&e[t].vidus.pop(),this.setState({nghiaList:e})},this.removeVidu=(t,e)=>{let i=this.state.nghiaList.slice();i[t].vidus.splice(e,1),this.setState({nghiaList:i})},this.Search=async()=>{let{tumoi:t}=this.state,e=encodeURIComponent(t);try{this.setState({loading:!0});let t=await u.Z.get("https://api.hanzii.net/api/search/vi/".concat(e,"?type=word&page=1&limit=50"));if(t.data.found){let e=t.data.result[0].content,i=[];e.forEach(t=>{i=i.concat(t.means)});let n=t.data.result[0].cn_vi,a=t.data.result[0].pinyin,c=i.map(t=>({nghia:t.mean,vidus:t.examples.map(t=>({vidu:t.e,pinyinVidu:t.p,nghiaVidu:t.m}))}));this.setState({nghiaList:c,hanviet:n,pinyin:a})}}catch(t){console.error("Lỗi khi t\xecm kiếm:",t),o().fire("Lỗi khi t\xecm kiếm: "+t.message,"","info"),this.setState({error:{message:"Lỗi khi t\xecm kiếm: "+t.message}})}finally{this.setState({loading:!1})}},this.state={dichthuat:null,error:null,nav:!1,userTuMoiPath:null,nghiaList:[{nghia:"",vidus:[{vidu:"",nghiaVidu:"",pinyinVidu:""}]}],loading:!1,tumoi:"",hanviet:""}}}e.Z=d},9768:function(t,e,i){i.d(e,{Z:function(){return r}});var n=i(7437),a=i(2265),c={src:"/_next/static/media/Loading.3170e5c7.gif",height:480,width:475,blurWidth:0,blurHeight:0},s=i(6648);class r extends a.Component{render(){return(0,n.jsx)("div",{className:"loadingData",children:(0,n.jsxs)("div",{className:"loadingData-container",children:[(0,n.jsx)(s.default,{src:c,alt:"Loading...",width:100,height:100}),(0,n.jsx)("h2",{children:"Website đang tải dữ liệu, xin vui l\xf2ng chờ trong gi\xe2y l\xe1t"})]})})}}},5606:function(t,e,i){i.d(e,{F3:function(){return g},Gd:function(){return p},Je:function(){return r},Pf:function(){return l},Tn:function(){return o},UD:function(){return v},VP:function(){return d},Z6:function(){return u},_g:function(){return h},eO:function(){return m},kX:function(){return y}});var n=i(5236);i(9675);var a=i(516);let c=(0,n.ZF)({apiKey:"AIzaSyD9IyIValBX6xooTZ3wsBPfKsyYvNwAWik",authDomain:"dichchuhan-55a4d.firebaseapp.com",databaseURL:"https://dichchuhan-55a4d-default-rtdb.firebaseio.com",projectId:"dichchuhan-55a4d",storageBucket:"dichchuhan-55a4d.appspot.com",messagingSenderId:"589658521880",appId:"1:589658521880:web:65694d6b4f17f4ca6b1e6d",measurementId:"G-G02KSBMR52"}),s=(0,a.N8)(c);function r(){var t=document.getElementById("fileList").value,e=document.querySelector(".content-right").value,i={[t]:e},n="/users/user1/kecheng/".concat(t),c="/users/user1/contents/".concat(t),r=(0,a.iH)(s,c);(0,a.t8)(r,i).then(()=>{console.log("Dữ liệu b\xe0i dịch đ\xe3 được ghi th\xe0nh c\xf4ng l\xean Firebase.")}).catch(t=>{console.error("Lỗi khi ghi dữ liệu b\xe0i dịch:",t)}),r=(0,a.iH)(s,n),i={[t]:e=document.querySelector(".content-left").value},(0,a.t8)(r,i).then(()=>{console.log("Dữ liệu kecheng đ\xe3 được ghi th\xe0nh c\xf4ng l\xean Firebase.")}).catch(t=>{console.error("Lỗi khi ghi dữ liệu kecheng:",t)})}function o(t){var e={[t]:"".concat(t," phần dịch")},i="/users/user1/kecheng/".concat(t),n="/users/user1/contents/".concat(t),c=(0,a.iH)(s,n);(0,a.t8)(c,e).then(()=>{console.log("Dữ liệu b\xe0i dịch đ\xe3 được ghi th\xe0nh c\xf4ng l\xean Firebase.")}).catch(t=>{console.error("Lỗi khi ghi dữ liệu b\xe0i dịch:",t)}),c=(0,a.iH)(s,i),e={[t]:"".concat(t," 中文")},(0,a.t8)(c,e).then(()=>{console.log("Dữ liệu kecheng đ\xe3 được ghi th\xe0nh c\xf4ng l\xean Firebase.")}).catch(t=>{console.error("Lỗi khi ghi dữ liệu kecheng:",t)})}async function l(t,e){var i=(0,a.iH)(s,t);try{return await (0,a.t8)(i,e),!0}catch(t){throw console.error("C\xf3 lỗi xảy ra:",t),t}}function h(t){var e=(0,a.iH)(s,"/users/user1/contents/".concat(t));(0,a.Od)(e).then(()=>{console.log("Dữ liệu b\xe0i dịch đ\xe3 được x\xf3a th\xe0nh c\xf4ng từ Firebase.")}).catch(t=>{console.error("Lỗi khi x\xf3a dữ liệu b\xe0i dịch:",t)}),e=(0,a.iH)(s,"/users/user1/kecheng/".concat(t)),(0,a.Od)(e).then(()=>{console.log("Dữ liệu kecheng đ\xe3 được x\xf3a th\xe0nh c\xf4ng từ Firebase.")}).catch(t=>{console.error("Lỗi khi x\xf3a dữ liệu kecheng:",t)})}async function u(t){var e=(0,a.iH)(s,t);try{return await (0,a.Od)(e),!0}catch(t){throw console.error("C\xf3 lỗi xảy ra:",t),t}}function d(){var t=document.getElementById("fileList").value,e="/users/user1/kecheng/".concat(t,"/").concat(t),i="/users/user1/contents/".concat(t,"/").concat(t);console.log(e),console.log(g(i)),g(i).then(t=>{null!==t&&(document.querySelector(".content-right").value=t)}).catch(t=>{console.error("C\xf3 lỗi xảy ra:",t)}),g(e).then(t=>{null!==t&&(document.querySelector(".content-left").value=t)}).catch(t=>{console.error("C\xf3 lỗi xảy ra:",t)})}function g(t){return new Promise((e,i)=>{var n=(0,a.iH)(s,t);(0,a.U2)(n).then(t=>{t.exists()?e(t.val()):(console.log("Kh\xf4ng c\xf3 dữ liệu tại đường dẫn n\xe0y."),e(null))}).catch(t=>{console.error("Lỗi khi đọc dữ liệu:",t),i(t)})})}async function m(t){var e=(0,a.iH)(s,t);try{var i=await (0,a.U2)(e);if(i.exists())return i.val();return null}catch(t){return console.error("Lỗi khi đọc dữ liệu:",t),null}}function v(t){return new Promise((e,i)=>{var n=(0,a.iH)(s,t);(0,a.U2)(n).then(t=>{t.exists()?e(Object.entries(t.val()).map(t=>{let[e,i]=t;return{key:e,value:i}})):e(null)}).catch(t=>{console.error("Lỗi khi đọc dữ liệu:",t),i(t)})})}let f="users/user1/contents";async function p(){let t=(0,a.iH)(s,f),e=await (0,a.U2)(t);e.exists()?(x(Object.keys(e.val())),d()):console.log("Kh\xf4ng c\xf3 dữ liệu tại đường dẫn n\xe0y.")}async function y(t){let e=(0,a.iH)(s,f),i=await (0,a.U2)(e);if(i.exists()){var n,c;x(Object.keys(i.val())),n="/users/user1/kecheng/".concat(t,"/").concat(t),c="/users/user1/contents/".concat(t,"/").concat(t),document.getElementById("fileList").value=t,g(c).then(t=>{null!==t&&(document.querySelector(".content-right").value=t)}).catch(t=>{console.error("C\xf3 lỗi xảy ra:",t)}),g(n).then(t=>{null!==t&&(document.querySelector(".content-left").value=t)}).catch(t=>{console.error("C\xf3 lỗi xảy ra:",t)})}else console.log("Kh\xf4ng c\xf3 dữ liệu tại đường dẫn n\xe0y.")}function x(t){let e=document.getElementById("fileList");for(;e.firstChild;)e.removeChild(e.firstChild);t.forEach(t=>{let i=document.createElement("option");i.value=t,i.textContent=t,e.appendChild(i)})}}}]);