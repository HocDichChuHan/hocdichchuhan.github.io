"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9659],{1725:function(e,t,i){i.d(t,{Z:function(){return s}});var n=i(7437);i(2265),i(8708),i(4379),i(5606),i(8833),i(494),i(1795),i(9768);var a=i(7138);function s(e){let{MucLuc:t,hsk:i}=e;if(!t)return null;let s=Object.keys(t);return(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("h5",{className:"mb-3",children:["\uD83D\uDCDA Mục Lục ",i.toUpperCase()]}),(0,n.jsx)("ul",{className:"list-group",children:s.map((e,s)=>{let l=t[e],c=(null==l?void 0:l.tieude)||"Kh\xf4ng c\xf3 ti\xeau đề",r=(null==l?void 0:l.tieudedich)||"";return(0,n.jsx)("li",{className:"list-group-item list-group-item-action p-3",style:{cursor:"pointer"},children:(0,n.jsxs)(a.default,{href:"/hsk/".concat(i,"/").concat(e),className:"text-decoration-none text-dark d-block",children:[(0,n.jsxs)("div",{className:"text-center fw-bold fs-5 mb-1",children:["B\xe0i ",s+1]}),(0,n.jsx)("div",{className:" text-center text-danger fw-bold tiengtrungText",children:c}),(0,n.jsx)("div",{className:"text-center",children:r})]})},e)})})]})}i(6648),i(1243),i(9745),i(3508),i(4109),i(1029),i(9898)},9898:function(e,t,i){var n=i(7437);i(2265),i(9745),i(3508);var a=i(6648);t.Z=e=>{let{nguphap:t}=e;return(0,n.jsxs)("div",{className:"cauhoi-container",children:[(0,n.jsx)("h1",{children:"Mở Rộng"}),t&&t.map((e,t)=>(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("h2",{children:[t+1,". ",e.tieude]}),e.noidung&&(0,n.jsx)("p",{children:e.noidung}),(0,n.jsx)("div",{className:"image-container",children:(0,n.jsx)(a.default,{src:e.src,alt:"H\xecnh ảnh",width:1200,height:1200,layout:"intrinsic",className:"image-styled",style:{objectFit:"contain"}})})]},t))]})}},1029:function(e,t,i){i.d(t,{Z:function(){return w}});var n=i(7437),a=i(2265),s=i(6648),l=i(9745);i(1682);var c=i(7761);i(8472),i(2034);var r="/_next/static/files/correct.mp3",h="/_next/static/files/wrong.mp3",o=i(4379),d=i.n(o),u=i(2808);function g(e){let{tumoi:t,onFinish:i,isGianthe:c}=e,[o,d]=(0,a.useState)([]),[g,m]=(0,a.useState)([]),[x,f]=(0,a.useState)({pinyin:null,hanzi:null}),[p,j]=(0,a.useState)({pinyin:null,hanzi:null,nghia:null,gianthe:null}),[v,b]=(0,a.useState)([]),[N,y]=(0,a.useState)({id:null,hanziId:null,type:null}),[w,S]=(0,a.useState)([]),[C,k]=(0,a.useState)(!1),[M,D]=(0,a.useState)("https://hocdichchuhan.github.io/img/gif/correct4.gif"),[Z,T]=(0,a.useState)(!1),R=(0,a.useRef)(null),L=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(t&&t.length>0){let e=[...t].sort(()=>Math.random()-.5);d(e.map((e,t)=>({...e,id:t}))),m(e.map((e,t)=>({...e,id:t})).sort(()=>Math.random()-.5)),f({pinyin:null,hanzi:null}),b([]),y({id:null,hanziId:null,type:null}),S([]),k(!1)}},[t]);let G=(e,t)=>{let i={...x,[e]:t};f(i),i.pinyin&&i.hanzi&&!Z&&z(i)},z=e=>{var n,a;T(!0);let{pinyin:s,hanzi:c}=e,r=s.id===c.id,h=()=>{T(!1),f({pinyin:null,hanzi:null}),y({id:null,hanziId:null,type:null})};if(r){j(c),D("https://hocdichchuhan.github.io/img/gif/correct".concat(Math.floor(3*Math.random())+1,".gif"));let e=s.id;y({id:e,hanziId:e,type:"correct"}),null===(n=R.current)||void 0===n||n.play(),S(t=>[...t,e]),setTimeout(()=>{(0,l.Z)(c.gianthe,10+c.id)},300),setTimeout(()=>{b(n=>{let a=[...n,e];return a.length===t.length&&(k(!0),setTimeout(()=>{null==i||i()},300)),a}),S(t=>t.filter(t=>t!==e)),h()},500)}else D("https://hocdichchuhan.github.io/img/gif/wrong".concat(Math.floor(5*Math.random())+1,".gif")),y({id:s.id,hanziId:c.id,type:"wrong"}),null===(a=L.current)||void 0===a||a.play(),setTimeout(()=>{h()},800)},B=(e,t)=>{var i;let n=(null===(i=x[t])||void 0===i?void 0:i.id)===e.id,a=v.includes(e.id),s=w.includes(e.id),l="pinyin"===t&&N.id===e.id||"hanzi"===t&&N.hanziId===e.id;return s?"matchedCorrect bg-green-500 border-green-500 text-white":a?"bg-blue-500 border-green-500 text-white":l&&"wrong"===N.type?"matchedWrong border-red-500 animate-shake":l&&"correct"===N.type?"border-green-500 animate-pulse":n?"bg-blue-400 border-blue-400":"bg-black border-gray-500 text-white"};return(0,n.jsxs)("div",{className:"MatchingGameContaniner",children:[(0,n.jsx)("audio",{ref:R,src:r}),(0,n.jsx)("audio",{ref:L,src:h}),(0,n.jsxs)("div",{className:"d-flex row align-items-center justify-content-center",children:[(0,n.jsx)("div",{className:"col-12 col-md-6 MatchingGameContaniner",children:(0,n.jsx)(s.default,{src:M,alt:"Loading...",width:200,height:200,style:{objectFit:"contain"}})}),p.tiengtrung&&(0,n.jsxs)("div",{className:"col-12 col-md-6 MatchingGameContaniner",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2",children:[(0,n.jsx)("h2",{className:"text-danger",children:c?p.gianthe:p.tiengtrung||null}),(0,n.jsx)(u.Z,{lassName:"btn-phatamthanh",variant:"danger",onClick:()=>(0,l.Z)(p.gianthe,3),children:"\uD83D\uDD0A"})]}),(0,n.jsx)("h2",{className:"text-danger",children:p.pinyin||null}),(0,n.jsx)("h2",{className:"text-danger",children:p.nghia||null})]})]}),(0,n.jsxs)("div",{className:"flex flex-col flex justify-center items-center h-full",children:[(0,n.jsx)("h3",{className:"mb-2",children:"Chữ H\xe1n"}),g.map((e,t)=>(0,n.jsx)("button",{className:"relative flex items-center justify-between w-full py-2 px-4 my-1 rounded border transition-all duration-300 ".concat(B(e,"hanzi")),onClick:()=>G("hanzi",e,t),disabled:v.includes(e.id),children:c?e.gianthe:e.tiengtrung},e.id))]}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("h3",{className:"mb-2",children:"Pinyin"}),o.map((e,t)=>(0,n.jsx)("button",{className:"relative flex items-center justify-between w-full py-2 px-4 my-1 rounded border transition-all duration-300 ".concat(B(e,"pinyin")),onClick:()=>G("pinyin",e,t),disabled:v.includes(e.id),children:e.pinyin},e.id))]})]})}function m(e){let{items:t,onFinish:i,isGianthe:c}=e,[o,d]=(0,a.useState)(0),[g,m]=(0,a.useState)(""),[x,f]=(0,a.useState)(""),[p,j]=(0,a.useState)("https://hocdichchuhan.github.io/img/gif/correct4.gif"),[v,b]=(0,a.useState)(!1),N=(0,a.useRef)(null),y=(0,a.useRef)(null),w=t[o],S=t[o-1]||[],C=()=>{var e,n;let a=g.trim(),s=w.tiengtrung.trim(),c=w.gianthe.trim();a===s||a===c?(null===(e=N.current)||void 0===e||e.play(),setTimeout(()=>{(0,l.Z)(w.gianthe,10+o)},300),j("https://hocdichchuhan.github.io/img/gif/correct".concat(Math.floor(3*Math.random())+1,".gif")),f("correct"),setTimeout(()=>{f(""),m(""),o===t.length-1?(d(0),null==i||i()):d(e=>e+1)},1e3)):(null===(n=y.current)||void 0===n||n.play(),j("https://hocdichchuhan.github.io/img/gif/wrong".concat(Math.floor(5*Math.random())+1,".gif")),f("wrong"),setTimeout(()=>f(""),1e3))};return t&&t.length&&t[o]?(0,n.jsxs)("div",{className:"MatchingGameContaniner",children:[(0,n.jsx)("audio",{ref:N,src:r}),(0,n.jsx)("audio",{ref:y,src:h}),(0,n.jsxs)("div",{className:"row align-items-center justify-content-center",style:{width:"100%"},children:[(0,n.jsxs)("div",{className:"col-12 col-md-6 MatchingGameContaniner",children:[(0,n.jsx)(s.default,{src:p,alt:"Loading...",width:200,height:200,style:!0}),(0,n.jsx)("div",{className:"text-xl font-medium",children:w.nghia}),(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"text",value:g,onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"===e.key&&C()},className:"w-full p-2 border rounded-lg outline-none text-xl ".concat("correct"===x||v?"border-green-500":"wrong"===x?"border-red-500":"border-gray-300"),placeholder:"中文..."}),(0,n.jsx)(u.Z,{variant:"primary",className:"ms-1",onClick:C,children:"Kiểm tra"})]}),(0,n.jsx)(u.Z,{variant:"secondary",className:"mt-2",onClick:()=>{b(!0),(0,l.Z)(w.gianthe,1e3+o),m(w.tiengtrung),f("correct"),j("https://hocdichchuhan.github.io/img/gif/correct".concat(Math.floor(3*Math.random())+1,".gif")),setTimeout(()=>{b(!1),f(""),m(""),o===t.length-1?(d(0),null==i||i()):d(e=>e+1)},4e3)},children:"❓ Hiện đ\xe1p \xe1n"}),"correct"===x&&(0,n.jsx)("div",{className:"text-green-600",children:"✅ Đ\xfang rồi!"}),"wrong"===x&&(0,n.jsx)("div",{className:"text-red-600",children:"❌ Sai rồi. Thử lại nh\xe9!"})]}),S.tiengtrung&&(0,n.jsxs)("div",{className:"col-12 col-md-6 MatchingGameContaniner",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2",children:[(0,n.jsx)("h2",{className:"text-danger",children:c?S.gianthe:S.tiengtrung||null}),(0,n.jsx)(u.Z,{variant:"danger",onClick:()=>(0,l.Z)(w.gianthe,o+100),children:"\uD83D\uDD0A"})]}),(0,n.jsx)("h2",{className:"text-danger",children:S.pinyin||null}),(0,n.jsx)("h2",{className:"text-danger",children:S.nghia||null})]})]})]}):(0,n.jsx)("div",{children:"Đang tải dữ liệu..."})}var x=i(2474);let f=e=>e.replace(/[.,!?;:～。！？、，：\s]/g,"").trim();var p=e=>{let{cau:t,isGianthe:i,onNext:c,congdiem:o}=e,[d,g]=(0,a.useState)(!1),[m,p]=(0,a.useState)(""),[j,v]=(0,a.useState)(null),[b,N]=(0,a.useState)(null),y=(0,a.useRef)(null),w=(0,a.useRef)(null),[S,C]=(0,a.useState)("https://hocdichchuhan.github.io/img/gif/correct4.gif"),k=async()=>{var e,i;let n=await (0,x.Z)("CN");p(n),f(n)===f(t.gianthe)?(null===(e=y.current)||void 0===e||e.play(),C("https://hocdichchuhan.github.io/img/gif/correct".concat(Math.floor(3*Math.random())+1,".gif")),setTimeout(()=>{(0,l.Z)(t.gianthe,10)},300),v(!0),setTimeout(()=>{o(),c()},1e3)):(null===(i=w.current)||void 0===i||i.play(),C("https://hocdichchuhan.github.io/img/gif/wrong".concat(Math.floor(5*Math.random())+1,".gif")),v(!1))};return(null==t?void 0:t.ischeck)?(0,n.jsxs)("div",{className:"speech-game MatchingGameContaniner",children:[(0,n.jsx)("audio",{ref:y,src:r}),(0,n.jsx)("audio",{ref:w,src:h}),(0,n.jsxs)("div",{className:"row align-items-center justify-content-center",children:[(0,n.jsx)("div",{className:"col-12 col-md-8 MatchingGameContaniner",children:(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("strong",{className:"tiengtrungText text-danger fs-1",children:i?t.gianthe:t.tiengtrung}),(0,n.jsx)(u.Z,{variant:"success",onClick:()=>(0,l.Z)(t.gianthe,100),children:"\uD83D\uDD0A"}),(0,n.jsx)("p",{className:"fs-2",children:t.pinyin}),(0,n.jsx)("p",{className:"fs-2",children:(0,n.jsx)("em",{children:t.dichnghia})})]})}),(0,n.jsx)("div",{className:"col-12 col-md-4 MatchingGameContaniner",children:(0,n.jsx)(s.default,{src:S,alt:"Loading...",width:200,height:200,style:!0})})]}),(0,n.jsx)("button",{onClick:k,disabled:d,className:"btn btn-primary fs-1",children:"\uD83C\uDF99️ Bắt đầu n\xf3i"}),(0,n.jsxs)("div",{className:"mt-3",children:[m&&(0,n.jsxs)("p",{children:["Bạn n\xf3i: ",(0,n.jsx)("strong",{children:m})]}),!0===j&&(0,n.jsx)("p",{className:"text-success",children:"✅ Ch\xednh x\xe1c!"}),!1===j&&(0,n.jsx)("p",{className:"text-danger",children:"❌ Chưa đ\xfang, h\xe3y thử lại!"})]})]}):null};let j=e=>e.replace(/[.,!?;:～。！？、，：\s]/g,"").trim();function v(e){let{cau:t,isGianthe:i,onNext:c,onPrevious:o,congdiem:d}=e,[g,m]=(0,a.useState)(""),[x,f]=(0,a.useState)(null),[p,v]=(0,a.useState)(!1),b=(0,a.useRef)(null),N=(0,a.useRef)(null),[y,w]=(0,a.useState)("https://hocdichchuhan.github.io/img/gif/correct4.gif"),S=()=>{console.log(t.tiengtrung),(null==t?void 0:t.tiengtrung)&&(0,l.Z)(t.gianthe)},C=()=>{var e;j(t.tiengtrung),j(t.gianthe),null===(e=N.current)||void 0===e||e.play(),w("https://hocdichchuhan.github.io/img/gif/wrong".concat(Math.floor(5*Math.random())+1,".gif")),f(!1),v(!0),setTimeout(()=>(0,l.Z)(t.gianthe,10),300),m("")};return(0,n.jsxs)("div",{className:"MatchingGameContaniner",children:[(0,n.jsx)("audio",{ref:b,src:r}),(0,n.jsx)("audio",{ref:N,src:h}),(0,n.jsxs)("div",{className:"row",style:{width:""},children:[(p||x)&&(0,n.jsxs)("div",{className:"col-12 col-md-6",children:[(0,n.jsx)("strong",{className:"tiengtrungText text-danger fs-1",children:i?t.gianthe:t.tiengtrung}),(0,n.jsx)(u.Z,{variant:"primary",onClick:S,className:"px-4 py-2 rounded mt-3",children:"▶️ Nghe"}),(0,n.jsx)("p",{className:"fs-2",children:t.pinyin}),(0,n.jsx)("p",{className:"fs-2",children:(0,n.jsx)("em",{children:t.dichnghia})})]}),(0,n.jsx)("div",{className:"col-12 col-md-6",children:(0,n.jsx)(s.default,{src:y,alt:"Feedback",width:200,height:200})})]}),!x&&!p&&(0,n.jsx)(u.Z,{variant:"primary",onClick:S,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 mt-3",children:"▶️ Nghe"}),!x&&!p&&(0,n.jsxs)("form",{onSubmit:e=>{var i,n;e.preventDefault();let a=j(g.trim()),s=j(t.tiengtrung),c=j(t.gianthe);a===s||a===c?(null===(i=b.current)||void 0===i||i.play(),w("https://hocdichchuhan.github.io/img/gif/correct".concat(Math.floor(3*Math.random())+1,".gif")),setTimeout(()=>(0,l.Z)(t.gianthe,10),300),f(!0)):(null===(n=N.current)||void 0===n||n.play(),w("https://hocdichchuhan.github.io/img/gif/wrong".concat(Math.floor(5*Math.random())+1,".gif")),f(!1)),m("")},className:"mt-4 MatchingGameContaniner",children:[(0,n.jsx)("input",{type:"text",className:"border border-gray-400 rounded px-3 py-2 text-lg",value:g,onChange:e=>m(e.target.value)}),(0,n.jsx)("br",{}),(0,n.jsx)(u.Z,{variant:"danger",type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2",children:"Kiểm tra"}),(0,n.jsx)(u.Z,{variant:"secondary",onClick:()=>C(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2",children:"Show Kết Quả"})]}),(x||p)&&(0,n.jsxs)("div",{className:"mt-4 flex justify-between gap-4",children:[(0,n.jsx)(u.Z,{variant:"success",onClick:()=>{f(null),null==o||o()},className:"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500",children:"◀️ Trước"}),(0,n.jsx)(u.Z,{variant:"warning",onClick:()=>{f(null),c(),d()},className:"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600",children:"▶️ Tiếp"})]})]})}var b=i(7138);function N(e){let{title:t,link:i,onClose:a}=e;return(0,n.jsx)("div",{className:"loadingData",onClick:()=>{a&&a()},children:(0,n.jsxs)("div",{className:"loadingData-container",onClick:e=>{e.stopPropagation()},children:[(0,n.jsx)(s.default,{src:"https://hocdichchuhan.github.io/img/gif/correct.gif",alt:"Loading...",width:200,height:200,style:{objectFit:"contain"}}),(0,n.jsx)("h2",{children:t}),(0,n.jsx)(b.default,{className:"itemCard-title-luanngu",href:i,target:"_self",children:(0,n.jsx)(u.Z,{className:"btn-phatamthanh",variant:"warning",children:"B\xe0i tiếp theo"})})]})})}var y=i(5606),w=e=>{let{baihoc:t,id:i,nguphaps:s,isGianthe:l,hsk:r,pathBaitap:h}=e,[o,u]=(0,a.useState)(!1),[x,f]=(0,a.useState)([]),j=(0,a.useRef)([]),[b,w]=(0,a.useState)(null),[S,C]=(0,a.useState)(!1),[k,M]=(0,a.useState)(),[D,Z]=(0,a.useState)(),T=(0,a.useRef)(null),[R,L]=(0,a.useState)(0),[G,z]=(0,a.useState)(0),[B,F]=(0,a.useState)(0),[K,E]=(0,a.useState)(0),[V,_]=(0,a.useState)(!1),[A,I]=(0,a.useState)(!1),[O,P]=(0,a.useState)(!1),[H,U]=(0,a.useState)(!1),[W,Q]=(0,a.useState)(!0),[q,J]=(0,a.useState)(0),[X,Y]=(0,a.useState)(0),[$,ee]=(0,a.useState)(0),[et,ei]=(0,a.useState)(0),[en,ea]=(0,a.useState)(0),[es,el]=(0,a.useState)(0),[ec,er]=(0,a.useState)("doc"),eh=i.replace(/b0/gi,""),eo=async(e,t)=>{try{await Promise.all([(0,y.Pf)(e,t)])}catch(t){console.error("Lỗi update:",t);let e={message:"Lỗi update: "+t.message};d().fire(t.message,"","info"),setState(t=>({...t,error:e}))}finally{}};(0,a.useEffect)(()=>{x.length>0&&setTimeout(()=>{j.current.forEach((e,t)=>{if(e){let i=e.getTotalLength();e.style.strokeDasharray=i,e.style.strokeDashoffset=i,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[x]);let ed=async()=>{let e=R+1,i=Math.floor(10*(en+100/t.hoithoai.length))/10;console.log(i),ea(i),await eo("".concat(h,"/doc"),i),e<t.hoithoai.length?L(e):(_(!0),er("viet"))},eu=async()=>{let e=Math.floor(10*(es+100/t.hoithoai.length))/10;el(e),await eo("".concat(h,"/viet"),e);let i=G+1;i<t.hoithoai.length?z(i):(Q(!0),I(!0),er("nghe"))},eg=async()=>{J(0);let e=B+1;e<t.hoithoai.length?F(e):(Q(!0),P(!0))},em=async()=>{var e;let i=Math.floor(10*(et+100/(null===(e=t.hoithoai)||void 0===e?void 0:e.flatMap(e=>e.hthoai||[]).filter(e=>e.ischeck).length)))/10;await eo("".concat(h,"/noi"),i),ei(i)},ex=(e,t)=>e.tumoi?(0,n.jsx)(g,{tumoi:e.tumoi,onFinish:ed,isGianthe:l}):null,ef=(e,t)=>e.tumoi?(0,n.jsx)(m,{items:e.tumoi,onFinish:eu,isGianthe:l}):null,ep=()=>{J(e=>e+1)},ej=(e,t)=>{if(!e.hthoai)return null;let i=e.hthoai.filter(e=>e.ischeck);return q>=i.length?(0,n.jsx)("p",{children:"\uD83C\uDF89 Ho\xe0n th\xe0nh luyện n\xf3i!"}):(0,n.jsx)(p,{cau:i[q],isGianthe:l,onNext:ep,onFinish:eg,congdiem:()=>em()})};(0,a.useEffect)(()=>{var e,i;(null==t?void 0:t.hoithoai)&&t.hoithoai.length>B&&q>=(null===(i=t.hoithoai[B])||void 0===i?void 0:null===(e=i.hthoai)||void 0===e?void 0:e.filter(e=>e.ischeck).length)&&eg()},[q]);let ev=async()=>{Y(0);let e=K+1;e<t.hoithoai.length?E(e):(U(!0),er("noi"))},eb=async()=>{var e;let i=Math.floor(10*($+100/(null===(e=t.hoithoai)||void 0===e?void 0:e.flatMap(e=>e.hthoai||[]).filter(e=>e.ischeck).length)))/10;console.log(i),await eo("".concat(h,"/nghe"),i),ee(i)},eN=()=>{Y(e=>e+1)},ey=()=>{Y(e=>e-1)},ew=(e,t)=>{if(!e.hthoai)return null;let i=e.hthoai.filter(e=>e.ischeck);return(0,n.jsx)(v,{cau:i[X],isGianthe:l,onNext:eN,onPrevious:ey,congdiem:()=>eb()})};(0,a.useEffect)(()=>{var e,i;(null==t?void 0:t.hoithoai)&&t.hoithoai.length>K&&X>=(null===(i=t.hoithoai[K])||void 0===i?void 0:null===(e=i.hthoai)||void 0===e?void 0:e.filter(e=>e.ischeck).length)&&ev()},[X]);let eS=()=>(0,n.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:t.hoithoai[R]&&(0,n.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,n.jsxs)("h2",{children:["B\xe0i tập 1: Kĩ năng đọc: Lựa chọn cặp từ ch\xednh x\xe1c. B\xe0i tập 1.",R+1,":"]}),(0,n.jsx)("hr",{}),(0,n.jsx)("div",{className:"",children:ex(t.hoithoai[R],R)})]})}),eC=()=>(0,n.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:t.hoithoai[G]&&(0,n.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,n.jsxs)("h2",{children:["B\xe0i tập 2: Kĩ năng Viết: Nhập từ tiếng Trung đ\xfang với nghĩa. B\xe0i tập 2.",G+1,":"]}),(0,n.jsx)("hr",{}),ef(t.hoithoai[G])]})}),ek=()=>(0,n.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:t.hoithoai[B]&&(0,n.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,n.jsx)("h2",{children:"B\xe0i tập 4: Luyện n\xf3i: N\xf3i lại c\xe2u tiếng Trung sau đ\xe2y:"}),(0,n.jsx)("hr",{}),ej(t.hoithoai[B],B)]})}),eM=()=>(0,n.jsx)("div",{className:"baihocgiaotiep-hoithoai",children:t.hoithoai[K]&&(0,n.jsxs)("div",{className:"baihocgiaotiep-hoithoai-item",children:[(0,n.jsx)("h2",{children:"B\xe0i tập 3: Luyện nghe: Viết lại từ m\xe0 bạn nghe được:"}),(0,n.jsx)("hr",{}),(0,n.jsxs)("h4",{children:["C\xe2u ",X+1]}),ew(t.hoithoai[K],K)]})});return t?(0,n.jsxs)("div",{className:"baihocgiaotiep-container",children:[(0,n.jsx)("div",{className:"MatchingGameContaniner",children:(0,n.jsxs)("div",{className:"flex gap-2 mb-4 ",children:[(0,n.jsx)("button",{onClick:()=>er("doc"),className:"btn ".concat("doc"===ec?"btn-primary":"btn-outline-secondary"),children:"阅读 - Đọc"}),(0,n.jsx)("button",{onClick:()=>er("viet"),className:"btn ".concat("viet"===ec?"btn-primary":"btn-outline-secondary"),children:"写字 - Viết"}),(0,n.jsx)("button",{onClick:()=>er("nghe"),className:"btn ".concat("nghe"===ec?"btn-primary":"btn-outline-secondary"),children:"听力 - Nghe"}),(0,n.jsx)("button",{onClick:()=>er("noi"),className:"btn ".concat("noi"===ec?"btn-primary":"btn-outline-secondary"),children:"说话 - N\xf3i"})]})}),(()=>{if(O&&W){let e=i.replace(/\d+/,e=>String(Number(e)+1).padStart(e.length,"0"));return(0,n.jsx)(N,{link:"/hsk/".concat(r,"/").concat(e),title:"Ch\xfac mừng bạn đ\xe3 ho\xe0n th\xe0nh b\xe0i tập. C\xf9ng học b\xe0i tiếp theo nh\xe9!",onClose:()=>Q(!1)})}})(),(0,n.jsxs)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-number",children:["B\xe0i ",eh,": "]}),(0,n.jsx)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-tiengtrung tiengtrungText",children:l?t.gianthe:t.tieude}),(0,n.jsxs)("h1",{className:"baihocgiaotiep-title baihocgiaotiep-title-tieude",children:["(",t.tieudedich,")"]}),(0,n.jsx)(c.Z,{showStrokeArea:S,activeCharacter:b,strokes:x,pathsRef:j,isShowImage:o,dataTranslate:D,dataWrite:k,strokeAreaRef:T}),(0,n.jsx)("span",{className:"baihocgiaotiep-pinyin",children:t.tieudepinyin}),(0,n.jsx)("div",{children:(()=>{switch(ec){case"nghe":return(0,n.jsx)(eM,{});case"noi":return(0,n.jsx)(ek,{});case"doc":return(0,n.jsx)(eS,{});case"viet":return(0,n.jsx)(eC,{});default:return null}})()})]}):null}},7220:function(e,t,i){i.d(t,{Z:function(){return c}});var n=i(7437),a=i(2265);i(8708),i(4379);var s=i(5606);i(8833),i(494),i(1795),i(9768),i(7138);var l=i(6648);function c(e){let{hsk:t,id:i}=e,[c,r]=(0,a.useState)([]),[h,o]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{g()},[]);let g=async()=>{let e=[],n="".concat(t,"_").concat(i);try{for(let t of(await (0,s.UD)("/user/account"))){let i=t.key,a=t.value,l="/user/account/".concat(i,"/diem/").concat(n);try{let[t,n,c,r]=await Promise.all([(0,s.eO)("".concat(l,"/nghe")),(0,s.eO)("".concat(l,"/noi")),(0,s.eO)("".concat(l,"/doc")),(0,s.eO)("".concat(l,"/viet"))]);(t||n||c||r)&&e.push({uid:i,name:a.name||"Kh\xf4ng r\xf5 t\xean",photoURL:a.photoURL||"Kh\xf4ng r\xf5 link",diem:{nghe:t||0,noi:n||0,doc:c||0,viet:r||0}})}catch(e){console.warn("Kh\xf4ng thể lấy điểm cho uid: ".concat(i),e)}}return r(e),e}catch(e){return console.error("Lỗi khi lấy dữ liệu tất cả người d\xf9ng:",e),[]}},m=[...c].map(e=>({...e,tong:Math.ceil(e.diem.nghe||0)+Math.ceil(e.diem.noi||0)+Math.ceil(e.diem.doc||0)+Math.ceil(e.diem.viet||0)})).sort((e,t)=>t.tong-e.tong);return(0,n.jsxs)("div",{className:"w-full max-w-md mx-auto mt-4 ",children:[(0,n.jsxs)("h3",{className:"text-lg font-bold text-center mb-4",children:["\uD83C\uDF96 Bảng Điểm B\xe0i ",Number(i.replace(/\D/g,""))," \uD83C\uDF96"]}),(0,n.jsx)("div",{className:"",style:{width:"100%"},children:m.map((e,t)=>(0,n.jsxs)("div",{onClick:()=>u(!d),className:"relative bg-white p-3 rounded-xl shadow flex justify-between items-center group hover:bg-yellow-50 transition",style:{width:"100%",cursor:"pointer"},children:[(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-3",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-3",children:[(0,n.jsx)(l.default,{src:e.photoURL,alt:"avatar",width:"40",height:"40",className:"rounded-circle border border-1"}),(0,n.jsx)("span",{className:"fw-semibold mx-2",children:e.name})]}),(0,n.jsx)("div",{className:"fw-semibold",children:(0,n.jsx)("span",{className:"text-danger fw-bold",children:e.tong})})]})}),d&&(0,n.jsx)("div",{className:"w-100 mt-3",children:(0,n.jsxs)("div",{className:"text-muted small",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{className:"mx-2",children:"\uD83D\uDC42 Nghe: "})," ",Math.ceil(e.diem.nghe||0)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{className:"mx-2",children:"\uD83D\uDDE3 N\xf3i: "})," ",Math.ceil(e.diem.noi||0)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{className:"mx-2",children:"\uD83D\uDCD6 Đọc: "})," ",Math.ceil(e.diem.doc||0)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{className:"mx-2",children:"✍️ Viết: "})," ",Math.ceil(e.diem.viet||0)]})]})})]},e.uid))})]})}i(1243),i(9745),i(3508),i(4109),i(1029),i(9898)},2474:function(e,t,i){i.d(t,{Z:function(){return s}});var n=i(4379),a=i.n(n);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"VN";return new Promise((t,i)=>{if(!("webkitSpeechRecognition"in window)){i("Tr\xecnh duyệt kh\xf4ng hỗ trợ Speech Recognition");return}let n=new window.webkitSpeechRecognition;n.lang=({VN:"vi-VN",CN:"zh-CN"})[e]||"vi-VN",n.continuous=!1,n.interimResults=!1,a().fire({title:"\uD83C\uDFA4 Đang lắng nghe (".concat(e,")"),text:"H\xe3y n\xf3i v\xe0o micro...",allowOutsideClick:!1,allowEscapeKey:!1,didOpen:()=>{a().showLoading(),n.start()}}),n.onresult=e=>{let i=e.results[0][0].transcript;a().close(),t(i)},n.onerror=e=>{a().close(),i(e.error||"Lỗi kh\xf4ng x\xe1c định")},n.onend=()=>{n.resultReceived||(a().close(),i("Kh\xf4ng nghe thấy \xe2m thanh"))}})}}}]);