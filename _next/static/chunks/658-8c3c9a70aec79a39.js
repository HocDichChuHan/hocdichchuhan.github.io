"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{658:function(n,e,a){var i=a(7437),t=a(35),l=a(3508);a(2265),e.Z=n=>{let{nguphaps:e,setNguphap:a}=n;if(!e)return null;let c=async(n,i,t,c)=>{var s;let h=await (0,l.PA)(n),r=await (0,l.V2)(h);if(console.log(r.sentences),!r||!r.sentences||0===r.sentences.length)return;let d=(null===(s=r.sentences[r.sentences.length-1])||void 0===s?void 0:s.src_translit)||"",o=r.sentences.filter(n=>n.trans).map(n=>n.trans.trim()).join(" "),u=[...e],g=[...u[i].cachdung],p=[...g[t].vidu];p[c]={...p[c],pinyin:d},p[c]={...p[c],nghia:o},p[c]={...p[c],tiengtrung:h},g[t]={...g[t],vidu:p},u[i]={...u[i],cachdung:g},a(u)},s=async(n,i,t)=>{let{value:l}=n.target,c=[...e];c[i]={...c[i],[t]:l},a(c)},h=async(n,i)=>{let t=[...e],c=await (0,l.PA)(n);t[i]={...t[i],key:c},a(t)},r=async(n,i,t,l,c)=>{let{value:s}=n.target,h=[...e],r=[...h[i].cachdung],d=[...r[t].vidu];d[l]={...d[l],[c]:s},r[t]={...r[t],vidu:d},h[i]={...h[i],cachdung:r},a(h)},d=(n,i,t,l)=>{let{value:c}=n.target,s=[...e],h=[...s[i].cachdung];h[t]={...h[t],[l]:c},s[i]={...s[i],cachdung:h},a(s)},o=async(n,i)=>{var t,c;let s=await fetchHanziTranslate(i);if(!s||!(null===(c=s.result[0])||void 0===c?void 0:null===(t=c.content[0])||void 0===t?void 0:t.means))return;let h=s.result[0].content[0].means,r=[...e];for(let e of h)if(e.examples){let a=await Promise.all(e.examples.map(async n=>({tiengtrung:n.e?await (0,l.PA)(n.e):"",nghia:n.m||"",pinyin:n.p||""})));r[n].cachdung.push({noidung:e.mean,vidu:a})}else r[n].cachdung.push({noidung:e.mean,vidu:[]});a(r)},u=n=>{let i=[...e];i[n].cachdung=[...i[n].cachdung,{noidung:"",vidu:[]}],a(i)},g=(n,i)=>{let t=[...e];t[n].cachdung[i].vidu.push({tiengtrung:"",nghia:"",pinyin:""}),a(t)},p=n=>{var i=[...e];a(i=i.filter((e,a)=>a!==n))},v=(n,i,t)=>{let l=[...e];l[n].cachdung[i].vidu=l[n].cachdung[i].vidu.filter((n,e)=>e!==t),a(l)},x=(n,i)=>{let t=[...e];t[n].cachdung=t[n].cachdung.filter((n,e)=>e!==i),a(t)};return(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:"Ngữ Ph\xe1p"}),e.length>0&&e.map((n,e)=>(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("label",{htmlFor:"",children:"Từ kh\xf3a"}),(0,i.jsx)(t.Z,{variant:"warning",style:{margin:"10px 30px"},onClick:()=>o(e,n.key),children:"Tạo v\xed dụ"}),(0,i.jsx)(t.Z,{variant:"danger",style:{margin:"10px 30px"},onClick:()=>p(e),children:"X\xf3a Ngữ Ph\xe1p N\xe0y"}),(0,i.jsx)("input",{type:"text",className:"form-control",placeholder:"Nhập từ kh\xf3a Giản Thể",onChange:n=>s(n,e,"keygianthe"),value:n.keygianthe||""}),(0,i.jsx)("input",{type:"text",className:"form-control",placeholder:"Nhập từ kh\xf3a Phồn Thể",onChange:n=>s(n,e,"key"),value:n.key||""}),(0,i.jsx)(t.Z,{variant:"warning",onClick:()=>h(n.keygianthe,e),children:"GetPinyin"}),(0,i.jsx)("input",{type:"text",className:"form-control",placeholder:"Nhập ti\xeau đề",onChange:n=>s(n,e,"tieude"),value:n.tieude||""}),(0,i.jsx)("textarea",{id:"inputnoidung",placeholder:"Ngữ Ph\xe1p",className:"sc-bPyhqo hAGuWh",value:n.noidung,onChange:n=>s(n,e,"noidung"),style:{overflow:"hidden",resize:"none",height:"auto"}}),n.cachdung&&n.cachdung.map((n,a)=>(0,i.jsx)("div",{className:"card border-primary",children:(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,i.jsxs)("h4",{className:"card-title",children:["C\xe1ch d\xf9ng ",a+1]}),(0,i.jsx)(t.Z,{variant:"danger",onClick:()=>x(e,a),children:"X\xf3a C\xe1ch D\xf9ng N\xe0y"})]}),(0,i.jsx)("textarea",{id:"inputnoidung",placeholder:"C\xe1ch d\xf9ng",className:"sc-bPyhqo hAGuWh",value:n.noidung,onChange:n=>d(n,e,a,"noidung"),style:{overflow:"hidden",resize:"none",height:"auto"}}),n.vidu.map((n,l)=>(0,i.jsxs)("div",{children:[(0,i.jsx)(t.Z,{variant:"danger",onClick:()=>v(e,a,l),children:"X\xf3a"}),(0,i.jsx)("input",{type:"text",className:"form-control",placeholder:"中文简体",onChange:n=>r(n,e,a,l,"gianthe"),value:n.gianthe||""}),(0,i.jsx)("input",{type:"text",className:"form-control",placeholder:"中文",onChange:n=>r(n,e,a,l,"tiengtrung"),value:n.tiengtrung||""}),(0,i.jsx)("input",{type:"text",className:"form-control",placeholder:"Pinyin",onChange:n=>r(n,e,a,l,"pinyin"),value:n.pinyin||""}),(0,i.jsx)("input",{type:"text",className:"form-control",placeholder:"Nghĩa",onChange:n=>r(n,e,a,l,"nghia"),value:n.nghia||""}),(0,i.jsx)(t.Z,{variant:"warning",onClick:()=>c(n.gianthe,e,a,l),children:"GetPinyin"}),(0,i.jsx)("hr",{})]},l)),(0,i.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,i.jsx)(t.Z,{variant:"info",onClick:()=>g(e,a),children:"Th\xeam V\xed dụ"}),(0,i.jsx)(t.Z,{variant:"warning",onClick:()=>u(e),children:"Th\xeam c\xe1ch d\xf9ng mới"})]})]})},a))]},e)),(0,i.jsx)(t.Z,{variant:"info",onClick:()=>{a([...e,{key:"",tieude:"",noidung:"",cachdung:[{noidung:"",vidu:[{tiengtrung:"",nghia:"",pinyin:""}]}]}])},children:"Th\xeam Ngữ Ph\xe1p"}),(0,i.jsx)("hr",{})]})}}}]);