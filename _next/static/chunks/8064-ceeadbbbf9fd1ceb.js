(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8064],{87497:function(e,t,a){"use strict";var n=a(57437),s=a(2265),r=a(12808),i=a(66648),o=a(89745),c=a(93444);a(28786),t.Z=e=>{let{activeCharacter:t,imageUrl:a}=e,[l,h]=(0,s.useState)(a),d=()=>{h("".concat(a,"?t=").concat(new Date().getTime()))};return(0,n.jsxs)("div",{className:"d-flex row align-items-center justify-content-center",children:[(0,n.jsxs)("div",{className:"HanziImgContainer ",children:[(0,n.jsxs)("h2",{children:["Viết chữ: ",t]}),(0,n.jsx)(r.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,o.Z)(t,-2),children:"\uD83D\uDD0A"})]}),(0,n.jsxs)("div",{className:"HanziImgContainer_Image mt-3",children:[(0,n.jsx)("div",{className:"HanziImgContainer_ImageSrc",children:(0,n.jsx)(i.default,{className:"image-hanzi",src:l,width:450,height:450,alt:"Hanzi Character"})}),(0,n.jsx)(r.Z,{variant:"primary",onClick:()=>d(),className:"submitButton",style:{position:"absolute",top:10,right:10,padding:"5px 10px",fontSize:"14px",zIndex:10},children:(0,n.jsx)("i",{class:"fa-solid fa-repeat"})}),(0,n.jsx)(c.Z,{})]})]})}},69937:function(e,t,a){"use strict";var n=a(57437);a(2265);var s=a(12808);a(66648);var r=a(89745),i=a(93444);t.Z=e=>{let{activeCharacter:t,strokes:a,pathsRef:o}=e,c=()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e};return(0,n.jsxs)("div",{className:"col-md-6 col-12",children:[(0,n.jsxs)("div",{className:"HanziImgContainer ",children:[(0,n.jsxs)("h2",{children:["Viết chữ: ",t]}),(0,n.jsx)(s.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,r.Z)(t,-2),children:"\uD83D\uDD0A"})]}),(0,n.jsxs)("div",{className:"HanziImgContainer_Image mt-3",children:[(0,n.jsx)("div",{className:"HanziImgContainer_ImageSrc",children:(0,n.jsxs)("div",{className:"HanziImgContainer_ImageSvg",children:[(0,n.jsx)("svg",{className:"HanziImgContainer_Svg450 strokeGuide",viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("g",{transform:"translate(0, 890) scale(1, -1)",children:a.map((e,t)=>(0,n.jsx)("path",{d:e,fill:"none",stroke:"black",strokeOpacity:"0.2",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"},t))})}),(0,n.jsx)("svg",{className:"HanziImgContainer_Svg450 strokeAnimation",viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",style:{color:"#333"},children:(0,n.jsx)("g",{transform:"translate(0, 890) scale(1, -1)",children:a.map((e,t)=>(0,n.jsx)("path",{ref:e=>o.current[t]=e,d:e,fill:"none",stroke:c(),strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"miter",style:{strokeDasharray:"0",strokeDashoffset:"0",color:"#333",backgroundColor:"#555"}},t))})})]})}),(0,n.jsx)(i.Z,{})]})]})}},21682:function(e,t,a){"use strict";var n=a(57437),s=a(2265),r=a(12808),i=a(23508),o=a(89745),c=a(77761),l=a(38472);t.Z=e=>{let{nguphaps:t,isGianthe:a}=e,[h,d]=(0,s.useState)(!1),[u,g]=(0,s.useState)([]),m=(0,s.useRef)([]),[p,k]=(0,s.useState)(null),[x,v]=(0,s.useState)(!1),[j,f]=(0,s.useState)(),[y,w]=(0,s.useState)(),N=(0,s.useRef)(null),[C,D]=(0,s.useState)({}),b=async e=>{try{g([]),k(e),v(!0),await Z(e);let t="https://tiengtrungdongyang.com/huongdanviet/".concat(e.charCodeAt(0),".svg"),a=await I(t),n=await l.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!n.data.found)throw Error("Network response was not ok");let s=await l.Z.get("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=word&page=1&limit=50"));if(!s.data.found)throw Error("Network response was not ok");f(n.data),w(s.data),d(a)}catch(e){console.error("Error fetching Hanzi data:",e)}},Z=async e=>{try{let t=await fetch("https://api.hanzii.net/api/search/vi/".concat(encodeURIComponent(e),"?type=kanji&page=1&limit=3"));if(!t.ok)throw Error("Network response was not ok");let a=await t.json();if(console.log(a),a.found&&a.result.length>0){let e=JSON.parse(a.result[0].strokes);g(e.strokes)}}catch(e){console.error("Error fetching Hanzi data:",e)}};(0,s.useEffect)(()=>{let e=e=>{N.current&&!N.current.contains(e.target)&&(k(null),v(!1))};return x&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[x]),(0,s.useEffect)(()=>{u.length>0&&setTimeout(()=>{m.current.forEach((e,t)=>{if(e){let a=e.getTotalLength();e.style.strokeDasharray=a,e.style.strokeDashoffset=a,e.style.animation="draw 1.5s ease-in-out ".concat(1*t,"s forwards")}})},100)},[u]);let I=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch(e){return console.error("Lỗi khi kiểm tra đường dẫn:",e),!1}},_=(e,t,a)=>{let n="".concat(e,"_").concat(t,"_").concat(a);D(e=>({...e,[n]:!e[n]}))};return t&&0!==t.length?t.map((e,t)=>(0,n.jsxs)("div",{className:"nguphapshow-container",children:[p&&(0,n.jsx)(c.Z,{isGianthe:a,showStrokeArea:x,activeCharacter:p,strokes:u,pathsRef:m,isShowImage:h,dataTranslate:y,dataWrite:j,strokeAreaRef:N}),(0,n.jsxs)("h3",{children:[(0,i.LA)(e.tieude,e.key)," ",(0,i.LA)(e.keygianthe,"Giản Thể: "+(e.keygianthe||""))]}),e.cachdung&&e.cachdung.map((s,c)=>(0,n.jsx)("div",{className:"card border-primary",children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsxs)("h4",{className:"card-title",children:["C\xe1ch d\xf9ng ",e.cachdung.length>1&&c+1,":"]}),(0,n.jsx)("h5",{children:(0,i.LA)(s.noidung,e.key)}),(0,n.jsx)("hr",{}),s.vidu.map((s,l)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"nguphapViduContainer d-flex justify-content-between align-items-center",children:(0,n.jsx)(r.Z,{className:"btn-phatamthanh",variant:"danger",onClick:()=>(0,o.Z)(s.tiengtrung,l+200),children:"\uD83D\uDD0A"})}),(0,n.jsxs)("div",{className:"nguphapVidu chinese-word",children:[!a&&s.tiengtrung&&s.tiengtrung.split("").map((t,a)=>(0,n.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>b(t),children:(0,i.LA)(t||"",e.key)},a)),a&&s.gianthe&&s.gianthe.split("").map((t,a)=>(0,n.jsx)("span",{className:"chinese-char tiengtrungText",onClick:()=>b(t),children:(0,i.LA)(t||"",e.keygianthe)},a))]}),(0,n.jsx)("p",{children:s.pinyin||""}),C["".concat(t,"_").concat(c,"_").concat(l)]&&(0,n.jsx)("p",{children:s.nghia||""}),(0,n.jsx)(r.Z,{variant:C["".concat(t,"_").concat(c,"_").concat(l)]?"primary":"secondary",onClick:()=>_(t,c,l),children:C["".concat(t,"_").concat(c,"_").concat(l)]?"Ẩn nghĩa":"Hiện nghĩa"}),(0,n.jsx)("hr",{})]},l))]})},c))]},t)):null}},77761:function(e,t,a){"use strict";var n=a(57437);a(2265);var s=a(87497),r=a(69937);a(31243),a(93444),t.Z=e=>{let{isGianthe:t,showStrokeArea:a,activeCharacter:i,strokes:o,pathsRef:c,isShowImage:l,dataTranslate:h,dataWrite:d,strokeAreaRef:u}=e;if(!l||!i)return null;let g="https://tiengtrungdongyang.com/huongdanviet/".concat(i.charCodeAt(0),".svg");return(0,n.jsxs)("div",{className:"strokeAreaOverlay",children:[console.log(i),(0,n.jsx)("div",{className:"strokeArea",ref:u,children:(0,n.jsx)("div",{className:"row",children:l?(0,n.jsx)(s.Z,{activeCharacter:i,imageUrl:g}):o&&(0,n.jsx)(r.Z,{activeCharacter:i,strokes:o,pathsRef:c})})})]})}},93444:function(e,t,a){"use strict";var n=a(57437),s=a(2265);class r extends s.Component{render(){return(0,n.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},viewBox:"0 0 500 500",preserveAspectRatio:"none",children:[(0,n.jsx)("rect",{x:"0",y:"0",width:"500",height:"500",fill:"none",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,n.jsx)("line",{x1:"250",y1:"0",x2:"250",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,n.jsx)("line",{x1:"0",y1:"250",x2:"500",y2:"250",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,n.jsx)("line",{x1:"0",y1:"0",x2:"500",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"}),(0,n.jsx)("line",{x1:"500",y1:"0",x2:"0",y2:"500",stroke:"black",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"5,5"})]})}}t.Z=r},27593:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=a(57437);a(2265);var s=a(54887);function r(e){let{show:t,children:a,onClose:r}=e;return t?s.createPortal((0,n.jsx)("div",{className:"overlay-container d-flex align-items-center justify-content-center",onClick:()=>{r()},children:(0,n.jsxs)("div",{className:"overlay-content position-relative bg-white rounded p-3 shadow",onClick:e=>{e.stopPropagation()},children:[(0,n.jsx)("button",{className:"btn-close position-absolute top-0 end-0 m-2",onClick:r}),(0,n.jsx)("div",{className:"overlay-scroll",children:a})]})}),document.body):null}a(24075)},28786:function(){},24075:function(){}}]);