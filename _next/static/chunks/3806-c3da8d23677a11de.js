"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3806],{63806:function(e,n,s){var a=s(57437),l=s(2265),t=s(12808),i=s(62474),c=s(23508),r=s(34231),m=s(64379),o=s.n(m);n.Z=e=>{let{tumoilist:n,setTumoilist:s}=e,[m,d]=(0,l.useState)([]),h=async e=>{let a=await (0,i.Z)("CN"),l=[...n];l[e].gianthe=a,s(l)},p=async(e,a,l)=>{let t=[...n];t[e][a]=l,s(t)},u=async e=>{let a=await (0,i.Z)("VN"),l=[...n];l[e].nghia=a,s(l)},x=e=>{s(n.filter((n,s)=>s!==e))},v=()=>{let e=[...n];e.push({tiengtrung:"",pinyin:"",nghia:"",means:[],structs:[]}),s(e)},g=async(e,a)=>{var l,t,i;let r="",m="",o=[],d=[],h=!1;try{let n=await (0,c.yI)(e);console.log(n),r=n.result[0].cn_vi,m=n.result[0].pinyin;let s=(null==n?void 0:null===(t=n.result)||void 0===t?void 0:null===(l=t[0])||void 0===l?void 0:l.content)||[];o=s.flatMap(e=>(e.means||[]).map(e=>({mean:e.mean||"",explain:e.explain||"",examples:e.examples||[]}))),d=s.flatMap(e=>e.structs||[]),h=!0}catch(e){console.log("dataHanviet: null")}let p=await (0,c.PA)(e);if(!h){let e=await (0,c.V2)(p);if(console.log(e.sentences),!e||!e.sentences||0===e.sentences.length)return;m=(null===(i=e.sentences[e.sentences.length-1])||void 0===i?void 0:i.src_translit)||"",e.sentences.filter(e=>e.trans).map(e=>e.trans.trim()).join(" ")}let u=[...n];u[a].tiengtrung=p,u[a].pinyin=m,u[a].hanviet=r,u[a].means=o,u[a].structs=d,s(u)},j=e=>{try{var a,l;let t=JSON.parse(m[e]),i=Array.isArray(t)?t[0]:t,c=[...n];c[e]={...c[e],gianthe:i.gianthe||"",tiengtrung:i.phonthe||"",pinyin:i.pinyin||"",hanviet:i["H\xe1n Việt"]||"",means:(null===(a=i.means)||void 0===a?void 0:a.map(e=>{var n;let s=Object.keys(e)[0],a=e[s];return{mean:a.mean||"",explain:a.explain||"",examples:(null===(n=a.examples)||void 0===n?void 0:n.map(e=>{let n=Object.keys(e)[0],s=e[n];return{e:s["example tiếng Trung"]||"",p:s["pinyin example"]||"",m:s["nghĩa example"]||""}}))||[]}}))||[],structs:(null===(l=i.structs)||void 0===l?void 0:l.map(e=>{var n;let s=Object.keys(e)[0],a=e[s];return{struct:a["cấu tr\xfac c\xe1ch d\xf9ng"]||"",explain:a["struct explain"]||"",examples:(null===(n=a.examples)||void 0===n?void 0:n.map(e=>{let n=Object.keys(e)[0],s=e[n];return{e:s["example tiếng Trung"]||"",p:s["pinyin example"]||"",m:s["nghĩa example"]||""}}))||[]}}))||[]},s(c),o().fire({icon:"success",title:"✅ Cập nhật từ thứ ".concat(e+1," th\xe0nh c\xf4ng!"),showConfirmButton:!1,timer:500})}catch(n){o().fire({icon:"error",title:"❌ JSON ở \xf4 ".concat(e+1," kh\xf4ng hợp lệ!"),showConfirmButton:!1,timer:500}),console.error(n)}};return(0,a.jsxs)("div",{className:"baihocgiaotiep-tumoi",children:[(0,a.jsx)("h2",{children:"Từ mới"}),(0,a.jsx)("ul",{className:"list-group",children:n&&n.map((e,l)=>(0,a.jsx)("li",{className:"list-group-item mb-3 shadow-sm p-3 rounded",children:(0,a.jsxs)("div",{className:"row g-2 align-items-center",children:[(0,a.jsx)("div",{className:"col-12 col-md-4 text-center",children:(0,a.jsx)(t.Z,{variant:"success",size:"sm",className:"w-100 mb-2",onClick:()=>h(l),children:"Get Voice \uD83C\uDDE8\uD83C\uDDF3"})}),(0,a.jsxs)("div",{className:"col-6 col-md-4",children:[(0,a.jsx)(r.Z,{className:"form-control",placeholder:"D\xe1n JSON Data cho từ thứ ".concat(l+1),value:m[l]||"",onChange:e=>{let n=[...m];n[l]=e.target.value,d(n)}}),(0,a.jsx)(t.Z,{variant:"success",size:"sm",className:"w-100 mb-2 mt-2",onClick:()=>j(l),children:"Update Json Từ mới"})]}),(0,a.jsxs)("div",{className:"col-6 col-md-4",children:["T\xecm kiếm data của từ ".concat(e.gianthe,' th\xe0nh json \n                                            v\xe0 chuyển đổi theo cấu tr\xfac như sau: \n                                            {\n  "gianthe": "",\n  "phonthe": "",\n  "pinyin": "",\n  "H\xe1n Việt": "",\n  "means": [\n    {\n      "0": {\n        "explain": "",\n        "mean": "",\n        "examples": [\n          {\n            "0": {\n              "example tiếng Trung": "",\n              "pinyin example": "",\n              "nghĩa example": ""\n            }\n          }\n        ]\n      }\n    },\n    \n  ],\n  "structs": [\n    {\n      "0": {\n        "cấu tr\xfac c\xe1ch d\xf9ng": "",\n        "struct explain": "",\n        "examples": [\n          {\n            "0": {\n              "example tiếng Trung": "",\n              "pinyin example": "",\n              "nghĩa example": ""\n            }\n          }\n        ]\n      }\n    },\n    \n  ]\n}\n'),(0,a.jsx)("input",{type:"text",className:"form-control text-center fs-5",value:e.gianthe||"",placeholder:"中文简体",onChange:e=>p(l,"gianthe",e.target.value)})]}),(0,a.jsx)("div",{className:"col-6 col-md-4",children:(0,a.jsx)("input",{type:"text",className:"form-control text-center fs-5",value:e.tiengtrung,placeholder:"中文繁體",onChange:e=>p(l,"tiengtrung",e.target.value)})}),(0,a.jsx)("div",{className:"col-6 col-md-4",children:(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Pinyin",value:e.pinyin,onChange:e=>p(l,"pinyin",e.target.value)})}),(0,a.jsx)("div",{className:"col-6 col-md-4",children:(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"H\xe1n Việt",value:e.hanviet,onChange:e=>p(l,"hanviet",e.target.value)})}),(0,a.jsxs)("div",{className:"col-12 mt-3 border-top pt-2",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,a.jsx)("strong",{children:"C\xe1c nghĩa:"}),(0,a.jsx)(t.Z,{size:"sm",variant:"success",onClick:()=>{let e=[...n];e[l].means||(e[l].means=[]),e[l].means.push({mean:"",explain:"",examples:[]}),s(e)},children:"+ Th\xeam nghĩa"})]}),e.means&&e.means.map((e,i)=>(0,a.jsxs)("div",{className:"border rounded p-2 mt-2",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[(0,a.jsxs)("div",{className:"fw-bold",children:["Nghĩa ",i+1]}),(0,a.jsx)(t.Z,{size:"sm",variant:"danger",onClick:()=>{let e=[...n];e[l].means.splice(i,1),s(e)},children:"X\xf3a nghĩa"})]}),(0,a.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Nghĩa tiếng Việt",value:e.mean,onChange:e=>{let a=[...n];a[l].means[i].mean=e.target.value,s(a)}}),(0,a.jsx)(r.Z,{className:"form-control mb-2",placeholder:"Giải th\xedch",value:e.explain,onChange:e=>{let a=[...n];a[l].means[i].explain=e.target.value,s(a)}}),(0,a.jsx)("div",{className:"fw-semibold mb-1",children:"V\xed dụ của nghĩa n\xe0y:"}),(0,a.jsx)(t.Z,{size:"sm",variant:"success",onClick:()=>{let e=[...n];e[l].means[i].examples||(e[l].means[i].examples=[]),e[l].means[i].examples.push({e:"",p:"",m:""}),s(e)},children:"+ Th\xeam v\xed dụ"}),e.examples&&e.examples.map((e,c)=>(0,a.jsxs)("div",{className:"row g-2 align-items-start mt-1",children:[(0,a.jsx)("div",{className:"col-4",children:(0,a.jsx)(r.Z,{className:"form-control",placeholder:"V\xed dụ tiếng Trung",value:e.e,onChange:e=>{let a=[...n];a[l].means[i].examples[c].e=e.target.value,s(a)}})}),(0,a.jsx)("div",{className:"col-3",children:(0,a.jsx)("input",{className:"form-control",placeholder:"Pinyin",value:e.p,onChange:e=>{let a=[...n];a[l].means[i].examples[c].p=e.target.value,s(a)}})}),(0,a.jsx)("div",{className:"col-3",children:(0,a.jsx)("input",{className:"form-control",placeholder:"Nghĩa v\xed dụ",value:e.m,onChange:e=>{let a=[...n];a[l].means[i].examples[c].m=e.target.value,s(a)}})}),(0,a.jsx)("div",{className:"col-2",children:(0,a.jsx)(t.Z,{size:"sm",variant:"danger",onClick:()=>{let e=[...n];e[l].means[i].examples.splice(c,1),s(e)},children:"X\xf3a"})})]},c))]},i))]}),(0,a.jsxs)("div",{className:"col-12 mt-4 border-top pt-3",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,a.jsx)("strong",{children:"Cấu tr\xfac (Structs)"}),(0,a.jsx)(t.Z,{size:"sm",variant:"success",onClick:()=>{let e=[...n];e[l].structs||(e[l].structs=[]),e[l].structs.push({struct:"",explain:"",examples:[]}),s(e)},children:"+ Th\xeam cấu tr\xfac"})]}),e.structs&&e.structs.map((e,i)=>(0,a.jsxs)("div",{className:"border rounded p-2 mt-2",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,a.jsxs)("b",{children:["Cấu tr\xfac ",i+1]}),(0,a.jsx)(t.Z,{size:"sm",variant:"danger",onClick:()=>{let e=[...n];e[l].structs.splice(i,1),s(e)},children:"Xo\xe1 cấu tr\xfac"})]}),(0,a.jsxs)("div",{className:"row g-2 mt-2",children:[(0,a.jsx)("div",{className:"col-6",children:(0,a.jsx)(r.Z,{className:"form-control",placeholder:"Mẫu cấu tr\xfac",value:e.struct,onChange:e=>{let a=[...n];a[l].structs[i].struct=e.target.value,s(a)}})}),(0,a.jsx)("div",{className:"col-6",children:(0,a.jsx)(r.Z,{className:"form-control",placeholder:"Giải th\xedch",value:e.explain,onChange:e=>{let a=[...n];a[l].structs[i].explain=e.target.value,s(a)}})})]}),(0,a.jsx)("div",{className:"fw-semibold mt-2",children:"V\xed dụ:"}),(0,a.jsx)(t.Z,{size:"sm",variant:"success",onClick:()=>{let e=[...n];e[l].structs[i].examples.push({e:"",p:"",m:"",p_cn:"",p_vn:"",type:"e_cnvi"}),s(e)},children:"+ Th\xeam v\xed dụ"}),e.examples&&e.examples.map((e,c)=>(0,a.jsxs)("div",{className:"row g-2 align-items-start mt-1",children:[(0,a.jsx)("div",{className:"col-4",children:(0,a.jsx)(r.Z,{className:"form-control",placeholder:"C\xe2u v\xed dụ tiếng Trung",value:e.e,onChange:e=>{let a=[...n];a[l].structs[i].examples[c].e=e.target.value,s(a)}})}),(0,a.jsx)("div",{className:"col-3",children:(0,a.jsx)("input",{className:"form-control",placeholder:"Pinyin",value:e.p,onChange:e=>{let a=[...n];a[l].structs[i].examples[c].p=e.target.value,s(a)}})}),(0,a.jsx)("div",{className:"col-3",children:(0,a.jsx)("input",{className:"form-control",placeholder:"Nghĩa",value:e.m,onChange:e=>{let a=[...n];a[l].structs[i].examples[c].m=e.target.value,s(a)}})}),(0,a.jsx)("div",{className:"col-2",children:(0,a.jsx)(t.Z,{size:"sm",variant:"danger",onClick:()=>{let e=[...n];e[l].structs[i].examples.splice(c,1),s(e)},children:"X"})})]},c))]},i))]}),(0,a.jsxs)("div",{className:"col-12 mt-3 d-flex flex-wrap gap-2",children:[(0,a.jsx)(t.Z,{variant:"info",size:"sm",onClick:()=>u(l),children:"Get Voice \uD83C\uDDFB\uD83C\uDDF3"}),(0,a.jsx)(t.Z,{variant:"warning",size:"sm",onClick:()=>g(e.gianthe,l),children:"Get Pinyin"}),(0,a.jsx)(t.Z,{variant:"danger",size:"sm",onClick:()=>x(l),children:"X\xf3a từ n\xe0y"})]})]})},l))}),(0,a.jsx)(t.Z,{variant:"info",onClick:()=>v(),children:"Th\xeam Từ Mới"})]})}}}]);